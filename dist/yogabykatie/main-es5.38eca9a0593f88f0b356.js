!function(){function t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||i(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=i(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,s=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw s}}}}function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||i(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s(t,e,n){return(s=d()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&c(i,n.prototype),i}).apply(null,arguments)}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=d();return function(){var n,r=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t,e,n){return e&&y(t.prototype,e),n&&y(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a}));var r=n("30Go"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=Object(r.e)(o.value,2),a=s[1],u=this.normalizeInstanceIdentifier(s[0]);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"30Go":function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return a})),n.d(e,"h",(function(){return u})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return h}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return d}));var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return g})),n.d(e,"c",(function(){return _})),n.d(e,"d",(function(){return w})),n.d(e,"e",(function(){return i})),n.d(e,"f",(function(){return o})),n.d(e,"g",(function(){return a})),n.d(e,"h",(function(){return l})),n.d(e,"i",(function(){return h})),n.d(e,"j",(function(){return d})),n.d(e,"k",(function(){return p})),n.d(e,"l",(function(){return u})),n.d(e,"m",(function(){return c})),n.d(e,"n",(function(){return f})),n.d(e,"o",(function(){return v}));var r=n("30Go");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function v(){return a().indexOf("MSAppHost/")>=0}var y=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,g.prototype.create),o}return Object(r.c)(e,t),e}(Error),g=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?m(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new y(i,a,r);return u},t}();function m(t,e){return t.replace(b,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var b=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new k(t,e);return n.subscribe.bind(n)}var k=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function E(){}},xsWp:function(t,e,n){"use strict";n.r(e),n.d(e,"__PRIVATE_registerFirestore",(function(){return $h}));var r=n("30Go"),i=n("zIRd"),o=n("q/0M"),s=n("qOnz"),a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var c,l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},h=h||{},f=l||self;function d(){}function p(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function v(t){var e=p(t);return"array"==e||"object"==e&&"number"==typeof t.length}function y(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var g="closure_uid_"+(1e9*Math.random()>>>0),m=0;function b(t,e,n){return t.call.apply(t.bind,arguments)}function _(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function w(t,e,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:_).apply(null,arguments)}function k(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var E=Date.now;function S(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t}function C(){this.j=this.j,this.i=this.i}C.prototype.j=!1,C.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,g)&&t[g]||(t[g]=++m)}(this)},C.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var I=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},T=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function O(t){return Array.prototype.concat.apply([],arguments)}function A(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function x(t){return/^[\s\xa0]*$/.test(t)}var N,P=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function D(t,e){return-1!=t.indexOf(e)}function R(t,e){return t<e?-1:t>e?1:0}t:{var j=f.navigator;if(j){var L=j.userAgent;if(L){N=L;break t}}N=""}function M(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function V(t){var e={};for(var n in t)e[n]=t[n];return e}var F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<F.length;o++)n=F[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function q(t){return q[" "](t),t}q[" "]=d;var B,z,H=D(N,"Opera"),G=D(N,"Trident")||D(N,"MSIE"),W=D(N,"Edge"),K=W||G,Q=D(N,"Gecko")&&!(D(N.toLowerCase(),"webkit")&&!D(N,"Edge"))&&!(D(N,"Trident")||D(N,"MSIE"))&&!D(N,"Edge"),Y=D(N.toLowerCase(),"webkit")&&!D(N,"Edge");function Z(){var t=f.document;return t?t.documentMode:void 0}t:{var X="",$=(z=N,Q?/rv:([^\);]+)(\)|;)/.exec(z):W?/Edge\/([\d\.]+)/.exec(z):G?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(z):Y?/WebKit\/(\S+)/.exec(z):H?/(?:Version)[ \/]?(\S+)/.exec(z):void 0);if($&&(X=$?$[1]:""),G){var J=Z();if(null!=J&&J>parseFloat(X)){B=String(J);break t}}B=X}var tt={};function et(t){return function(t,e){var n=tt;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=P(String(B)).split("."),r=P(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=R(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||R(0==s[2].length,0==a[2].length)||R(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var nt=f.document&&G&&(Z()||parseInt(B,10))||void 0,rt=!G||9<=Number(nt),it=G&&!et("9"),ot=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{f.addEventListener("test",d,e),f.removeEventListener("test",d,e)}catch(n){}return t}();function st(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function at(t,e){if(st.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Q){t:{try{q(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ut[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}st.prototype.b=function(){this.defaultPrevented=!0},S(at,st);var ut={2:"touch",3:"pen",4:"mouse"};at.prototype.b=function(){at.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,it)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(sr){}};var ct="closure_listenable_"+(1e6*Math.random()|0),lt=0;function ht(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++lt,this.Y=this.Z=!1}function ft(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function dt(t){this.src=t,this.a={},this.b=0}function pt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=I(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ft(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function vt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}dt.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=vt(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new ht(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var yt="closure_lm_"+(1e6*Math.random()|0),gt={};function mt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=It(r),e&&e[ct]?e.wa(n,r,y(i)?!!i.capture:!!i,o):bt(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)mt(t,e[o],n,r,i);return null}return n=It(n),t&&t[ct]?t.va(e,n,y(r)?!!r.capture:!!r,i):bt(t,e,n,!1,r,i)}function bt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=y(i)?!!i.capture:!!i;if(s&&!rt)return null;var a=St(t);if(a||(t[yt]=a=new dt(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Et,e=rt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ot||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(wt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function _t(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[ct])pt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(wt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=St(e))?(pt(n,t),0==n.b&&(n.src=null,e[yt]=null)):ft(t)}}}function wt(t){return t in gt?gt[t]:gt[t]="on"+t}function kt(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&_t(t),n.call(r,e)}function Et(t,e){if(t.Y)return!0;if(!rt){if(!e)t:{e=["window","event"];for(var n=f,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return kt(t,e=new at(e,this))}return kt(t,new at(e,this))}function St(t){return(t=t[yt])instanceof dt?t:null}var Ct="__closure_events_fn_"+(1e9*Math.random()>>>0);function It(t){return"function"==p(t)?t:(t[Ct]||(t[Ct]=function(e){return t.handleEvent(e)}),t[Ct])}function Tt(){C.call(this),this.c=new dt(this),this.J=this,this.C=null}function Ot(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&pt(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}S(Tt,C),Tt.prototype[ct]=!0,(c=Tt.prototype).addEventListener=function(t,e,n,r){mt(this,t,e,n,r)},c.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=y(i)?!!i.capture:!!i,r=It(r),e&&e[ct]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=vt(s=e.a[n],r,i,o))&&(ft(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=St(e))&&(n=e.a[n.toString()],e=-1,n&&(e=vt(n,r,i,o)),(r=-1<e?n[e]:null)&&_t(r))}(this,t,e,n,r)},c.dispatchEvent=function(t){var e,n=this.C;if(n)for(e=[];n;n=n.C)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t)t=new st(t,n);else if(t instanceof st)t.target=t.target||n;else{var i=t;U(t=new st(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.a=e[o];i=Ot(s,r,!0,t)&&i}if(i=Ot(s=t.a=n,r,!0,t)&&i,i=Ot(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Ot(s=t.a=e[o],r,!1,t)&&i;return i},c.G=function(){if(Tt.S.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ft(n[r]);delete e.a[t],e.b--}}this.C=null},c.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},c.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var At=f.JSON.stringify;function xt(){this.b=this.a=null}var Nt,Pt=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new Rt}),(function(t){t.reset()}),100);function Dt(){var t=Vt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Rt(){this.next=this.b=this.a=null}function jt(t){f.setTimeout((function(){throw t}),0)}function Lt(t,e){Nt||function(){var t=f.Promise.resolve(void 0);Nt=function(){t.then(Ft)}}(),Mt||(Nt(),Mt=!0),Vt.add(t,e)}xt.prototype.add=function(t,e){var n=Pt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Rt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Rt.prototype.reset=function(){this.next=this.b=this.a=null};var Mt=!1,Vt=new xt;function Ft(){for(var t;t=Dt();){try{t.a.call(t.b)}catch(n){jt(n)}var e=Pt;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}Mt=!1}function Ut(t,e){Tt.call(this),this.b=t||1,this.a=e||f,this.f=w(this.Ya,this),this.g=E()}function qt(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Bt(t,e,n){if("function"==p(t))n&&(t=w(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=w(t.handleEvent,t)}return 2147483647<Number(e)?-1:f.setTimeout(t,e||0)}function zt(t){t.a=Bt((function(){t.a=null,t.c&&(t.c=!1,zt(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}S(Ut,Tt),(c=Ut.prototype).aa=!1,c.M=null,c.Ya=function(){if(this.aa){var t=E()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(qt(this),this.start()))}},c.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=E())},c.G=function(){Ut.S.G.call(this),qt(this),delete this.a};var Ht=function(t){function e(e,n,r){var i=t.call(this)||this;return i.g=null!=r?e.bind(r):e,i.h=n,i.b=null,i.c=!1,i.a=null,i}return function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:zt(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(f.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(C);function Gt(t){C.call(this),this.b=t,this.a={}}S(Gt,C);var Wt=[];function Kt(t,e,n,r){Array.isArray(n)||(n&&(Wt[0]=n.toString()),n=Wt);for(var i=0;i<n.length;i++){var o=mt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Qt(t){M(t.a,(function(t,e){this.a.hasOwnProperty(e)&&_t(t)}),t),t.a={}}function Yt(){this.a=!0}function Zt(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return At(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}Gt.prototype.G=function(){Gt.S.G.call(this),Qt(this)},Gt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yt.prototype.info=function(){};var Xt=null;function $t(){return Xt=Xt||new Tt}function Jt(t){st.call(this,"serverreachability",t)}function te(t){var e=$t();e.dispatchEvent(new Jt(e,t))}function ee(t){st.call(this,"statevent",t)}function ne(t){var e=$t();e.dispatchEvent(new ee(e,t))}function re(t){st.call(this,"timingevent",t)}function ie(t,e){if("function"!=p(t))throw Error("Fn must not be null and must be a function");return f.setTimeout((function(){t()}),e)}S(Jt,st),S(ee,st),S(re,st);var oe={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},se={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function ae(){}function ue(){}ae.prototype.a=null;var ce,le={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function he(){st.call(this,"d")}function fe(){st.call(this,"c")}function de(){}function pe(t,e,n,r){this.g=t,this.c=e,this.f=n,this.T=r||1,this.J=new Gt(this),this.P=ve,this.R=new Ut(t=K?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}S(he,st),S(fe,st),S(de,ae),ce=new de;var ve=45e3,ye={},ge={};function me(t,e,n){t.H=1,t.i=Ue(Re(e)),t.j=n,t.I=!0,be(t,null)}function be(t,e){t.u=E(),ke(t),t.l=Re(t.i);var n=t.l,r=t.T;Array.isArray(r)||(r=[String(r)]),Je(n.b,"t",r),t.D=0,t.a=Qn(t.g,t.g.C?e:null),0<t.O&&(t.F=new Ht(w(t.Ca,t,t.a),t.O)),Kt(t.J,t.a,"readystatechange",t.Wa),e=t.B?V(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),te(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.T,t.j)}function _e(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=we(t,n);if(i==ge){4==e&&(t.h=4,ne(14),r=!1),Zt(t.c,t.f,null,"[Incomplete Response]");break}if(i==ye){t.h=4,ne(15),Zt(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Zt(t.c,t.f,i,null),Te(t,i)}4==e&&0==n.length&&(t.h=1,ne(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.W&&(t.W=!0,(e=t.g).a==t&&e.V&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Un(e),e.F=!0)):(Zt(t.c,t.f,n,"[Invalid Chunked Response]"),Ie(t),Ce(t))}function we(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?ge:(n=Number(e.substring(n,r)),isNaN(n)?ye:(r+=1)+n>e.length?ge:(e=e.substr(r,n),t.D=r+n,e))}function ke(t){t.U=E()+t.P,Ee(t,t.P)}function Ee(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=ie(w(t.Ua,t),e)}function Se(t){t.o&&(f.clearTimeout(t.o),t.o=null)}function Ce(t){0==t.g.v||t.A||zn(t.g,t)}function Ie(t){Se(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,qt(t.R),Qt(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Te(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||an(n.b,t)))if(n.I=t.N,!t.C&&an(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(y){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Bn(n),Nn(n)}Fn(n),ne(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=ie(w(n.Ra,n),6e3));if(1>=sn(n.b)&&n.ea){try{n.ea()}catch(y){}n.ea=void 0}}else Gn(n,11)}else if((t.C||n.a==t)&&Bn(n),!x(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(D(l,"spdy")||D(l,"quic")||D(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(un(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Fe(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=E()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Kn(u,u.C?u.ga:null,u.fa),d.C){cn(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(Se(p),ke(p)),u.a=d}else Vn(u);0<n.g.length&&Rn(n)}else"stop"!=i[0]&&"close"!=i[0]||Gn(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Gn(n,7):xn(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);te(4)}catch(y){}}function Oe(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(v(t)||"string"==typeof t)T(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(v(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(v(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ae(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ae)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function xe(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ne(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ne(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ne(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(c=pe.prototype).setTimeout=function(t){this.P=t},c.Wa=function(t){t=t.target;var e=this.F;e&&3==In(t)?e.f():this.Ca(t)},c.Ca=function(t){try{if(t==this.a)t:{var e=In(this.a),n=this.a.ua(),r=this.a.X();if(!(3>e||3==e&&!K&&!this.a.$())){this.A||4!=e||7==n||te(8==n||0>=r?3:2),Se(this);var i=this.a.X();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.T,e,i),this.b){if(this.V&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,ne(12),Ie(this),Ce(this);break t}Zt(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Te(this,u)}this.I?(_e(this,e,o),K&&this.b&&3==e&&(Kt(this.J,this.R,"tick",this.Va),this.R.start())):(Zt(this.c,this.f,o,null),Te(this,o)),4==e&&Ie(this),this.b&&!this.A&&(4==e?zn(this.g,this):(this.b=!1,ke(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,ne(12)):(this.h=0,ne(13)),Ie(this),Ce(this)}}}catch(c){}},c.Va=function(){if(this.a){var t=In(this.a),e=this.a.$();this.D<e.length&&(Se(this),_e(this,t,e),this.b&&4!=t&&ke(this))}},c.cancel=function(){this.A=!0,Ie(this)},c.Ua=function(){this.o=null;var t=E();0<=t-this.U?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(te(3),ne(17)),Ie(this),this.h=2,Ce(this)):Ee(this,this.U-t)},(c=Ae.prototype).K=function(){xe(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},c.L=function(){return xe(this),this.a.concat()},c.get=function(t,e){return Ne(this.b,t)?this.b[t]:e},c.set=function(t,e){Ne(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},c.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Pe=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function De(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof De){this.a=void 0!==e?e:t.a,je(this,t.f),this.j=t.j,Le(this,t.c),Me(this,t.h),this.g=t.g,e=t.b;var n=new Ye;n.c=e.c,e.a&&(n.a=new Ae(e.a),n.b=e.b),Ve(this,n),this.i=t.i}else t&&(n=String(t).match(Pe))?(this.a=!!e,je(this,n[1]||"",!0),this.j=qe(n[2]||""),Le(this,n[3]||"",!0),Me(this,n[4]),this.g=qe(n[5]||"",!0),Ve(this,n[6]||"",!0),this.i=qe(n[7]||"")):(this.a=!!e,this.b=new Ye(null,this.a))}function Re(t){return new De(t)}function je(t,e,n){t.f=n?qe(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Le(t,e,n){t.c=n?qe(e,!0):e}function Me(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Ve(t,e,n){e instanceof Ye?(t.b=e,function(t,e){e&&!t.f&&(Ze(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Xe(this,e),Je(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Be(e,Ke)),t.b=new Ye(e,t.a))}function Fe(t,e,n){t.b.set(e,n)}function Ue(t){return Fe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^E()).toString(36)),t}function qe(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Be(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ze),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ze(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}De.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Be(e,He,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Be(e,He,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Be(n,"/"==n.charAt(0)?We:Ge,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Be(n,Qe)),t.join("")};var He=/[#\/\?@]/g,Ge=/[#\?:]/g,We=/[#\?]/g,Ke=/[#\?@]/g,Qe=/#/g;function Ye(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ze(t){t.a||(t.a=new Ae,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Xe(t,e){Ze(t),e=tn(t,e),Ne(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ne((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&xe(t)))}function $e(t,e){return Ze(t),e=tn(t,e),Ne(t.a.b,e)}function Je(t,e,n){Xe(t,e),0<n.length&&(t.c=null,t.a.set(tn(t,e),A(n)),t.b+=n.length)}function tn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function en(t,e){this.b=t,this.a=e}function nn(t){this.g=t||rn,t=f.PerformanceNavigationTiming?0<(t=f.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(f.ia&&f.ia.ya&&f.ia.ya()&&f.ia.ya().qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(c=Ye.prototype).add=function(t,e){Ze(this),this.c=null,t=tn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},c.forEach=function(t,e){Ze(this),this.a.forEach((function(n,r){T(n,(function(n){t.call(e,n,r,this)}),this)}),this)},c.L=function(){Ze(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},c.K=function(t){Ze(this);var e=[];if("string"==typeof t)$e(this,t)&&(e=O(e,this.a.get(tn(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=O(e,t[n])}return e},c.set=function(t,e){return Ze(this),this.c=null,$e(this,t=tn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},c.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},c.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var rn=10;function on(t){return!!t.b||!!t.a&&t.a.size>=t.f}function sn(t){return t.b?1:t.a?t.a.size:0}function an(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function un(t,e){t.a?t.a.add(e):t.b=e}function cn(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function ln(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=u(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return A(t.c)}function hn(){}function fn(){this.a=new hn}function dn(t,e,n){var r=n||"";try{Oe(t,(function(t,n){var i=t;y(t)&&(i=At(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function pn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}nn.prototype.cancel=function(){var t,e;if(this.c=ln(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=u(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},hn.prototype.stringify=function(t){return f.JSON.stringify(t,void 0)},hn.prototype.parse=function(t){return f.JSON.parse(t,void 0)};var vn=f.JSON.parse;function yn(t){Tt.call(this),this.headers=new Ae,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=gn,this.D=this.F=!1}S(yn,Tt);var gn="",mn=/^https?$/i,bn=["POST","PUT"];function _n(t){return"content-type"==t.toLowerCase()}function wn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,kn(t),Sn(t)}function kn(t){t.u||(t.u=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function En(t){if(t.b&&void 0!==h&&(!t.s[1]||4!=In(t)||2!=t.X()))if(t.l&&4==In(t))Bt(t.za,0,t);else if(t.dispatchEvent("readystatechange"),4==In(t)){t.b=!1;try{var e,n=t.X();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Pe)[1]||null;if(!o&&f.self&&f.self.location){var s=f.self.location.protocol;o=s.substr(0,s.length-1)}i=!mn.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var a=2<In(t)?t.a.statusText:""}catch(u){a=""}t.f=a+" ["+t.X()+"]",kn(t)}}finally{Sn(t)}}}function Sn(t,e){if(t.a){Cn(t);var n=t.a,r=t.s[0]?d:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function Cn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(f.clearTimeout(t.m),t.m=null)}function In(t){return t.a?t.a.readyState:0}function Tn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return M(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Fe(t,e,n))}function On(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function An(t){this.pa=0,this.g=[],this.c=new Yt,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=On("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=On("baseRetryDelayMs",5e3,t),this.Ma=On("retryDelaySeedMs",1e4,t),this.Ja=On("forwardChannelMaxRetries",2,t),this.ma=On("forwardChannelRequestTimeoutMs",2e4,t),this.Ka=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new nn(t&&t.concurrentRequestLimit),this.ka=new fn,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function xn(t){if(Pn(t),3==t.v){var e=t.R++,n=Re(t.B);Fe(n,"SID",t.J),Fe(n,"RID",e),Fe(n,"TYPE","terminate"),Ln(t,n),(e=new pe(t,t.c,e,void 0)).H=2,e.i=Ue(Re(n)),n=!1,f.navigator&&f.navigator.sendBeacon&&(n=f.navigator.sendBeacon(e.i.toString(),"")),!n&&f.Image&&((new Image).src=e.i,n=!0),n||(e.a=Qn(e.g,null),e.a.ba(e.i)),e.u=E(),ke(e)}Wn(t)}function Nn(t){t.a&&(Un(t),t.a.cancel(),t.a=null)}function Pn(t){Nn(t),t.j&&(f.clearTimeout(t.j),t.j=null),Bn(t),t.b.cancel(),t.h&&("number"==typeof t.h&&f.clearTimeout(t.h),t.h=null)}function Dn(t,e){t.g.push(new en(t.La++,e)),3==t.v&&Rn(t)}function Rn(t){on(t.b)||t.h||(t.h=!0,Lt(t.Ba,t),t.u=0)}function jn(t,e){var n;n=e?e.f:t.R++;var r=Re(t.B);Fe(r,"SID",t.J),Fe(r,"RID",n),Fe(r,"AID",t.P),Ln(t,r),t.i&&t.l&&Tn(r,t.i,t.l),n=new pe(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Mn(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),un(t.b,n),me(n,r,e)}function Ln(t,e){t.f&&Oe({},(function(t,n){Fe(e,n,t)}))}function Mn(t,e,n){n=Math.min(t.g.length,n);var r=t.f?w(t.f.Ha,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{dn(l,s,"req"+c+"_")}catch(xr){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Vn(t){t.a||t.j||(t.U=1,Lt(t.Aa,t),t.o=0)}function Fn(t){return!(t.a||t.j||3<=t.o||(t.U++,t.j=ie(w(t.Aa,t),Hn(t,t.o)),t.o++,0))}function Un(t){null!=t.s&&(f.clearTimeout(t.s),t.s=null)}function qn(t){t.a=new pe(t,t.c,"rpc",t.U),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Re(t.la);Fe(e,"RID","rpc"),Fe(e,"SID",t.J),Fe(e,"CI",t.H?"0":"1"),Fe(e,"AID",t.P),Ln(t,e),Fe(e,"TYPE","xmlhttp"),t.i&&t.l&&Tn(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Ue(Re(e)),n.j=null,n.I=!0,be(n,t)}function Bn(t){null!=t.m&&(f.clearTimeout(t.m),t.m=null)}function zn(t,e){var n=null;if(t.a==e){Bn(t),Un(t),t.a=null;var r=2}else{if(!an(t.b,e))return;n=e.s,cn(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=E()-e.u;var i=t.u;(r=$t()).dispatchEvent(new re(r,n,e,i)),Rn(t)}else Vn(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(sn(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.Ia?0:t.Ja)||(t.h=ie(w(t.Ba,t,e),Hn(t,t.u)),t.u++,0)))}(t,e)||2==r&&Fn(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Gn(t,5);break;case 4:Gn(t,10);break;case 3:Gn(t,6);break;default:Gn(t,2)}}function Hn(t,e){var n=t.Fa+Math.floor(Math.random()*t.Ma);return t.f||(n*=2),n*e}function Gn(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=w(t.Xa,t);n||(n=new De("//www.google.com/images/cleardot.gif"),f.location&&"http"==f.location.protocol||je(n,"https"),Ue(n)),function(t,e){var n=new Yt;if(f.Image){var r=new Image;r.onload=k(pn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=k(pn,n,r,"TestLoadImage: error",!1,e),r.onabort=k(pn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=k(pn,n,r,"TestLoadImage: timeout",!1,e),f.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else ne(2);t.v=0,t.f&&t.f.ra(e),Wn(t),Pn(t)}function Wn(t){t.v=0,t.I=-1,t.f&&(0==ln(t.b).length&&0==t.g.length||(t.b.c.length=0,A(t.g),t.g.length=0),t.f.qa())}function Kn(t,e,n){var r=function(t){return t instanceof De?Re(t):new De(t,void 0)}(n);if(""!=r.c)e&&Le(r,e+"."+r.c),Me(r,r.h);else{var i=f.location;r=function(t,e,n,r){var i=new De(null,void 0);return t&&je(i,t),e&&Le(i,e),n&&Me(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.W&&M(t.W,(function(t,e){Fe(r,e,t)})),n=t.na,(e=t.A)&&n&&Fe(r,e,n),Fe(r,"VER",t.ha),Ln(t,r),r}function Qn(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new yn(t.Ka)).F=t.C,e}function Yn(){}function Zn(){if(G&&!(10<=Number(nt)))throw Error("Environmental error: no available transport.")}function Xn(t,e){Tt.call(this),this.a=new An(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!x(t)&&(this.a.i=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!x(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new tr(this)}function $n(t){he.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Jn(){fe.call(this),this.status=1}function tr(t){this.a=t}(c=yn.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:ce),this.a.onreadystatechange=w(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void wn(this,o)}t=n||"";var i=new Ae(this.headers);r&&Oe(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=_n,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=f.FormData&&t instanceof f.FormData,!(0<=I(bn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Cn(this),0<this.o&&((this.D=function(t){return G&&et(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=w(this.xa,this)):this.m=Bt(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){wn(this,o)}},c.xa=function(){void 0!==h&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},c.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Sn(this))},c.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Sn(this,!0)),yn.S.G.call(this)},c.za=function(){this.j||(this.A||this.l||this.g?En(this):this.Ta())},c.Ta=function(){En(this)},c.X=function(){try{return 2<In(this)?this.a.status:-1}catch(z){return-1}},c.$=function(){try{return this.a?this.a.responseText:""}catch(z){return""}},c.Na=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),vn(e)}},c.ua=function(){return this.h},c.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(c=An.prototype).ha=8,c.v=1,c.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new pe(this,this.c,t,void 0),r=this.l;if(this.O&&(r?U(r=V(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Mn(this,n,e),Fe(i=Re(this.B),"RID",t),Fe(i,"CVER",22),this.A&&Fe(i,"X-HTTP-Session-Id",this.A),Ln(this,i),this.i&&r&&Tn(i,this.i,r),un(this.b,n),this.Ga&&Fe(i,"TYPE","init"),this.da?(Fe(i,"$req",e),Fe(i,"SID","null"),n.V=!0,me(n,i,null)):me(n,i,e),this.v=2}}else 3==this.v&&(t?jn(this,t):0==this.g.length||on(this.b)||jn(this))},c.Aa=function(){if(this.j=null,qn(this),this.V&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=ie(w(this.Sa,this),t)}},c.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Nn(this),qn(this))},c.Ra=function(){null!=this.m&&(this.m=null,Nn(this),Fn(this),ne(19))},c.Xa=function(t){t?(this.c.info("Successfully pinged google.com"),ne(2)):(this.c.info("Failed to ping google.com"),ne(1))},(c=Yn.prototype).ta=function(){},c.sa=function(){},c.ra=function(){},c.qa=function(){},c.Ha=function(){},Zn.prototype.a=function(t,e){return new Xn(t,e)},S(Xn,Tt),(c=Xn.prototype).addEventListener=function(t,e,n,r){Xn.S.addEventListener.call(this,t,e,n,r)},c.removeEventListener=function(t,e,n,r){Xn.S.removeEventListener.call(this,t,e,n,r)},c.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var t=this.a,e=this.l,n=this.b||void 0;ne(0),t.fa=e,t.W=n||{},t.H=t.T,t.B=Kn(t,null,t.fa),Rn(t)},c.close=function(){xn(this.a)},c.Pa=function(t){if("string"==typeof t){var e={};e.__data__=t,Dn(this.a,e)}else this.g?((e={}).__data__=At(t),Dn(this.a,e)):Dn(this.a,t)},c.G=function(){this.a.f=null,delete this.f,xn(this.a),delete this.a,Xn.S.G.call(this)},S($n,he),S(Jn,fe),S(tr,Yn),tr.prototype.ta=function(){this.a.dispatchEvent("a")},tr.prototype.sa=function(t){this.a.dispatchEvent(new $n(t))},tr.prototype.ra=function(t){this.a.dispatchEvent(new Jn(t))},tr.prototype.qa=function(){this.a.dispatchEvent("b")},Zn.prototype.createWebChannel=Zn.prototype.a,Xn.prototype.send=Xn.prototype.Pa,Xn.prototype.open=Xn.prototype.Oa,Xn.prototype.close=Xn.prototype.close,oe.NO_ERROR=0,oe.TIMEOUT=8,oe.HTTP_ERROR=6,se.COMPLETE="complete",ue.EventType=le,le.OPEN="a",le.CLOSE="b",le.ERROR="c",le.MESSAGE="d",Tt.prototype.listen=Tt.prototype.va,yn.prototype.listenOnce=yn.prototype.wa,yn.prototype.getLastError=yn.prototype.Qa,yn.prototype.getLastErrorCode=yn.prototype.ua,yn.prototype.getStatus=yn.prototype.X,yn.prototype.getResponseJson=yn.prototype.Na,yn.prototype.getResponseText=yn.prototype.$,yn.prototype.send=yn.prototype.ba;var er=oe,nr=se,rr=ue,ir=yn,or=n("/6Yf"),sr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ar=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(r.c)(e,t),e}(Error),ur=new o.b("@firebase/firestore");function cr(){return ur.logLevel}function lr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ur.logLevel<=o.a.DEBUG){var i=e.map(dr);ur.debug.apply(ur,Object(r.g)(["Firestore (8.0.0): "+t],i))}}function hr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ur.logLevel<=o.a.ERROR){var i=e.map(dr);ur.error.apply(ur,Object(r.g)(["Firestore (8.0.0): "+t],i))}}function fr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ur.logLevel<=o.a.WARN){var i=e.map(dr);ur.warn.apply(ur,Object(r.g)(["Firestore (8.0.0): "+t],i))}}function dr(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function pr(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.0.0) INTERNAL ASSERTION FAILED: "+t;throw hr(e),new Error(e)}function vr(t,e){t||pr()}function yr(t,e){return t}function gr(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var mr=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=gr(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function br(t,e){return t<e?-1:t>e?1:0}function _r(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function wr(t){return t+"\0"}var kr=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.h=function(t){return br(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();kr.u=new kr("");var Er=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(kr.fromBase64String(e))}catch(e){throw new ar(sr.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(kr.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}();function Sr(){if("undefined"==typeof Uint8Array)throw new ar(sr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Cr(){if("undefined"==typeof atob)throw new ar(sr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Ir=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.fromBase64String=function(t){Cr();try{return new e(kr.fromBase64String(t))}catch(t){throw new ar(sr.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},e.fromUint8Array=function(t){return Sr(),new e(kr.fromUint8Array(t))},e.prototype.toBase64=function(){return Cr(),t.prototype.toBase64.call(this)},e.prototype.toUint8Array=function(){return Sr(),t.prototype.toUint8Array.call(this)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Er),Tr=function(t,e,n,r,i,o){this._=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.T=o},Or=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"I",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.h=function(t){return br(this.projectId,t.projectId)||br(this.database,t.database)},t}();function Ar(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xr(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Nr(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Pr=function(){function t(t,e){this.m=t,this.A=e,this.R={}}return t.prototype.get=function(t){var e=this.m(t),n=this.R[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.A(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.m(t),r=this.R[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.A(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.R[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.m(t),n=this.R[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.A(n[r][0],t))return 1===n.length?delete this.R[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){xr(this.R,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.P=function(){return Nr(this.R)},t}(),Dr=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ar(sr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ar(sr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ar(sr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ar(sr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.g=function(t){return this.seconds===t.seconds?br(this.nanoseconds,t.nanoseconds):br(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Rr=function(){function t(t){this.timestamp=t}return t.V=function(e){return new t(e)},t.min=function(){return new t(new Dr(0,0))},t.prototype.h=function(t){return this.timestamp.g(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.p=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.v=function(){return this.timestamp},t}(),jr=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&pr(),void 0===n?n=t.length-e:n>t.length-e&&pr(),this.segments=t,this.offset=e,this.S=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.S},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.D(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.C(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.N=function(t){return this.C(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.F=function(){return this.C(this.segments,this.offset,this.length-1)},t.prototype.k=function(){return this.segments[this.offset]},t.prototype.O=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.P=function(){return 0===this.length},t.prototype.M=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.$=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.L=function(){return this.segments.slice(this.offset,this.limit())},t.D=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Lr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.C=function(t,n,r){return new e(t,n,r)},e.prototype.B=function(){return this.L().join("/")},e.prototype.toString=function(){return this.B()},e.q=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new ar(sr.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.U=function(){return new e([])},e}(jr),Mr=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Vr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.C=function(t,n,r){return new e(t,n,r)},e.K=function(t){return Mr.test(t)},e.prototype.B=function(){return this.L().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.K(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.B()},e.prototype.W=function(){return 1===this.length&&"__name__"===this.get(0)},e.j=function(){return new e(["__name__"])},e.G=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new ar(sr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new ar(sr.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new ar(sr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ar(sr.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.U=function(){return new e([])},e}(jr),Fr=function(){function t(t){this.path=t}return t.H=function(e){return new t(Lr.q(e))},t.J=function(e){return new t(Lr.q(e).N(5))},t.prototype.Y=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Lr.D(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.D=function(t,e){return Lr.D(t.path,e.path)},t.X=function(t){return t.length%2==0},t.Z=function(e){return new t(new Lr(e.slice()))},t}();function Ur(t){return null==t}function qr(t){return 0===t&&1/t==-1/0}function Br(t){return"number"==typeof t&&Number.isInteger(t)&&!qr(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var zr=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.tt=null};function Hr(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new zr(t,e,n,r,i,o,s)}function Gr(t){var e=yr(t);if(null===e.tt){var n=e.path.B();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.B()+t.op.toString()+ji(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.B()+e.dir;var e})).join(","),Ur(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Ms(e.startAt)),e.endAt&&(n+="|ub:",n+=Ms(e.endAt)),e.tt=n}return e.tt}function Wr(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Bs(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Ni(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Fs(t.startAt,e.startAt)&&Fs(t.endAt,e.endAt)}function Kr(t){return Fr.X(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Qr,Yr,Zr=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Rr.min()),void 0===o&&(o=Rr.min()),void 0===s&&(s=kr.u),this.target=t,this.targetId=e,this.et=n,this.sequenceNumber=r,this.nt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.st=function(e){return new t(this.target,this.targetId,this.et,e,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.it=function(e,n){return new t(this.target,this.targetId,this.et,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.rt=function(e){return new t(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,e,this.resumeToken)},t}(),Xr=function(t){this.count=t};function $r(t){switch(t){case sr.OK:return pr();case sr.CANCELLED:case sr.UNKNOWN:case sr.DEADLINE_EXCEEDED:case sr.RESOURCE_EXHAUSTED:case sr.INTERNAL:case sr.UNAVAILABLE:case sr.UNAUTHENTICATED:return!1;case sr.INVALID_ARGUMENT:case sr.NOT_FOUND:case sr.ALREADY_EXISTS:case sr.PERMISSION_DENIED:case sr.FAILED_PRECONDITION:case sr.ABORTED:case sr.OUT_OF_RANGE:case sr.UNIMPLEMENTED:case sr.DATA_LOSS:return!0;default:return pr()}}function Jr(t){if(void 0===t)return hr("GRPC error has no .code"),sr.UNKNOWN;switch(t){case Qr.OK:return sr.OK;case Qr.CANCELLED:return sr.CANCELLED;case Qr.UNKNOWN:return sr.UNKNOWN;case Qr.DEADLINE_EXCEEDED:return sr.DEADLINE_EXCEEDED;case Qr.RESOURCE_EXHAUSTED:return sr.RESOURCE_EXHAUSTED;case Qr.INTERNAL:return sr.INTERNAL;case Qr.UNAVAILABLE:return sr.UNAVAILABLE;case Qr.UNAUTHENTICATED:return sr.UNAUTHENTICATED;case Qr.INVALID_ARGUMENT:return sr.INVALID_ARGUMENT;case Qr.NOT_FOUND:return sr.NOT_FOUND;case Qr.ALREADY_EXISTS:return sr.ALREADY_EXISTS;case Qr.PERMISSION_DENIED:return sr.PERMISSION_DENIED;case Qr.FAILED_PRECONDITION:return sr.FAILED_PRECONDITION;case Qr.ABORTED:return sr.ABORTED;case Qr.OUT_OF_RANGE:return sr.OUT_OF_RANGE;case Qr.UNIMPLEMENTED:return sr.UNIMPLEMENTED;case Qr.DATA_LOSS:return sr.DATA_LOSS;default:return pr()}}(Yr=Qr||(Qr={}))[Yr.OK=0]="OK",Yr[Yr.CANCELLED=1]="CANCELLED",Yr[Yr.UNKNOWN=2]="UNKNOWN",Yr[Yr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yr[Yr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yr[Yr.NOT_FOUND=5]="NOT_FOUND",Yr[Yr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yr[Yr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yr[Yr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yr[Yr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yr[Yr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yr[Yr.ABORTED=10]="ABORTED",Yr[Yr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yr[Yr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yr[Yr.INTERNAL=13]="INTERNAL",Yr[Yr.UNAVAILABLE=14]="UNAVAILABLE",Yr[Yr.DATA_LOSS=15]="DATA_LOSS";var ti=function(){function t(t,e){this.D=t,this.root=e||ni.EMPTY}return t.prototype.ot=function(e,n){return new t(this.D,this.root.ot(e,n,this.D).copy(null,null,ni.at,null,null))},t.prototype.remove=function(e){return new t(this.D,this.root.remove(e,this.D).copy(null,null,ni.at,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.P();){var n=this.D(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.P();){var r=this.D(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.P=function(){return this.root.P()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.ht=function(){return this.root.ht()},t.prototype.ct=function(){return this.root.ct()},t.prototype.ut=function(t){return this.root.ut(t)},t.prototype.forEach=function(t){this.ut((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ut((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.lt=function(t){return this.root.lt(t)},t.prototype._t=function(){return new ei(this.root,null,this.D,!1)},t.prototype.ft=function(t){return new ei(this.root,t,this.D,!1)},t.prototype.dt=function(){return new ei(this.root,null,this.D,!0)},t.prototype.wt=function(t){return new ei(this.root,t,this.D,!0)},t}(),ei=function(){function t(t,e,n,r){this.Et=r,this.Tt=[];for(var i=1;!t.P();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.Et?t.left:t.right;else{if(0===i){this.Tt.push(t);break}this.Tt.push(t),t=this.Et?t.right:t.left}}return t.prototype.It=function(){var t=this.Tt.pop(),e={key:t.key,value:t.value};if(this.Et)for(t=t.left;!t.P();)this.Tt.push(t),t=t.right;else for(t=t.right;!t.P();)this.Tt.push(t),t=t.left;return e},t.prototype.At=function(){return this.Tt.length>0},t.prototype.Rt=function(){if(0===this.Tt.length)return null;var t=this.Tt[this.Tt.length-1];return{key:t.key,value:t.value}},t}(),ni=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.P=function(){return!1},t.prototype.ut=function(t){return this.left.ut(t)||t(this.key,this.value)||this.right.ut(t)},t.prototype.lt=function(t){return this.right.lt(t)||t(this.key,this.value)||this.left.lt(t)},t.prototype.min=function(){return this.left.P()?this:this.left.min()},t.prototype.ht=function(){return this.min().key},t.prototype.ct=function(){return this.right.P()?this.key:this.right.ct()},t.prototype.ot=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.ot(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.ot(t,e,n))).Pt()},t.prototype.gt=function(){if(this.left.P())return t.EMPTY;var e=this;return e.left.Vt()||e.left.left.Vt()||(e=e.yt()),(e=e.copy(null,null,null,e.left.gt(),null)).Pt()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.P()||i.left.Vt()||i.left.left.Vt()||(i=i.yt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.Vt()&&(i=i.bt()),i.right.P()||i.right.Vt()||i.right.left.Vt()||(i=i.vt()),0===n(e,i.key)){if(i.right.P())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.gt())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Pt()},t.prototype.Vt=function(){return this.color},t.prototype.Pt=function(){var t=this;return t.right.Vt()&&!t.left.Vt()&&(t=t.St()),t.left.Vt()&&t.left.left.Vt()&&(t=t.bt()),t.left.Vt()&&t.right.Vt()&&(t=t.Dt()),t},t.prototype.yt=function(){var t=this.Dt();return t.right.left.Vt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.bt())).St()).Dt()),t},t.prototype.vt=function(){var t=this.Dt();return t.left.left.Vt()&&(t=(t=t.bt()).Dt()),t},t.prototype.St=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.bt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Dt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ct=function(){var t=this.Nt();return Math.pow(2,t)<=this.size+1},t.prototype.Nt=function(){if(this.Vt()&&this.left.Vt())throw pr();if(this.right.Vt())throw pr();var t=this.left.Nt();if(t!==this.right.Nt())throw pr();return t+(this.Vt()?0:1)},t}();ni.EMPTY=null,ni.RED=!0,ni.at=!1,ni.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw pr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw pr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw pr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw pr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw pr()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.ot=function(t,e,n){return new ni(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.P=function(){return!0},t.prototype.ut=function(t){return!1},t.prototype.lt=function(t){return!1},t.prototype.ht=function(){return null},t.prototype.ct=function(){return null},t.prototype.Vt=function(){return!1},t.prototype.Ct=function(){return!0},t.prototype.Nt=function(){return 0},t}());var ri=function(){function t(t){this.D=t,this.data=new ti(this.D)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.ht()},t.prototype.last=function(){return this.data.ct()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ut((function(e,n){return t(e),!1}))},t.prototype.xt=function(t,e){for(var n=this.data.ft(t[0]);n.At();){var r=n.It();if(this.D(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ft=function(t,e){var n;for(n=void 0!==e?this.data.ft(e):this.data._t();n.At();)if(!t(n.It().key))return},t.prototype.kt=function(t){var e=this.data.ft(t);return e.At()?e.It().key:null},t.prototype._t=function(){return new ii(this.data._t())},t.prototype.ft=function(t){return new ii(this.data.ft(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).ot(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.P=function(){return this.data.P()},t.prototype.Ot=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data._t(),r=e.data._t();n.At();){var i=n.It().key,o=r.It().key;if(0!==this.D(i,o))return!1}return!0},t.prototype.L=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.D);return n.data=e,n},t}(),ii=function(){function t(t){this.Mt=t}return t.prototype.It=function(){return this.Mt.It().key},t.prototype.At=function(){return this.Mt.At()},t}(),oi=new ti(Fr.D);function si(){return oi}function ai(){return si()}var ui=new ti(Fr.D);function ci(){return ui}var li=new ti(Fr.D),hi=new ri(Fr.D);function fi(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=hi,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var di=new ri(br);function pi(){return di}var vi=function(){function t(t){this.D=t?function(e,n){return t(e,n)||Fr.D(e.key,n.key)}:function(t,e){return Fr.D(t.key,e.key)},this.$t=ci(),this.Lt=new ti(this.D)}return t.Bt=function(e){return new t(e.D)},t.prototype.has=function(t){return null!=this.$t.get(t)},t.prototype.get=function(t){return this.$t.get(t)},t.prototype.first=function(){return this.Lt.ht()},t.prototype.last=function(){return this.Lt.ct()},t.prototype.P=function(){return this.Lt.P()},t.prototype.indexOf=function(t){var e=this.$t.get(t);return e?this.Lt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Lt.ut((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.$t.ot(t.key,t),e.Lt.ot(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.$t.remove(t),this.Lt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Lt._t(),r=e.Lt._t();n.At();){var i=n.It().key,o=r.It().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.D=this.D,r.$t=e,r.Lt=n,r},t}(),yi=function(){function t(){this.qt=new ti(Fr.D)}return t.prototype.track=function(t){var e=t.doc.key,n=this.qt.get(e);n?0!==t.type&&3===n.type?this.qt=this.qt.ot(e,t):3===t.type&&1!==n.type?this.qt=this.qt.ot(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.qt=this.qt.ot(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.qt=this.qt.ot(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.qt=this.qt.remove(e):1===t.type&&2===n.type?this.qt=this.qt.ot(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.qt=this.qt.ot(e,{type:2,doc:t.doc}):pr():this.qt=this.qt.ot(e,t)},t.prototype.Ut=function(){var t=[];return this.qt.ut((function(e,n){t.push(n)})),t},t}(),gi=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.Kt=n,this.docChanges=r,this.Qt=i,this.fromCache=o,this.Wt=s,this.jt=a}return t.Gt=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,vi.Bt(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Qt.P()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Wt===t.Wt&&this.Qt.isEqual(t.Qt)&&ks(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Kt.isEqual(t.Kt)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),mi=function(){function t(t,e,n,r,i){this.nt=t,this.zt=e,this.Ht=n,this.Jt=r,this.Yt=i}return t.Xt=function(e,n){var r=new Map;return r.set(e,bi.Zt(e,n)),new t(Rr.min(),r,pi(),si(),fi())},t}(),bi=function(){function t(t,e,n,r,i){this.resumeToken=t,this.te=e,this.ee=n,this.ne=r,this.se=i}return t.Zt=function(e,n){return new t(kr.u,n,fi(),fi(),fi())},t}(),_i=function(t,e,n,r){this.ie=t,this.removedTargetIds=e,this.key=n,this.re=r},wi=function(t,e){this.targetId=t,this.oe=e},ki=function(t,e,n,r){void 0===n&&(n=kr.u),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Ei=function(){function t(){this.ae=0,this.he=Ii(),this.ce=kr.u,this.ue=!1,this.le=!0}return Object.defineProperty(t.prototype,"te",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.ce},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_e",{get:function(){return 0!==this.ae},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),t.prototype.de=function(t){t.o()>0&&(this.le=!0,this.ce=t)},t.prototype.we=function(){var t=fi(),e=fi(),n=fi();return this.he.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:pr()}})),new bi(this.ce,this.ue,t,e,n)},t.prototype.Ee=function(){this.le=!1,this.he=Ii()},t.prototype.Te=function(t,e){this.le=!0,this.he=this.he.ot(t,e)},t.prototype.Ie=function(t){this.le=!0,this.he=this.he.remove(t)},t.prototype.me=function(){this.ae+=1},t.prototype.Ae=function(){this.ae-=1},t.prototype.Re=function(){this.le=!0,this.ue=!0},t}(),Si=function(){function t(t){this.Pe=t,this.ge=new Map,this.Ve=si(),this.ye=Ci(),this.pe=new ri(br)}return t.prototype.be=function(t){for(var e=0,n=t.ie;e<n.length;e++){var r=n[e];t.re instanceof ss?this.ve(r,t.re):t.re instanceof as&&this.Se(r,t.key,t.re)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Se(o[i],t.key,t.re)},t.prototype.De=function(t){var e=this;this.Ce(t,(function(n){var r=e.Ne(n);switch(t.state){case 0:e.xe(n)&&r.de(t.resumeToken);break;case 1:r.Ae(),r._e||r.Ee(),r.de(t.resumeToken);break;case 2:r.Ae(),r._e||e.removeTarget(n);break;case 3:e.xe(n)&&(r.Re(),r.de(t.resumeToken));break;case 4:e.xe(n)&&(e.Fe(n),r.de(t.resumeToken));break;default:pr()}}))},t.prototype.Ce=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ge.forEach((function(t,r){n.xe(r)&&e(r)}))},t.prototype.ke=function(t){var e=t.targetId,n=t.oe.count,r=this.Oe(e);if(r){var i=r.target;if(Kr(i))if(0===n){var o=new Fr(i.path);this.Se(e,o,new as(o,Rr.min()))}else vr(1===n);else this.Me(e)!==n&&(this.Fe(e),this.pe=this.pe.add(e))}},t.prototype.$e=function(t){var e=this,n=new Map;this.ge.forEach((function(r,i){var o=e.Oe(i);if(o){if(r.te&&Kr(o.target)){var s=new Fr(o.target.path);null!==e.Ve.get(s)||e.Le(i,s)||e.Se(i,s,new as(s,t))}r.fe&&(n.set(i,r.we()),r.Ee())}}));var r=fi();this.ye.forEach((function(t,n){var i=!0;n.Ft((function(t){var n=e.Oe(t);return!n||2===n.et||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new mi(t,n,this.pe,this.Ve,r);return this.Ve=si(),this.ye=Ci(),this.pe=new ri(br),i},t.prototype.ve=function(t,e){if(this.xe(t)){var n=this.Le(t,e.key)?2:0;this.Ne(t).Te(e.key,n),this.Ve=this.Ve.ot(e.key,e),this.ye=this.ye.ot(e.key,this.Be(e.key).add(t))}},t.prototype.Se=function(t,e,n){if(this.xe(t)){var r=this.Ne(t);this.Le(t,e)?r.Te(e,1):r.Ie(e),this.ye=this.ye.ot(e,this.Be(e).delete(t)),n&&(this.Ve=this.Ve.ot(e,n))}},t.prototype.removeTarget=function(t){this.ge.delete(t)},t.prototype.Me=function(t){var e=this.Ne(t).we();return this.Pe.qe(t).size+e.ee.size-e.se.size},t.prototype.me=function(t){this.Ne(t).me()},t.prototype.Ne=function(t){var e=this.ge.get(t);return e||(e=new Ei,this.ge.set(t,e)),e},t.prototype.Be=function(t){var e=this.ye.get(t);return e||(e=new ri(br),this.ye=this.ye.ot(t,e)),e},t.prototype.xe=function(t){var e=null!==this.Oe(t);return e||lr("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Oe=function(t){var e=this.ge.get(t);return e&&e._e?null:this.Pe.Ue(t)},t.prototype.Fe=function(t){var e=this;this.ge.set(t,new Ei),this.Pe.qe(t).forEach((function(n){e.Se(t,n,null)}))},t.prototype.Le=function(t,e){return this.Pe.qe(t).has(e)},t}();function Ci(){return new ti(Fr.D)}function Ii(){return new ti(Fr.D)}function Ti(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Oi(t){var e=Li(t.mapValue.fields.__local_write_time__.timestampValue);return new Dr(e.seconds,e.nanos)}var Ai=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ti(t)?4:10:pr()}function Ni(t,e){var n=xi(t);if(n!==xi(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Oi(t).isEqual(Oi(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Li(t.timestampValue),r=Li(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Vi(t.bytesValue).isEqual(Vi(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Mi(t.geoPointValue.latitude)===Mi(e.geoPointValue.latitude)&&Mi(t.geoPointValue.longitude)===Mi(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Mi(t.integerValue)===Mi(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Mi(t.doubleValue),r=Mi(e.doubleValue);return n===r?qr(n)===qr(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return _r(t.arrayValue.values||[],e.arrayValue.values||[],Ni);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Ar(n)!==Ar(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ni(n[i],r[i])))return!1;return!0}(t,e);default:return pr()}}function Pi(t,e){return void 0!==(t.values||[]).find((function(t){return Ni(t,e)}))}function Di(t,e){var n=xi(t),r=xi(e);if(n!==r)return br(n,r);switch(n){case 0:return 0;case 1:return br(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Mi(t.integerValue||t.doubleValue),r=Mi(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Ri(t.timestampValue,e.timestampValue);case 4:return Ri(Oi(t),Oi(e));case 5:return br(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Vi(t),r=Vi(e);return n.h(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=br(n[i],r[i]);if(0!==o)return o}return br(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=br(Mi(t.latitude),Mi(e.latitude));return 0!==n?n:br(Mi(t.longitude),Mi(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Di(n[i],r[i]);if(o)return o}return br(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=br(r[s],o[s]);if(0!==a)return a;var u=Di(n[r[s]],i[o[s]]);if(0!==u)return u}return br(r.length,o.length)}(t.mapValue,e.mapValue);default:throw pr()}}function Ri(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return br(t,e);var n=Li(t),r=Li(e),i=br(n.seconds,r.seconds);return 0!==i?i:br(n.nanos,r.nanos)}function ji(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=Li(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Vi(e.bytesValue).toBase64():"referenceValue"in e?Fr.J(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):pr();var n}(t)}function Li(t){if(vr(!!t),"string"==typeof t){var e=0,n=Ai.exec(t);if(vr(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Mi(t.seconds),nanos:Mi(t.nanos)}}function Mi(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Vi(t){return"string"==typeof t?kr.fromBase64String(t):kr.fromUint8Array(t)}function Fi(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.B()}}function Ui(t){return!!t&&"integerValue"in t}function qi(t){return!!t&&"arrayValue"in t}function Bi(t){return!!t&&"nullValue"in t}function zi(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hi(t){return!!t&&"mapValue"in t}var Gi={asc:"ASCENDING",desc:"DESCENDING"},Wi={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ki=function(t,e){this._=t,this.Ke=e};function Qi(t){return{integerValue:""+t}}function Yi(t,e){if(t.Ke){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qr(e)?"-0":e}}function Zi(t,e){return Br(e)?Qi(e):Yi(t,e)}function Xi(t,e){return t.Ke?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function $i(t,e){return t.Ke?e.toBase64():e.toUint8Array()}function Ji(t,e){return Xi(t,e.v())}function to(t){return vr(!!t),Rr.V(function(t){var e=Li(t);return new Dr(e.seconds,e.nanos)}(t))}function eo(t,e){return function(t){return new Lr(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).B()}function no(t){var e=Lr.q(t);return vr(So(e)),e}function ro(t,e){return eo(t._,e.path)}function io(t,e){var n=no(e);return vr(n.get(1)===t._.projectId),vr(!n.get(3)&&!t._.database||n.get(3)===t._.database),new Fr(uo(n))}function oo(t,e){return eo(t._,e)}function so(t){var e=no(t);return 4===e.length?Lr.U():uo(e)}function ao(t){return new Lr(["projects",t._.projectId,"databases",t._.database]).B()}function uo(t){return vr(t.length>4&&"documents"===t.get(4)),t.N(5)}function co(t,e,n){return{name:ro(t,e),fields:n.proto.mapValue.fields}}function lo(t,e){var n;if(e instanceof Qo)n={update:co(t,e.key,e.value)};else if(e instanceof ts)n={delete:ro(t,e.key)};else if(e instanceof Yo)n={update:co(t,e.key,e.data),updateMask:Eo(e.Qe)};else if(e instanceof Xo)n={transform:{document:ro(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Ao)return{fieldPath:e.field.B(),setToServerValue:"REQUEST_TIME"};if(n instanceof xo)return{fieldPath:e.field.B(),appendMissingElements:{values:n.elements}};if(n instanceof Po)return{fieldPath:e.field.B(),removeAllFromArray:{values:n.elements}};if(n instanceof Ro)return{fieldPath:e.field.B(),increment:n.We};throw pr()}(0,t)}))}};else{if(!(e instanceof es))return pr();n={verify:ro(t,e.key)}}return e.Ge.je||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Ji(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:pr()}(t,e.Ge)),n}function ho(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Uo.updateTime(to(t.updateTime)):void 0!==t.exists?Uo.exists(t.exists):Uo.ze()}(e.currentDocument):Uo.ze();if(e.update){var r=io(t,e.update.name),i=new ns({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new Mo((t.fieldPaths||[]).map((function(t){return Vr.G(t)})))}(e.updateMask);return new Yo(r,i,o,n)}return new Qo(r,i,n)}if(e.delete){var s=io(t,e.delete);return new ts(s,n)}if(e.transform){var a=io(t,e.transform.document),u=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(vr("REQUEST_TIME"===e.setToServerValue),n=new Ao):"appendMissingElements"in e?n=new xo(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Po(e.removeAllFromArray.values||[]):"increment"in e?n=new Ro(t,e.increment):pr();var r=Vr.G(e.fieldPath);return new Vo(r,n)}(t,e)}));return vr(!0===n.exists),new Xo(a,u)}if(e.verify){var c=io(t,e.verify);return new es(c,n)}return pr()}function fo(t,e){return{documents:[oo(t,e.path)]}}function po(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=oo(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=oo(t,r.F()),n.structuredQuery.from=[{collectionId:r.O()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(zi(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NAN"}};if(Bi(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(zi(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NOT_NAN"}};if(Bi(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bo(t.field),op:mo(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:bo(t.field),direction:go(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.Ke||Ur(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=vo(e.startAt)),e.endAt&&(n.structuredQuery.endAt=vo(e.endAt)),n}function vo(t){return{before:t.before,values:t.position}}function yo(t){return new Ls(t.values||[],!!t.before)}function go(t){return Gi[t]}function mo(t){return Wi[t]}function bo(t){return{fieldPath:t.B()}}function _o(t){return Vr.G(t.fieldPath)}function wo(t){return Ts.create(_o(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return pr()}}(t.fieldFilter.op),t.fieldFilter.value)}function ko(t){switch(t.unaryFilter.op){case"IS_NAN":var e=_o(t.unaryFilter.field);return Ts.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=_o(t.unaryFilter.field);return Ts.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=_o(t.unaryFilter.field);return Ts.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=_o(t.unaryFilter.field);return Ts.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return pr()}}function Eo(t){var e=[];return t.fields.forEach((function(t){return e.push(t.B())})),{fieldPaths:e}}function So(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Co=function(){this.He=void 0};function Io(t,e,n){return t instanceof Ao?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof xo?No(t,e):t instanceof Po?Do(t,e):function(t,e){var n=Oo(t,e),r=jo(n)+jo(t.We);return Ui(n)&&Ui(t.We)?Qi(r):Yi(t.serializer,r)}(t,e)}function To(t,e,n){return t instanceof xo?No(t,e):t instanceof Po?Do(t,e):n}function Oo(t,e){return t instanceof Ro?Ui(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Ao=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e}(Co),xo=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(r.c)(e,t),e}(Co);function No(t,e){for(var n=Lo(e),r=function(t){n.some((function(e){return Ni(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Po=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(r.c)(e,t),e}(Co);function Do(t,e){for(var n=Lo(e),r=function(t){n=n.filter((function(e){return!Ni(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ro=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.We=n,r}return Object(r.c)(e,t),e}(Co);function jo(t){return Mi(t.integerValue||t.doubleValue)}function Lo(t){return qi(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Mo=function(){function t(t){this.fields=t,t.sort(Vr.D)}return t.prototype.Je=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].M(t))return!0;return!1},t.prototype.isEqual=function(t){return _r(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Vo=function(t,e){this.field=t,this.transform=e},Fo=function(t,e){this.version=t,this.transformResults=e},Uo=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.ze=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"je",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function qo(t,e){return void 0!==t.updateTime?e instanceof ss&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof ss}var Bo=function(){};function zo(t,e,n){return t instanceof Qo?function(t,e,n){return new ss(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof Yo?function(t,e,n){if(!qo(t.Ge,e))return new us(t.key,n.version);var r=Zo(t,e);return new ss(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Xo?function(t,e,n){if(vr(null!=n.transformResults),!qo(t.Ge,e))return new us(t.key,n.version);var r=$o(0,e),i=function(t,e,n){var r=[];vr(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof ss&&(a=e.field(o.field)),r.push(To(s,a,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),o=n.version,s=Jo(t,r.data(),i);return new ss(t.key,o,s,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new as(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Ho(t,e,n,r){return t instanceof Qo?function(t,e){if(!qo(t.Ge,e))return e;var n=Ko(e);return new ss(t.key,n,t.value,{Ye:!0})}(t,e):t instanceof Yo?function(t,e){if(!qo(t.Ge,e))return e;var n=Ko(e),r=Zo(t,e);return new ss(t.key,n,r,{Ye:!0})}(t,e):t instanceof Xo?function(t,e,n,r){if(!qo(t.Ge,e))return e;var i=$o(0,e),o=function(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var a=s[o],u=a.transform,c=null;n instanceof ss&&(c=n.field(a.field)),null===c&&r instanceof ss&&(c=r.field(a.field)),i.push(Io(u,c,e))}return i}(t.fieldTransforms,n,e,r),s=Jo(t,i.data(),o);return new ss(t.key,i.version,s,{Ye:!0})}(t,e,r,n):function(t,e){return qo(t.Ge,e)?new as(t.key,Rr.min()):e}(t,e)}function Go(t,e){return t instanceof Xo?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e instanceof ss?e.field(o.field):void 0,a=Oo(o.transform,s||null);null!=a&&(n=null==n?(new rs).set(o.field,a):n.set(o.field,a))}return n?n.Xe():null}(t,e):null}function Wo(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ge.isEqual(e.Ge)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.Qe.isEqual(e.Qe):2!==t.type||_r(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof xo&&e instanceof xo||t instanceof Po&&e instanceof Po?_r(t.elements,e.elements,Ni):t instanceof Ro&&e instanceof Ro?Ni(t.We,e.We):t instanceof Ao&&e instanceof Ao}(t.transform,e.transform)}(t,e)})))}function Ko(t){return t instanceof ss?t.version:Rr.min()}var Qo=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.Ge=r,i.type=0,i}return Object(r.c)(e,t),e}(Bo),Yo=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.Qe=r,o.Ge=i,o.type=1,o}return Object(r.c)(e,t),e}(Bo);function Zo(t,e){return function(t,e){var n=new rs(e);return t.Qe.fields.forEach((function(e){if(!e.P()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.Xe()}(t,e instanceof ss?e.data():ns.empty())}var Xo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.Ge=Uo.exists(!0),r}return Object(r.c)(e,t),e}(Bo);function $o(t,e){return e}function Jo(t,e,n){for(var r=new rs(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.Xe()}var ts=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ge=n,r.type=3,r}return Object(r.c)(e,t),e}(Bo),es=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ge=n,r.type=4,r}return Object(r.c)(e,t),e}(Bo),ns=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.P())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Hi(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.O()])||null},t.prototype.isEqual=function(t){return Ni(this.proto,t.proto)},t}(),rs=function(){function t(t){void 0===t&&(t=ns.empty()),this.Ze=t,this.tn=new Map}return t.prototype.set=function(t,e){return this.en(t,e),this},t.prototype.delete=function(t){return this.en(t,null),this},t.prototype.en=function(t,e){for(var n=this.tn,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===xi(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.O(),e)},t.prototype.Xe=function(){var t=this.nn(Vr.U(),this.tn);return null!=t?new ns(t):this.Ze},t.prototype.nn=function(t,e){var n=this,r=!1,i=this.Ze.field(t),o=Hi(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.nn(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function is(t){var e=[];return xr(t.fields||{},(function(t,n){var r=new Vr([t]);if(Hi(n)){var i=is(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)})),new Mo(e)}var os=function(t,e){this.key=t,this.version=e},ss=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).sn=r,o.Ye=!!i.Ye,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(r.c)(e,t),e.prototype.field=function(t){return this.sn.field(t)},e.prototype.data=function(){return this.sn},e.prototype.rn=function(){return this.sn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Ye===t.Ye&&this.hasCommittedMutations===t.hasCommittedMutations&&this.sn.isEqual(t.sn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Ye+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Ye||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(os),as=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(r.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(os),us=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(os),cs=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.on=n,this.filters=r,this.limit=i,this.an=o,this.startAt=s,this.endAt=a,this.hn=null,this.cn=null};function ls(t,e,n,r,i,o,s,a){return new cs(t,e,n,r,i,o,s,a)}function hs(t){return new cs(t)}function fs(t){return!Ur(t.limit)&&"F"===t.an}function ds(t){return!Ur(t.limit)&&"L"===t.an}function ps(t){return t.on.length>0?t.on[0].field:null}function vs(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.un())return r.field}return null}function ys(t){return null!==t.collectionGroup}function gs(t){var e=yr(t);if(null===e.hn){e.hn=[];var n=vs(e),r=ps(e);if(null!==n&&null===r)n.W()||e.hn.push(new Us(n)),e.hn.push(new Us(Vr.j(),"asc"));else{for(var i=!1,o=0,s=e.on;o<s.length;o++){var a=s[o];e.hn.push(a),a.field.W()&&(i=!0)}if(!i){var u=e.on.length>0?e.on[e.on.length-1].dir:"asc";e.hn.push(new Us(Vr.j(),u))}}}return e.hn}function ms(t){var e=yr(t);if(!e.cn)if("F"===e.an)e.cn=Hr(e.path,e.collectionGroup,gs(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=gs(e);r<i.length;r++){var o=i[r];n.push(new Us(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Ls(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Ls(e.startAt.position,!e.startAt.before):null;e.cn=Hr(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.cn}function bs(t,e,n){return new cs(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _s(t,e){return new cs(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,e,t.endAt)}function ws(t,e){return new cs(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,t.startAt,e)}function ks(t,e){return Wr(ms(t),ms(e))&&t.an===e.an}function Es(t){return Gr(ms(t))+"|lt:"+t.an}function Ss(t){return"Query(target="+function(t){var e=t.path.B();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.B()+" "+e.op+" "+ji(e.value);var e})).join(", ")+"]"),Ur(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return(e=t).field.B()+" ("+e.dir+")";var e})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Ms(t.startAt)),t.endAt&&(e+=", endAt: "+Ms(t.endAt)),"Target("+e+")"}(ms(t))+"; limitType="+t.an+")"}function Cs(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.Y(t.collectionGroup)&&t.path.M(n):Fr.X(t.path)?t.path.isEqual(n):t.path.$(n)}(t,e)&&function(t,e){for(var n=0,r=t.on;n<r.length;n++){var i=r[n];if(!i.field.W()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Vs(t.startAt,gs(t),e)||t.endAt&&Vs(t.endAt,gs(t),e))}(t,e)}function Is(t){return function(e,n){for(var r=!1,i=0,o=gs(t);i<o.length;i++){var s=o[i],a=qs(s,e,n);if(0!==a)return a;r=r||s.field.W()}return 0}}var Ts=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(r.c)(e,t),e.create=function(t,n,r){return t.W()?"in"===n||"not-in"===n?this.ln(t,n,r):new Os(t,n,r):"array-contains"===n?new Ps(t,r):"in"===n?new Ds(t,r):"not-in"===n?new Rs(t,r):"array-contains-any"===n?new js(t,r):new e(t,n,r)},e.ln=function(t,e,n){return"in"===e?new As(t,n):new xs(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this._n(Di(e,this.value)):null!==e&&xi(this.value)===xi(e)&&this._n(Di(e,this.value))},e.prototype._n=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return pr()}},e.prototype.un=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Os=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Fr.J(r.referenceValue),i}return Object(r.c)(e,t),e.prototype.matches=function(t){var e=Fr.D(t.key,this.key);return this._n(e)},e}(Ts),As=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Ns(0,n),r}return Object(r.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Ts),xs=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Ns(0,n),r}return Object(r.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Ts);function Ns(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Fr.J(t.referenceValue)}))}var Ps=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(r.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return qi(e)&&Pi(e.arrayValue,this.value)},e}(Ts),Ds=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(r.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Pi(this.value.arrayValue,e)},e}(Ts),Rs=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(r.c)(e,t),e.prototype.matches=function(t){if(Pi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Pi(this.value.arrayValue,e)},e}(Ts),js=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(r.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!qi(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Pi(e.value.arrayValue,t)}))},e}(Ts),Ls=function(t,e){this.position=t,this.before=e};function Ms(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return ji(t)})).join(",")}function Vs(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.W()?Fr.D(Fr.J(s.referenceValue),n.key):Di(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Fs(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Ni(t.position[n],e.position[n]))return!1;return!0}var Us=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function qs(t,e,n){var r=t.field.W()?Fr.D(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Di(r,i):pr()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return pr()}}function Bs(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var zs=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Hs=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.fn=t,this.dn=e,this.wn=n,this.En=r,this.Tn=i,this.In=0,this.mn=null,this.An=Date.now(),this.reset()}return t.prototype.reset=function(){this.In=0},t.prototype.Rn=function(){this.In=this.Tn},t.prototype.Pn=function(t){var e=this;this.cancel();var n=Math.floor(this.In+this.gn()),r=Math.max(0,Date.now()-this.An),i=Math.max(0,n-r);i>0&&lr("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.In+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.mn=this.fn.Vn(this.dn,i,(function(){return e.An=Date.now(),t()})),this.In*=this.En,this.In<this.wn&&(this.In=this.wn),this.In>this.Tn&&(this.In=this.Tn)},t.prototype.yn=function(){null!==this.mn&&(this.mn.pn(),this.mn=null)},t.prototype.cancel=function(){null!==this.mn&&(this.mn.cancel(),this.mn=null)},t.prototype.gn=function(){return(Math.random()-.5)*this.In},t}(),Gs=function(){function t(t){var e=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,t((function(t){e.Sn=!0,e.result=t,e.bn&&e.bn(t)}),(function(t){e.Sn=!0,e.error=t,e.vn&&e.vn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Dn&&pr(),this.Dn=!0,this.Sn?this.error?this.Cn(n,this.error):this.Nn(e,this.result):new t((function(t,i){r.bn=function(n){r.Nn(e,n).next(t,i)},r.vn=function(e){r.Cn(n,e).next(t,i)}}))},t.prototype.xn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Fn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Nn=function(e,n){return e?this.Fn((function(){return e(n)})):t.resolve(n)},t.prototype.Cn=function(e,n){return e?this.Fn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.kn=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.On=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.kn(r)},t}(),Ws=function(){function t(e,n,r){this.name=e,this.version=n,this.Mn=r,12.2===t.$n(Object(s.g)())&&hr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return lr("SimpleDb","Removing database:",t),$s(window.indexedDB.deleteDatabase(t)).xn()},t.Ln=function(){if("undefined"==typeof indexedDB)return!1;if(t.Bn())return!0;var e=Object(s.g)(),n=t.$n(e),r=0<n&&n<10,i=t.qn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Bn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Un)},t.Kn=function(t,e){return t.store(e)},t.$n=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.qn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Qn=function(t){return Object(r.b)(this,void 0,void 0,(function(){var e,n=this;return Object(r.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(lr("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Qs(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new ar(sr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Qs(t,n))},i.onupgradeneeded=function(t){lr("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Mn.createOrUpgrade(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){lr("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Wn&&(this.db.onversionchange=function(t){return n.Wn(t)}),this.db)]}}))}))},t.prototype.jn=function(t){this.Wn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,i){return Object(r.b)(this,void 0,void 0,(function(){var o,s,a,u,c;return Object(r.d)(this,(function(l){switch(l.label){case 0:o="readonly"===e,s=0,a=function(){var e,a,c,l,h;return Object(r.d)(this,(function(r){switch(r.label){case 0:++s,r.label=1;case 1:return r.trys.push([1,4,,5]),[4,u.Qn(t)];case 2:return u.db=r.sent(),e=Zs.open(u.db,t,o?"readonly":"readwrite",n),a=i(e).catch((function(t){return e.abort(t),Gs.reject(t)})).xn(),c={},a.catch((function(){})),[4,e.Gn];case 3:return[2,(c.value=(r.sent(),a),c)];case 4:return lr("SimpleDb","Transaction failed with error:",(l=r.sent()).message,"Retrying:",h="FirebaseError"!==l.name&&s<3),u.close(),h?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}}))},u=this,l.label=1;case 1:return[5,a()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Ks=function(){function t(t){this.zn=t,this.Hn=!1,this.Jn=null}return Object.defineProperty(t.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Yn",{get:function(){return this.Jn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Hn=!0},t.prototype.Xn=function(t){this.Jn=t},t.prototype.delete=function(){return $s(this.zn.delete())},t}(),Qs=function(t){function e(e,n){var r=this;return(r=t.call(this,sr.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(r.c)(e,t),e}(ar);function Ys(t){return"IndexedDbTransactionError"===t.name}var Zs=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Zn=new zs,this.transaction.oncomplete=function(){n.Zn.resolve()},this.transaction.onabort=function(){e.error?n.Zn.reject(new Qs(t,e.error)):n.Zn.resolve()},this.transaction.onerror=function(e){var r=ta(e.target.error);n.Zn.reject(new Qs(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Qs(n,e)}},Object.defineProperty(t.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Zn.reject(t),this.aborted||(lr("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Xs(e)},t}(),Xs=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(lr("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(lr("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),$s(n)},t.prototype.add=function(t){return lr("SimpleDb","ADD",this.store.name,t,t),$s(this.store.add(t))},t.prototype.get=function(t){var e=this;return $s(this.store.get(t)).next((function(n){return void 0===n&&(n=null),lr("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return lr("SimpleDb","DELETE",this.store.name,t),$s(this.store.delete(t))},t.prototype.count=function(){return lr("SimpleDb","COUNT",this.store.name),$s(this.store.count())},t.prototype.ts=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.es(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.ns=function(t,e){lr("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.ss=!1;var r=this.cursor(n);return this.es(r,(function(t,e,n){return n.delete()}))},t.prototype.rs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.es(r,e)},t.prototype.os=function(t){var e=this.cursor({});return new Gs((function(n,r){e.onerror=function(t){var e=ta(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.es=function(t,e){var n=[];return new Gs((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Ks(i),s=e(i.primaryKey,i.value,o);if(s instanceof Gs){var a=s.catch((function(t){return o.done(),Gs.reject(t)}));n.push(a)}o.Sn?r():null===o.Yn?i.continue():i.continue(o.Yn)}else r()}})).next((function(){return Gs.kn(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.ss?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function $s(t){return new Gs((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=ta(t.target.error);n(e)}}))}var Js=!1;function ta(t){var e=Ws.$n(Object(s.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new ar("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Js||(Js=!0,setTimeout((function(){throw r}),0)),r}}return t}function ea(){return"undefined"!=typeof window?window:null}function na(){return"undefined"!=typeof document?document:null}var ra=function(){function t(t,e,n,r,i){this.hs=t,this.dn=e,this.cs=n,this.op=r,this.us=i,this.ls=new zs,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch((function(t){}))}return t._s=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.fs=setTimeout((function(){return e.ds()}),t)},t.prototype.pn=function(){return this.ds()},t.prototype.cancel=function(t){null!==this.fs&&(this.clearTimeout(),this.ls.reject(new ar(sr.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.ds=function(){var t=this;this.hs.ws((function(){return null!==t.fs?(t.clearTimeout(),t.op().then((function(e){return t.ls.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.fs&&(this.us(this),clearTimeout(this.fs),this.fs=null)},t}(),ia=function(){function t(){var t=this;this.Es=Promise.resolve(),this.Ts=[],this.Is=!1,this.As=[],this.Rs=null,this.Ps=!1,this.gs=[],this.Vs=new Hs(this,"async_queue_retry"),this.ys=function(){var e=na();e&&lr("AsyncQueue","Visibility state changed to  ",e.visibilityState),t.Vs.yn()};var e=na();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.ys)}return Object.defineProperty(t.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),t.prototype.ws=function(t){this.enqueue(t)},t.prototype.bs=function(t){this.vs(),this.Ss(t)},t.prototype.Ds=function(){if(!this.Is){this.Is=!0;var t=na();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ys)}},t.prototype.enqueue=function(t){return this.vs(),this.Is?new Promise((function(t){})):this.Ss(t)},t.prototype.Cs=function(t){var e=this;this.ws((function(){return e.Ts.push(t),e.Ns()}))},t.prototype.Ns=function(){return Object(r.b)(this,void 0,void 0,(function(){var t,e=this;return Object(r.d)(this,(function(n){switch(n.label){case 0:if(0===this.Ts.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Ts[0]()];case 2:return n.sent(),this.Ts.shift(),this.Vs.reset(),[3,4];case 3:if(!Ys(t=n.sent()))throw t;return lr("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Ts.length>0&&this.Vs.Pn((function(){return e.Ns()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Ss=function(t){var e=this,n=this.Es.then((function(){return e.Ps=!0,t().catch((function(t){throw e.Rs=t,e.Ps=!1,hr("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.Ps=!1,t}))}));return this.Es=n,n},t.prototype.Vn=function(t,e,n){var r=this;this.vs(),this.gs.indexOf(t)>-1&&(e=0);var i=ra._s(this,t,e,n,(function(t){return r.xs(t)}));return this.As.push(i),i},t.prototype.vs=function(){this.Rs&&pr()},t.prototype.Fs=function(){},t.prototype.ks=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.Es];case 1:e.sent(),e.label=2;case 2:if(t!==this.Es)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Os=function(t){for(var e=0,n=this.As;e<n.length;e++)if(n[e].dn===t)return!0;return!1},t.prototype.Ms=function(t){var e=this;return this.ks().then((function(){e.As.sort((function(t,e){return t.cs-e.cs}));for(var n=0,r=e.As;n<r.length;n++){var i=r[n];if(i.pn(),"all"!==t&&i.dn===t)break}return e.ks()}))},t.prototype.$s=function(t){this.gs.push(t)},t.prototype.xs=function(t){var e=this.As.indexOf(t);this.As.splice(e,1)},t}();function oa(t,e){if(hr("AsyncQueue",e+": "+t),Ys(t))return new ar(sr.UNAVAILABLE,e+": "+t);throw t}var sa=function(){this.Ls=void 0,this.listeners=[]},aa=function(){this.Bs=new Pr((function(t){return Es(t)}),ks),this.onlineState="Unknown",this.qs=new Set};function ua(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,s,a,u,c;return Object(r.d)(this,(function(r){switch(r.label){case 0:if(n=yr(t),o=!1,(s=n.Bs.get(i=e.query))||(o=!0,s=new sa),!o)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),a=s,[4,n.Us(i)];case 2:return a.Ls=r.sent(),[3,4];case 3:return u=r.sent(),c=oa(u,"Initialization of query '"+Ss(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.Bs.set(i,s),s.listeners.push(e),e.Ks(n.onlineState),s.Ls&&e.Qs(s.Ls)&&fa(n),[2]}}))}))}function ca(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,s,a;return Object(r.d)(this,(function(r){return n=yr(t),o=!1,(s=n.Bs.get(i=e.query))&&(a=s.listeners.indexOf(e))>=0&&(s.listeners.splice(a,1),o=0===s.listeners.length),o?[2,(n.Bs.delete(i),n.Ws(i))]:[2]}))}))}function la(t,e){for(var n=yr(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.Bs.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Qs(s)&&(r=!0);a.Ls=s}}r&&fa(n)}function ha(t,e,n){var r=yr(t),i=r.Bs.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.Bs.delete(e)}function fa(t){t.qs.forEach((function(t){t.next()}))}var da=function(){function t(t,e,n){this.query=t,this.js=e,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Qs=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new gi(t.query,t.docs,t.Kt,e,t.Qt,t.fromCache,t.Wt,!0)}var o=!1;return this.Gs?this.Hs(t)&&(this.js.next(t),o=!0):this.Js(t,this.onlineState)&&(this.Ys(t),o=!0),this.zs=t,o},t.prototype.onError=function(t){this.js.error(t)},t.prototype.Ks=function(t){this.onlineState=t;var e=!1;return this.zs&&!this.Gs&&this.Js(this.zs,t)&&(this.Ys(this.zs),e=!0),e},t.prototype.Js=function(t,e){return!t.fromCache||!(this.options.Xs&&"Offline"!==e||t.docs.P()&&"Offline"!==e)},t.prototype.Hs=function(t){return t.docChanges.length>0||!!(t.Wt||this.zs&&this.zs.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.Ys=function(t){t=gi.Gt(t.query,t.docs,t.Qt,t.fromCache),this.Gs=!0,this.js.next(t)},t}(),pa=function(){function t(t){this.uid=t}return t.prototype.Zs=function(){return null!=this.uid},t.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();pa.UNAUTHENTICATED=new pa(null),pa.ei=new pa("google-credentials-uid"),pa.ni=new pa("first-party-uid");var va=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.si=function(t){return n.ii(t)},this.ri=function(t){return e.oi(t)})}return t.prototype.ii=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.ri&&this.ri(t),t},t}();function ya(t,e){return"firestore_clients_"+t+"_"+e}function ga(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.Zs()&&(r+="_"+e.uid),r}function ma(t,e){return"firestore_targets_"+t+"_"+e}va.ai=-1;var ba=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.hi=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new ar(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(hr("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ci=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),_a=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.hi=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new ar(r.error.code,r.error.message)),i?new t(e,r.state,o):(hr("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ci=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),wa=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.hi=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=pi(),s=0;i&&s<r.activeTargetIds.length;++s)i=Br(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(hr("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),ka=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.hi=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(hr("SharedClientState","Failed to parse online state: "+e),null)},t}(),Ea=function(){function t(){this.activeTargetIds=pi()}return t.prototype.ui=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.li=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ci=function(){var t={activeTargetIds:this.activeTargetIds.L(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Sa=function(){function t(t,e,n,r,i){this.window=t,this.fn=e,this.persistenceKey=n,this._i=r,this.fi=null,this.di=null,this.si=null,this.wi=this.Ei.bind(this),this.Ti=new ti(br),this.Ii=!1,this.mi=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ai=ya(this.persistenceKey,this._i),this.Ri=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ti=this.Ti.ot(this._i,new Ea),this.Pi=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.gi=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Vi=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.yi=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wi)}return t.Ln=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(r.b)(this,void 0,void 0,(function(){var t,e,n,i,o,s,a,u,c,l,h=this;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,this.fi.pi()];case 1:for(t=r.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this._i&&(o=this.getItem(ya(this.persistenceKey,i)))&&(s=wa.hi(i,o))&&(this.Ti=this.Ti.ot(s.clientId,s));for(this.bi(),(a=this.storage.getItem(this.yi))&&(u=this.vi(a))&&this.Si(u),c=0,l=this.mi;c<l.length;c++)this.Ei(l[c]);return this.mi=[],this.window.addEventListener("unload",(function(){return h.Di()})),this.Ii=!0,[2]}}))}))},t.prototype.oi=function(t){this.setItem(this.Ri,JSON.stringify(t))},t.prototype.Ci=function(){return this.Ni(this.Ti)},t.prototype.xi=function(t){var e=!1;return this.Ti.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.Fi=function(t){this.ki(t,"pending")},t.prototype.Oi=function(t,e,n){this.ki(t,e,n),this.Mi(t)},t.prototype.$i=function(t){var e="not-current";if(this.xi(t)){var n=this.storage.getItem(ma(this.persistenceKey,t));if(n){var r=_a.hi(t,n);r&&(e=r.state)}}return this.Li.ui(t),this.bi(),e},t.prototype.Bi=function(t){this.Li.li(t),this.bi()},t.prototype.qi=function(t){return this.Li.activeTargetIds.has(t)},t.prototype.Ui=function(t){this.removeItem(ma(this.persistenceKey,t))},t.prototype.Ki=function(t,e,n){this.Qi(t,e,n)},t.prototype.Wi=function(t,e,n){var r=this;e.forEach((function(t){r.Mi(t)})),this.currentUser=t,n.forEach((function(t){r.Fi(t)}))},t.prototype.ji=function(t){this.Gi(t)},t.prototype.Di=function(){this.Ii&&(this.window.removeEventListener("storage",this.wi),this.removeItem(this.Ai),this.Ii=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return lr("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){lr("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){lr("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ei=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(lr("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ai)return void hr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs((function(){return Object(r.b)(e,void 0,void 0,(function(){var t,e,i,o,s,a;return Object(r.d)(this,(function(r){if(this.Ii){if(null!==n.key)if(this.Pi.test(n.key)){if(null==n.newValue)return t=this.zi(n.key),[2,this.Hi(t,null)];if(e=this.Ji(n.key,n.newValue))return[2,this.Hi(e.clientId,e)]}else if(this.gi.test(n.key)){if(null!==n.newValue&&(i=this.Yi(n.key,n.newValue)))return[2,this.Xi(i)]}else if(this.Vi.test(n.key)){if(null!==n.newValue&&(o=this.Zi(n.key,n.newValue)))return[2,this.tr(o)]}else if(n.key===this.yi){if(null!==n.newValue&&(s=this.vi(n.newValue)))return[2,this.Si(s)]}else n.key===this.Ri&&(a=function(t){var e=va.ai;if(null!=t)try{var n=JSON.parse(t);vr("number"==typeof n),e=n}catch(t){hr("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==va.ai&&this.si(a)}else this.mi.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Li",{get:function(){return this.Ti.get(this._i)},enumerable:!1,configurable:!0}),t.prototype.bi=function(){this.setItem(this.Ai,this.Li.ci())},t.prototype.ki=function(t,e,n){var r=new ba(this.currentUser,t,e,n),i=ga(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ci())},t.prototype.Mi=function(t){var e=ga(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Gi=function(t){this.storage.setItem(this.yi,JSON.stringify({clientId:this._i,onlineState:t}))},t.prototype.Qi=function(t,e,n){var r=ma(this.persistenceKey,t),i=new _a(t,e,n);this.setItem(r,i.ci())},t.prototype.zi=function(t){var e=this.Pi.exec(t);return e?e[1]:null},t.prototype.Ji=function(t,e){var n=this.zi(t);return wa.hi(n,e)},t.prototype.Yi=function(t,e){var n=this.gi.exec(t),r=Number(n[1]);return ba.hi(new pa(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Zi=function(t,e){var n=this.Vi.exec(t),r=Number(n[1]);return _a.hi(r,e)},t.prototype.vi=function(t){return ka.hi(t)},t.prototype.Xi=function(t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.fi.er(t.batchId,t.state,t.error)]:(lr("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.tr=function(t){return this.fi.nr(t.targetId,t.state,t.error)},t.prototype.Hi=function(t,e){var n=this,r=e?this.Ti.ot(t,e):this.Ti.remove(t),i=this.Ni(this.Ti),o=this.Ni(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.fi.sr(s,a).then((function(){n.Ti=r}))},t.prototype.Si=function(t){this.Ti.get(t.clientId)&&this.di(t.onlineState)},t.prototype.Ni=function(t){var e=pi();return t.forEach((function(t,n){e=e.Ot(n.activeTargetIds)})),e},t}(),Ca=function(){function t(){this.ir=new Ea,this.rr={},this.di=null,this.si=null}return t.prototype.Fi=function(t){},t.prototype.Oi=function(t,e,n){},t.prototype.$i=function(t){return this.ir.ui(t),this.rr[t]||"not-current"},t.prototype.Ki=function(t,e,n){this.rr[t]=e},t.prototype.Bi=function(t){this.ir.li(t)},t.prototype.qi=function(t){return this.ir.activeTargetIds.has(t)},t.prototype.Ui=function(t){delete this.rr[t]},t.prototype.Ci=function(){return this.ir.activeTargetIds},t.prototype.xi=function(t){return this.ir.activeTargetIds.has(t)},t.prototype.start=function(){return this.ir=new Ea,Promise.resolve()},t.prototype.Wi=function(t,e,n){},t.prototype.ji=function(t){},t.prototype.Di=function(){},t.prototype.oi=function(t){},t}(),Ia=function(){function t(t,e,n,r){this.batchId=t,this.ar=e,this.baseMutations=n,this.mutations=r}return t.prototype.hr=function(t,e,n){for(var r=n.cr,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=zo(o,e,r[i]))}return e},t.prototype.ur=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=Ho(i,e,e,this.ar))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(t)&&(e=Ho(u,e,o,this.ar))}return e},t.prototype.lr=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.ur(r.key,t.get(r.key));i&&(n=n.ot(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),fi())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&_r(this.mutations,t.mutations,(function(t,e){return Wo(t,e)}))&&_r(this.baseMutations,t.baseMutations,(function(t,e){return Wo(t,e)}))},t}(),Ta=function(){function t(t,e,n,r){this.batch=t,this._r=e,this.cr=n,this.dr=r}return t.from=function(e,n,r){vr(e.mutations.length===r.length);for(var i=li,o=e.mutations,s=0;s<o.length;s++)i=i.ot(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Oa=function(){function t(){this.wr=new Pr((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.Er=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.Tr},set:function(t){this.Tr=t},enumerable:!1,configurable:!0}),t.prototype.Ir=function(t,e){this.mr(),this.readTime=e,this.wr.set(t.key,t)},t.prototype.Ar=function(t,e){this.mr(),e&&(this.readTime=e),this.wr.set(t,null)},t.prototype.Rr=function(t,e){this.mr();var n=this.wr.get(e);return void 0!==n?Gs.resolve(n):this.Pr(t,e)},t.prototype.getEntries=function(t,e){return this.gr(t,e)},t.prototype.apply=function(t){return this.mr(),this.Er=!0,this.Vr(t)},t.prototype.mr=function(){},t}(),Aa="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",xa=function(){function t(){this.yr=[]}return t.prototype.pr=function(t){this.yr.push(t)},t.prototype.br=function(){this.yr.forEach((function(t){return t()}))},t}(),Na=function(){function t(t,e,n){this.vr=t,this.Sr=e,this.Dr=n}return t.prototype.Cr=function(t,e){var n=this;return this.Sr.Nr(t,e).next((function(r){return n.Fr(t,e,r)}))},t.prototype.Fr=function(t,e,n){return this.vr.Rr(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].ur(e,t);return t}))},t.prototype.kr=function(t,e,n){var r=ai();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].ur(t,e);r=r.ot(t,e)})),r},t.prototype.Or=function(t,e){var n=this;return this.vr.getEntries(t,e).next((function(e){return n.Mr(t,e)}))},t.prototype.Mr=function(t,e){var n=this;return this.Sr.$r(t,e).next((function(r){var i=n.kr(t,e,r),o=si();return i.forEach((function(t,e){e||(e=new as(t,Rr.min())),o=o.ot(t,e)})),o}))},t.prototype.Lr=function(t,e,n){return function(t){return Fr.X(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Br(t,e.path):ys(e)?this.qr(t,e,n):this.Ur(t,e,n)},t.prototype.Br=function(t,e){return this.Cr(t,new Fr(e)).next((function(t){var e=ci();return t instanceof ss&&(e=e.ot(t.key,t)),e}))},t.prototype.qr=function(t,e,n){var r=this,i=e.collectionGroup,o=ci();return this.Dr.Kr(t,i).next((function(s){return Gs.forEach(s,(function(s){var a=function(t,e){return new cs(e,null,t.on.slice(),t.filters.slice(),t.limit,t.an,t.startAt,t.endAt)}(e,s.child(i));return r.Ur(t,a,n).next((function(t){t.forEach((function(t,e){o=o.ot(t,e)}))}))})).next((function(){return o}))}))},t.prototype.Ur=function(t,e,n){var r,i,o=this;return this.vr.Lr(t,e,n).next((function(n){return r=n,o.Sr.Qr(t,e)})).next((function(e){return o.Wr(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c),h=Ho(u,l,l,o.ar);r=h instanceof ss?r.ot(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){Cs(e,n)||(r=r.remove(t))})),r}))},t.prototype.Wr=function(t,e,n){for(var r=fi(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Yo&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.vr.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof ss&&(c=c.ot(t,e))})),c}))},t}(),Pa=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.jr=n,this.Gr=r}return t.zr=function(e,n){for(var r=fi(),i=fi(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}();function Da(t,e){var n=t[1],r=e[1],i=br(t[0],e[0]);return 0===i?br(n,r):i}var Ra=function(){function t(t){this.Hr=t,this.buffer=new ri(Da),this.Jr=0}return t.prototype.Yr=function(){return++this.Jr},t.prototype.Xr=function(t){var e=[t,this.Yr()];if(this.buffer.size<this.Hr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Da(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),ja={Zr:!1,eo:0,no:0,so:0},La=function(){function t(t,e,n){this.io=t,this.ro=e,this.oo=n}return t.ao=function(e){return new t(e,t.ho,t.co)},t}();La.uo=-1,La.lo=1048576,La._o=41943040,La.ho=10,La.co=1e3,La.fo=new La(La._o,La.ho,La.co),La.do=new La(La.uo,0,0);var Ma=function(){function t(t,e){this.wo=t,this.hs=e,this.Eo=!1,this.To=null}return t.prototype.start=function(t){this.wo.params.io!==La.uo&&this.Io(t)},t.prototype.stop=function(){this.To&&(this.To.cancel(),this.To=null)},Object.defineProperty(t.prototype,"Ii",{get:function(){return null!==this.To},enumerable:!1,configurable:!0}),t.prototype.Io=function(t){var e=this,n=this.Eo?3e5:6e4;lr("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.To=this.hs.Vn("lru_garbage_collection",n,(function(){return Object(r.b)(e,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(n){switch(n.label){case 0:this.To=null,this.Eo=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.mo(this.wo)];case 2:return n.sent(),[3,7];case 3:return Ys(e=n.sent())?(lr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,nc(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Io(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Va=function(){function t(t,e){this.Ao=t,this.params=e}return t.prototype.Ro=function(t,e){return this.Ao.Po(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Vo=function(t,e){var n=this;if(0===e)return Gs.resolve(va.ai);var r=new Ra(e);return this.Ao.Ce(t,(function(t){return r.Xr(t.sequenceNumber)})).next((function(){return n.Ao.yo(t,(function(t){return r.Xr(t)}))})).next((function(){return r.maxValue}))},t.prototype.po=function(t,e,n){return this.Ao.po(t,e,n)},t.prototype.bo=function(t,e){return this.Ao.bo(t,e)},t.prototype.vo=function(t,e){var n=this;return this.params.io===La.uo?(lr("LruGarbageCollector","Garbage collection skipped; disabled"),Gs.resolve(ja)):this.So(t).next((function(r){return r<n.params.io?(lr("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.io),ja):n.Do(t,e)}))},t.prototype.So=function(t){return this.Ao.So(t)},t.prototype.Do=function(t,e){var n,r,i,s,a,u,c,l=this,h=Date.now();return this.Ro(t,this.params.ro).next((function(e){return e>l.params.oo?(lr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.oo+" from "+e),r=l.params.oo):r=e,s=Date.now(),l.Vo(t,r)})).next((function(r){return n=r,a=Date.now(),l.po(t,n,e)})).next((function(e){return i=e,u=Date.now(),l.bo(t,n)})).next((function(t){return c=Date.now(),cr()<=o.a.DEBUG&&lr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-h)+"ms\n\tDetermined least recently used "+r+" in "+(a-s)+"ms\n\tRemoved "+i+" targets in "+(u-a)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-h)+"ms"),Gs.resolve({Zr:!0,eo:r,no:i,so:t})}))},t}();function Fa(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=qa(e)),e=Ua(t.get(n),e);return qa(e)}function Ua(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function qa(t){return t+"\x01\x01"}function Ba(t){var e=t.length;if(vr(e>=2),2===e)return vr("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Lr.U();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&pr(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:pr()}o=s+2}return new Lr(r)}var za=function(t){this.Co=t};function Ha(t,e){if(e.document)return function(t,e,n){var r=io(t,e.name),i=to(e.updateTime),o=new ns({mapValue:{fields:e.fields}});return new ss(r,i,o,{hasCommittedMutations:!!n})}(t.Co,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Fr.Z(e.noDocument.path),r=Ya(e.noDocument.readTime);return new as(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Fr.Z(e.unknownDocument.path),o=Ya(e.unknownDocument.version);return new us(i,o)}return pr()}function Ga(t,e,n){var r=Wa(n),i=e.key.path.F().L();if(e instanceof ss){var o=function(t,e){return{name:ro(t,e.key),fields:e.rn().mapValue.fields,updateTime:Xi(t,e.version.v())}}(t.Co,e);return new wu(null,null,o,e.hasCommittedMutations,r,i)}if(e instanceof as){var s=e.key.path.L(),a=Qa(e.version),u=e.hasCommittedMutations;return new wu(null,new bu(s,a),null,u,r,i)}if(e instanceof us){var c=e.key.path.L(),l=Qa(e.version);return new wu(new _u(c,l),null,null,!0,r,i)}return pr()}function Wa(t){var e=t.v();return[e.seconds,e.nanoseconds]}function Ka(t){var e=new Dr(t[0],t[1]);return Rr.V(e)}function Qa(t){var e=t.v();return new pu(e.seconds,e.nanoseconds)}function Ya(t){var e=new Dr(t.seconds,t.nanoseconds);return Rr.V(e)}function Za(t,e){var n=(e.baseMutations||[]).map((function(e){return ho(t.Co,e)})),r=e.mutations.map((function(e){return ho(t.Co,e)})),i=Dr.fromMillis(e.localWriteTimeMs);return new Ia(e.batchId,i,n,r)}function Xa(t){var e,n,r=Ya(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Ya(t.lastLimboFreeSnapshotVersion):Rr.min();return void 0!==t.query.documents?(vr(1===(n=t.query).documents.length),e=ms(hs(so(n.documents[0])))):e=function(t){var e=so(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){vr(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[ko(e)]:void 0!==e.fieldFilter?[wo(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):pr():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new Us(_o(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return Ur(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=yo(n.startAt));var l=null;return n.endAt&&(l=yo(n.endAt)),ms(ls(e,i,a,s,u,"F",c,l))}(t.query),new Zr(e,t.targetId,0,t.lastListenSequenceNumber,r,i,kr.fromBase64String(t.resumeToken))}function $a(t,e){var n,r=Qa(e.nt),i=Qa(e.lastLimboFreeSnapshotVersion);n=Kr(e.target)?fo(t.Co,e.target):po(t.Co,e.target);var o=e.resumeToken.toBase64();return new Eu(e.targetId,Gr(e.target),r,o,e.sequenceNumber,i,n)}var Ja=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.Dr=n,this.No=r,this.xo={}}return t.Fo=function(e,n,r,i){return vr(""!==e.uid),new t(e.Zs()?e.uid:"",n,r,i)},t.prototype.ko=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return nu(t).rs({index:gu.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Oo=function(t,e,n,r){var i=this,o=ru(t),s=nu(t);return s.add({}).next((function(a){vr("number"==typeof a);for(var u=new Ia(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return lo(t.Co,e)})),i=n.mutations.map((function(e){return lo(t.Co,e)}));return new gu(e,n.batchId,n.ar.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],h=new ri((function(t,e){return br(t.B(),e.B())})),f=0,d=r;f<d.length;f++){var p=d[f],v=mu.key(i.userId,p.key.path,a);h=h.add(p.key.path.F()),l.push(s.put(c)),l.push(o.put(v,mu.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Dr.Mo(t,e))})),t.pr((function(){i.xo[a]=u.keys()})),Gs.kn(l).next((function(){return u}))}))},t.prototype.$o=function(t,e){var n=this;return nu(t).get(e).next((function(t){return t?(vr(t.userId===n.userId),Za(n.serializer,t)):null}))},t.prototype.Lo=function(t,e){var n=this;return this.xo[e]?Gs.resolve(this.xo[e]):this.$o(t,e).next((function(t){if(t){var r=t.keys();return n.xo[e]=r,r}return null}))},t.prototype.Bo=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return nu(t).rs({index:gu.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(vr(e.batchId>=r),o=Za(n.serializer,e)),i.done()})).next((function(){return o}))},t.prototype.qo=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return nu(t).rs({index:gu.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.Uo=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return nu(t).ts(gu.userMutationsIndex,n).next((function(t){return t.map((function(t){return Za(e.serializer,t)}))}))},t.prototype.Nr=function(t,e){var n=this,r=mu.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return ru(t).rs({range:i},(function(r,i,s){var a=r[0],u=r[2],c=Ba(r[1]);if(a===n.userId&&e.path.isEqual(c))return nu(t).get(u).next((function(t){if(!t)throw pr();vr(t.userId===n.userId),o.push(Za(n.serializer,t))}));s.done()})).next((function(){return o}))},t.prototype.$r=function(t,e){var n=this,r=new ri(br),i=[];return e.forEach((function(e){var o=mu.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=ru(t).rs({range:s},(function(t,i,o){var s=t[0],a=t[2],u=Ba(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()}));i.push(a)})),Gs.kn(i).next((function(){return n.Ko(t,r)}))},t.prototype.Qr=function(t,e){var n=this,r=e.path,i=r.length+1,o=mu.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new ri(br);return ru(t).rs({range:s},(function(t,e,o){var s=t[0],u=t[2],c=Ba(t[1]);s===n.userId&&r.M(c)?c.length===i&&(a=a.add(u)):o.done()})).next((function(){return n.Ko(t,a)}))},t.prototype.Ko=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(nu(t).get(e).next((function(t){if(null===t)throw pr();vr(t.userId===n.userId),r.push(Za(n.serializer,t))})))})),Gs.kn(i).next((function(){return r}))},t.prototype.Qo=function(t,e){var n=this;return eu(t.Wo,this.userId,e).next((function(r){return t.pr((function(){n.jo(e.batchId)})),Gs.forEach(r,(function(e){return n.No.Go(t,e)}))}))},t.prototype.jo=function(t){delete this.xo[t]},t.prototype.zo=function(t){var e=this;return this.ko(t).next((function(n){if(!n)return Gs.resolve();var r=IDBKeyRange.lowerBound(mu.prefixForUser(e.userId)),i=[];return ru(t).rs({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Ba(t[1]);i.push(o)}else r.done()})).next((function(){vr(0===i.length)}))}))},t.prototype.Ho=function(t,e){return tu(t,this.userId,e)},t.prototype.Jo=function(t){var e=this;return iu(t).get(this.userId).next((function(t){return t||new yu(e.userId,-1,"")}))},t}();function tu(t,e,n){var r=mu.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return ru(t).rs({range:o,ss:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function eu(t,e,n){var r=t.store(gu.store),i=t.store(mu.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.rs({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){vr(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=mu.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Gs.kn(o).next((function(){return c}))}function nu(t){return Fu.Kn(t,gu.store)}function ru(t){return Fu.Kn(t,mu.store)}function iu(t){return Fu.Kn(t,yu.store)}var ou=function(){function t(t,e){this.serializer=t,this.Dr=e}return t.prototype.Ir=function(t,e,n){return uu(t).put(cu(e),n)},t.prototype.Ar=function(t,e){var n=uu(t),r=cu(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Yo(t,r)}))},t.prototype.Rr=function(t,e){var n=this;return uu(t).get(cu(e)).next((function(t){return n.Xo(t)}))},t.prototype.Zo=function(t,e){var n=this;return uu(t).get(cu(e)).next((function(t){var e=n.Xo(t);return e?{ta:e,size:lu(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=ai();return this.ea(t,e,(function(t,e){var i=n.Xo(e);r=r.ot(t,i)})).next((function(){return r}))},t.prototype.na=function(t,e){var n=this,r=ai(),i=new ti(Fr.D);return this.ea(t,e,(function(t,e){var o=n.Xo(e);o?(r=r.ot(t,o),i=i.ot(t,lu(e))):(r=r.ot(t,null),i=i.ot(t,0))})).next((function(){return{sa:r,ia:i}}))},t.prototype.ea=function(t,e,n){if(e.P())return Gs.resolve();var r=IDBKeyRange.bound(e.first().path.L(),e.last().path.L()),i=e._t(),o=i.It();return uu(t).rs({range:r},(function(t,e,r){for(var s=Fr.Z(t);o&&Fr.D(o,s)<0;)n(o,null),o=i.It();o&&o.isEqual(s)&&(n(o,e),o=i.At()?i.It():null),o?r.Xn(o.path.L()):r.done()})).next((function(){for(;o;)n(o,null),o=i.At()?i.It():null}))},t.prototype.Lr=function(t,e,n){var r=this,i=ci(),o=e.path.length+1,s={};if(n.isEqual(Rr.min())){var a=e.path.L();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.L(),c=Wa(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=wu.collectionReadTimeIndex}return uu(t).rs(s,(function(t,n,s){if(t.length===o){var a=Ha(r.serializer,n);e.path.M(a.key.path)?a instanceof ss&&Cs(e,a)&&(i=i.ot(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.ra=function(t){return new su(this,!!t&&t.oa)},t.prototype.aa=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return au(t).get(ku.key).next((function(t){return vr(!!t),t}))},t.prototype.Yo=function(t,e){return au(t).put(ku.key,e)},t.prototype.Xo=function(t){if(t){var e=Ha(this.serializer,t);return e instanceof as&&e.version.isEqual(Rr.min())?null:e}return null},t}(),su=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ha=e,r.oa=n,r.ca=new Pr((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(r.c)(e,t),e.prototype.Vr=function(t){var e=this,n=[],r=0,i=new ri((function(t,e){return br(t.B(),e.B())}));return this.wr.forEach((function(o,s){var a=e.ca.get(o);if(s){var u=Ga(e.ha.serializer,s,e.readTime);i=i.add(o.path.F());var c=lu(u);r+=c-a,n.push(e.ha.Ir(t,o,u))}else if(r-=a,e.oa){var l=Ga(e.ha.serializer,new as(o,Rr.min()),e.readTime);n.push(e.ha.Ir(t,o,l))}else n.push(e.ha.Ar(t,o))})),i.forEach((function(r){n.push(e.ha.Dr.Mo(t,r))})),n.push(this.ha.updateMetadata(t,r)),Gs.kn(n)},e.prototype.Pr=function(t,e){var n=this;return this.ha.Zo(t,e).next((function(t){return null===t?(n.ca.set(e,0),null):(n.ca.set(e,t.size),t.ta)}))},e.prototype.gr=function(t,e){var n=this;return this.ha.na(t,e).next((function(t){var e=t.sa;return t.ia.forEach((function(t,e){n.ca.set(t,e)})),e}))},e}(Oa);function au(t){return Fu.Kn(t,ku.store)}function uu(t){return Fu.Kn(t,wu.store)}function cu(t){return t.path.L()}function lu(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw pr();e=t.noDocument}return JSON.stringify(e).length}var hu=function(){function t(){this.ua=new fu}return t.prototype.Mo=function(t,e){return this.ua.add(e),Gs.resolve()},t.prototype.Kr=function(t,e){return Gs.resolve(this.ua.getEntries(e))},t}(),fu=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.O(),n=t.F(),r=this.index[e]||new ri(Lr.D),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.O(),n=t.F(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new ri(Lr.D)).L()},t}(),du=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;vr(n<r&&n>=0&&r<=10);var o=new Zs("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(vu.store)}(t),function(t){t.createObjectStore(yu.store,{keyPath:yu.keyPath}),t.createObjectStore(gu.store,{keyPath:gu.keyPath,autoIncrement:!0}).createIndex(gu.userMutationsIndex,gu.userMutationsKeyPath,{unique:!0}),t.createObjectStore(mu.store)}(t),Tu(t),function(t){t.createObjectStore(wu.store)}(t));var s=Gs.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Su.store),t.deleteObjectStore(Eu.store),t.deleteObjectStore(Cu.store)}(t),Tu(t)),s=s.next((function(){return function(t){var e=t.store(Cu.store),n=new Cu(0,0,Rr.min().v(),0);return e.put(Cu.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(gu.store).ts().next((function(n){t.deleteObjectStore(gu.store),t.createObjectStore(gu.store,{keyPath:gu.keyPath,autoIncrement:!0}).createIndex(gu.userMutationsIndex,gu.userMutationsKeyPath,{unique:!0});var r=e.store(gu.store),i=n.map((function(t){return r.put(t)}));return Gs.kn(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(Ou.store,{keyPath:Ou.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(ku.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(wu.store);e.createIndex(wu.readTimeIndex,wu.readTimeIndexPath,{unique:!1}),e.createIndex(wu.collectionReadTimeIndex,wu.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.rewriteCanonicalIds(o)}))),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(wu.store).rs((function(t,n){e+=lu(n)})).next((function(){var n=new ku(e);return t.store(ku.store).put(ku.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(yu.store),r=t.store(gu.store);return n.ts().next((function(n){return Gs.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ts(gu.userMutationsIndex,i).next((function(r){return Gs.forEach(r,(function(r){vr(r.userId===n.userId);var i=Za(e.serializer,r);return eu(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Su.store),n=t.store(wu.store);return t.store(Cu.store).get(Cu.key).next((function(t){var r=[];return n.rs((function(n,i){var o=new Lr(n),s=function(t){return[0,Fa(t)]}(o);r.push(e.get(s).next((function(n){return n?Gs.resolve():function(n){return e.put(new Su(0,Fa(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return Gs.kn(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(Iu.store,{keyPath:Iu.keyPath});var n=e.store(Iu.store),r=new fu,i=function(t){if(r.add(t)){var e=t.O(),i=t.F();return n.put({collectionId:e,parent:Fa(i)})}};return e.store(wu.store).rs({ss:!0},(function(t,e){var n=new Lr(t);return i(n.F())})).next((function(){return e.store(mu.store).rs({ss:!0},(function(t,e){var n=Ba(t[1]);return i(n.F())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(Eu.store);return n.rs((function(t,r){var i=Xa(r),o=$a(e.serializer,i);return n.put(o)}))},t}(),pu=function(t,e){this.seconds=t,this.nanoseconds=e},vu=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};vu.store="owner",vu.key="owner";var yu=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};yu.store="mutationQueues",yu.keyPath="userId";var gu=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};gu.store="mutations",gu.keyPath="batchId",gu.userMutationsIndex="userMutationsIndex",gu.userMutationsKeyPath=["userId","batchId"];var mu=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Fa(e)]},t.key=function(t,e,n){return[t,Fa(e),n]},t}();mu.store="documentMutations",mu.PLACEHOLDER=new mu;var bu=function(t,e){this.path=t,this.readTime=e},_u=function(t,e){this.path=t,this.version=e},wu=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};wu.store="remoteDocuments",wu.readTimeIndex="readTimeIndex",wu.readTimeIndexPath="readTime",wu.collectionReadTimeIndex="collectionReadTimeIndex",wu.collectionReadTimeIndexPath=["parentPath","readTime"];var ku=function(t){this.byteSize=t};ku.store="remoteDocumentGlobal",ku.key="remoteDocumentGlobalKey";var Eu=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Eu.store="targets",Eu.keyPath="targetId",Eu.queryTargetsIndexName="queryTargetsIndex",Eu.queryTargetsKeyPath=["canonicalId","targetId"];var Su=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Su.store="targetDocuments",Su.keyPath=["targetId","path"],Su.documentTargetsIndex="documentTargetsIndex",Su.documentTargetsKeyPath=["path","targetId"];var Cu=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Cu.key="targetGlobalKey",Cu.store="targetGlobal";var Iu=function(t,e){this.collectionId=t,this.parent=e};function Tu(t){t.createObjectStore(Su.store,{keyPath:Su.keyPath}).createIndex(Su.documentTargetsIndex,Su.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Eu.store,{keyPath:Eu.keyPath}).createIndex(Eu.queryTargetsIndexName,Eu.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Cu.store)}Iu.store="collectionParents",Iu.keyPath=["collectionId","parent"];var Ou=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Ou.store="clientMetadata",Ou.keyPath="clientId";var Au=Object(r.g)(Object(r.g)(Object(r.g)([yu.store,gu.store,mu.store,wu.store,Eu.store,vu.store,Cu.store,Su.store],[Ou.store]),[ku.store]),[Iu.store]),xu=function(){function t(){this.la=new fu}return t.prototype.Mo=function(t,e){var n=this;if(!this.la.has(e)){var r=e.O(),i=e.F();t.pr((function(){n.la.add(e)}));var o={collectionId:r,parent:Fa(i)};return Nu(t).put(o)}return Gs.resolve()},t.prototype.Kr=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[wr(e),""],!1,!0);return Nu(t).ts(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Ba(o.parent))}return n}))},t}();function Nu(t){return Fu.Kn(t,Iu.store)}var Pu=function(){function t(t){this._a=t}return t.prototype.next=function(){return this._a+=2,this._a},t.fa=function(){return new t(0)},t.da=function(){return new t(-1)},t}(),Du=function(){function t(t,e){this.No=t,this.serializer=e}return t.prototype.wa=function(t){var e=this;return this.Ea(t).next((function(n){var r=new Pu(n.highestTargetId);return n.highestTargetId=r.next(),e.Ta(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Ia=function(t){return this.Ea(t).next((function(t){return Rr.V(new Dr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.ma=function(t){return this.Ea(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Aa=function(t,e,n){var r=this;return this.Ea(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.v()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ta(t,i)}))},t.prototype.Ra=function(t,e){var n=this;return this.Pa(t,e).next((function(){return n.Ea(t).next((function(r){return r.targetCount+=1,n.ga(e,r),n.Ta(t,r)}))}))},t.prototype.Va=function(t,e){return this.Pa(t,e)},t.prototype.ya=function(t,e){var n=this;return this.pa(t,e.targetId).next((function(){return Ru(t).delete(e.targetId)})).next((function(){return n.Ea(t)})).next((function(e){return vr(e.targetCount>0),e.targetCount-=1,n.Ta(t,e)}))},t.prototype.po=function(t,e,n){var r=this,i=0,o=[];return Ru(t).rs((function(s,a){var u=Xa(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.ya(t,u)))})).next((function(){return Gs.kn(o)})).next((function(){return i}))},t.prototype.Ce=function(t,e){return Ru(t).rs((function(t,n){var r=Xa(n);e(r)}))},t.prototype.Ea=function(t){return ju(t).get(Cu.key).next((function(t){return vr(null!==t),t}))},t.prototype.Ta=function(t,e){return ju(t).put(Cu.key,e)},t.prototype.Pa=function(t,e){return Ru(t).put($a(this.serializer,e))},t.prototype.ga=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.ba=function(t){return this.Ea(t).next((function(t){return t.targetCount}))},t.prototype.va=function(t,e){var n=Gr(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Ru(t).rs({range:r,index:Eu.queryTargetsIndexName},(function(t,n,r){var o=Xa(n);Wr(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.Sa=function(t,e,n){var r=this,i=[],o=Lu(t);return e.forEach((function(e){var s=Fa(e.path);i.push(o.put(new Su(n,s))),i.push(r.No.Da(t,n,e))})),Gs.kn(i)},t.prototype.Ca=function(t,e,n){var r=this,i=Lu(t);return Gs.forEach(e,(function(e){var o=Fa(e.path);return Gs.kn([i.delete([n,o]),r.No.Na(t,n,e)])}))},t.prototype.pa=function(t,e){var n=Lu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.xa=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Lu(t),i=fi();return r.rs({range:n,ss:!0},(function(t,e,n){var r=Ba(t[1]),o=new Fr(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Ho=function(t,e){var n=Fa(e.path),r=IDBKeyRange.bound([n],[wr(n)],!1,!0),i=0;return Lu(t).rs({index:Su.documentTargetsIndex,ss:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Ue=function(t,e){return Ru(t).get(e).next((function(t){return t?Xa(t):null}))},t}();function Ru(t){return Fu.Kn(t,Eu.store)}function ju(t){return Fu.Kn(t,Cu.store)}function Lu(t){return Fu.Kn(t,Su.store)}var Mu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Vu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Wo=e,r.Fa=n,r}return Object(r.c)(e,t),e}(xa),Fu=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.fn=o,this.window=s,this.document=a,this.ka=c,this.Oa=l,this.Ma=null,this.$a=!1,this.isPrimary=!1,this.networkEnabled=!0,this.La=null,this.inForeground=!1,this.Ba=null,this.qa=null,this.Ua=Number.NEGATIVE_INFINITY,this.Ka=function(t){return Promise.resolve()},!t.Ln())throw new ar(sr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.No=new Bu(this,i),this.Qa=n+"main",this.serializer=new za(u),this.Wa=new Ws(this.Qa,10,new du(this.serializer)),this.ja=new Du(this.No,this.serializer),this.Dr=new xu,this.vr=function(t,e){return new ou(t,e)}(this.serializer,this.Dr),this.window&&this.window.localStorage?this.Ga=this.window.localStorage:(this.Ga=null,!1===l&&hr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Kn=function(t,e){if(t instanceof Vu)return Ws.Kn(t.Wo,e);throw pr()},t.prototype.start=function(){var t=this;return this.za().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new ar(sr.FAILED_PRECONDITION,Mu);return t.Ha(),t.Ja(),t.Ya(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.ja.ma(e)}))})).then((function(e){t.Ma=new va(e,t.ka)})).then((function(){t.$a=!0})).catch((function(e){return t.Wa&&t.Wa.close(),Promise.reject(e)}))},t.prototype.Xa=function(t){var e=this;return this.Ka=function(n){return Object(r.b)(e,void 0,void 0,(function(){return Object(r.d)(this,(function(e){return this.Ii?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.Za=function(t){var e=this;this.Wa.jn((function(n){return Object(r.b)(e,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.th=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.fn.ws((function(){return Object(r.b)(e,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return this.Ii?[4,this.za()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.za=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return qu(e).put(new Ou(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.eh(e).next((function(e){e||(t.isPrimary=!1,t.fn.Cs((function(){return t.Ka(!1)})))}))})).next((function(){return t.nh(e)})).next((function(n){return t.isPrimary&&!n?t.sh(e).next((function(){return!1})):!!n&&t.ih(e).next((function(){return!0}))}))})).catch((function(e){if(Ys(e))return lr("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return lr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.fn.Cs((function(){return t.Ka(e)})),t.isPrimary=e}))},t.prototype.eh=function(t){var e=this;return Uu(t).get(vu.key).next((function(t){return Gs.resolve(e.rh(t))}))},t.prototype.oh=function(t){return qu(t).delete(this.clientId)},t.prototype.ah=function(){return Object(r.b)(this,void 0,void 0,(function(){var e,n,i,o=this;return Object(r.d)(this,(function(r){switch(r.label){case 0:return!this.isPrimary||this.hh(this.Ua,18e5)?[3,2]:(this.Ua=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.Kn(e,Ou.store);return n.ts().next((function(t){var e=o.uh(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return Gs.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=r.sent(),this.Ga)for(n=0,i=e;n<i.length;n++)this.Ga.removeItem(this.lh(i[n].clientId));r.label=2;case 2:return[2]}}))}))},t.prototype.Ya=function(){var t=this;this.qa=this.fn.Vn("client_metadata_refresh",4e3,(function(){return t.za().then((function(){return t.ah()})).then((function(){return t.Ya()}))}))},t.prototype.rh=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.nh=function(t){var e=this;return this.Oa?Gs.resolve(!0):Uu(t).get(vu.key).next((function(n){if(null!==n&&e.hh(n.leaseTimestampMs,5e3)&&!e._h(n.ownerId)){if(e.rh(n)&&e.networkEnabled)return!0;if(!e.rh(n)){if(!n.allowTabSynchronization)throw new ar(sr.FAILED_PRECONDITION,Mu);return!1}}return!(!e.networkEnabled||!e.inForeground)||qu(t).ts().next((function(t){return void 0===e.uh(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&lr("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.Di=function(){return Object(r.b)(this,void 0,void 0,(function(){var t=this;return Object(r.d)(this,(function(e){switch(e.label){case 0:return this.$a=!1,this.fh(),this.qa&&(this.qa.cancel(),this.qa=null),this.dh(),this.wh(),[4,this.Wa.runTransaction("shutdown","readwrite",[vu.store,Ou.store],(function(e){var n=new Vu(e,va.ai);return t.sh(n).next((function(){return t.oh(n)}))}))];case 1:return e.sent(),this.Wa.close(),this.Eh(),[2]}}))}))},t.prototype.uh=function(t,e){var n=this;return t.filter((function(t){return n.hh(t.updateTimeMs,e)&&!n._h(t.clientId)}))},t.prototype.pi=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return qu(e).ts().next((function(e){return t.uh(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Ii",{get:function(){return this.$a},enumerable:!1,configurable:!0}),t.prototype.Th=function(t){return Ja.Fo(t,this.serializer,this.Dr,this.No)},t.prototype.Ih=function(){return this.ja},t.prototype.mh=function(){return this.vr},t.prototype.Ah=function(){return this.Dr},t.prototype.runTransaction=function(t,e,n){var r,i=this;return lr("IndexedDbPersistence","Starting transaction:",t),this.Wa.runTransaction(t,"readonly"===e?"readonly":"readwrite",Au,(function(o){return r=new Vu(o,i.Ma?i.Ma.next():va.ai),"readwrite-primary"===e?i.eh(r).next((function(t){return!!t||i.nh(r)})).next((function(e){if(!e)throw hr("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.fn.Cs((function(){return i.Ka(!1)})),new ar(sr.FAILED_PRECONDITION,Aa);return n(r)})).next((function(t){return i.ih(r).next((function(){return t}))})):i.Rh(r).next((function(){return n(r)}))})).then((function(t){return r.br(),t}))},t.prototype.Rh=function(t){var e=this;return Uu(t).get(vu.key).next((function(t){if(null!==t&&e.hh(t.leaseTimestampMs,5e3)&&!e._h(t.ownerId)&&!e.rh(t)&&!(e.Oa||e.allowTabSynchronization&&t.allowTabSynchronization))throw new ar(sr.FAILED_PRECONDITION,Mu)}))},t.prototype.ih=function(t){var e=new vu(this.clientId,this.allowTabSynchronization,Date.now());return Uu(t).put(vu.key,e)},t.Ln=function(){return Ws.Ln()},t.prototype.sh=function(t){var e=this,n=Uu(t);return n.get(vu.key).next((function(t){return e.rh(t)?(lr("IndexedDbPersistence","Releasing primary lease."),n.delete(vu.key)):Gs.resolve()}))},t.prototype.hh=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(hr("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Ha=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ba=function(){t.fn.ws((function(){return t.inForeground="visible"===t.document.visibilityState,t.za()}))},this.document.addEventListener("visibilitychange",this.Ba),this.inForeground="visible"===this.document.visibilityState)},t.prototype.dh=function(){this.Ba&&(this.document.removeEventListener("visibilitychange",this.Ba),this.Ba=null)},t.prototype.Ja=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.La=function(){e.fh(),e.fn.ws((function(){return e.Di()}))},this.window.addEventListener("unload",this.La))},t.prototype.wh=function(){this.La&&(this.window.removeEventListener("unload",this.La),this.La=null)},t.prototype._h=function(t){var e;try{var n=null!==(null===(e=this.Ga)||void 0===e?void 0:e.getItem(this.lh(t)));return lr("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return hr("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.fh=function(){if(this.Ga)try{this.Ga.setItem(this.lh(this.clientId),String(Date.now()))}catch(t){hr("Failed to set zombie client id.",t)}},t.prototype.Eh=function(){if(this.Ga)try{this.Ga.removeItem(this.lh(this.clientId))}catch(t){}},t.prototype.lh=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Uu(t){return Fu.Kn(t,vu.store)}function qu(t){return Fu.Kn(t,Ou.store)}var Bu=function(){function t(t,e){this.db=t,this.wo=new Va(this,e)}return t.prototype.Po=function(t){var e=this.Ph(t);return this.db.Ih().ba(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Ph=function(t){var e=0;return this.yo(t,(function(t){e++})).next((function(){return e}))},t.prototype.Ce=function(t,e){return this.db.Ih().Ce(t,e)},t.prototype.yo=function(t,e){return this.gh(t,(function(t,n){return e(n)}))},t.prototype.Da=function(t,e,n){return zu(t,n)},t.prototype.Na=function(t,e,n){return zu(t,n)},t.prototype.po=function(t,e,n){return this.db.Ih().po(t,e,n)},t.prototype.Go=function(t,e){return zu(t,e)},t.prototype.Vh=function(t,e){return function(t,e){var n=!1;return iu(t).os((function(r){return tu(t,r,e).next((function(t){return t&&(n=!0),Gs.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.bo=function(t,e){var n=this,r=this.db.mh().ra(),i=[],o=0;return this.gh(t,(function(s,a){if(a<=e){var u=n.Vh(t,s).next((function(e){if(!e)return o++,r.Rr(t,s).next((function(){return r.Ar(s),Lu(t).delete([0,Fa(s.path)])}))}));i.push(u)}})).next((function(){return Gs.kn(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.st(t.Fa);return this.db.Ih().Va(t,n)},t.prototype.yh=function(t,e){return zu(t,e)},t.prototype.gh=function(t,e){var n,r=Lu(t),i=va.ai;return r.rs({index:Su.documentTargetsIndex},(function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==va.ai&&e(new Fr(Ba(n)),i),i=s,n=o):i=va.ai})).next((function(){i!==va.ai&&e(new Fr(Ba(n)),i)}))},t.prototype.So=function(t){return this.db.mh().aa(t)},t}();function zu(t,e){return Lu(t).put(function(t,e){return new Su(0,Fa(t.path),e)}(e,t.Fa))}function Hu(t,e){var n=t.projectId;return t.I||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Gu=function(){function t(t,e,n){this.persistence=t,this.ph=e,this.bh=new ti(br),this.Sh=new Pr((function(t){return Gr(t)}),Wr),this.Dh=Rr.min(),this.Sr=t.Th(n),this.Ch=t.mh(),this.ja=t.Ih(),this.Nh=new Na(this.Ch,this.Sr,this.persistence.Ah()),this.ph.xh(this.Nh)}return t.prototype.mo=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.vo(n,e.bh)}))},t}();function Wu(t,e){var n=yr(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Ch.ra({oa:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Gs.resolve();return o.forEach((function(t){s=s.next((function(){return r.Rr(e,t)})).next((function(e){var o=e,s=n.dr.get(t);vr(null!==s),(!o||o.version.h(s)<0)&&(o=i.hr(t,o,n))&&r.Ir(o,n._r)}))})),s.next((function(){return t.Sr.Qo(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.Sr.zo(t)})).next((function(){return n.Nh.Or(t,r)}))}))}function Ku(t){var e=yr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.ja.Ia(t)}))}function Qu(t,e){var n=yr(t),r=e.nt,i=n.bh;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Ch.ra({oa:!0});i=n.bh;var s=[];e.zt.forEach((function(e,o){var a=i.get(o);if(a){s.push(n.ja.Ca(t,e.se,o).next((function(){return n.ja.Sa(t,e.ee,o)})));var u=e.resumeToken;if(u.o()>0){var c=a.it(u,r).st(t.Fa);i=i.ot(o,c),function(t,e,n){return vr(e.resumeToken.o()>0),0===t.resumeToken.o()||e.nt.p()-t.nt.p()>=3e8||n.ee.size+n.ne.size+n.se.size>0}(a,c,e)&&s.push(n.ja.Va(t,c))}}}));var a=si(),u=fi();if(e.Jt.forEach((function(t,e){u=u.add(t)})),s.push(o.getEntries(t,u).next((function(i){e.Jt.forEach((function(u,c){var l=i.get(u);c instanceof as&&c.version.isEqual(Rr.min())?(o.Ar(u,r),a=a.ot(u,c)):null==l||c.version.h(l.version)>0||0===c.version.h(l.version)&&l.hasPendingWrites?(o.Ir(c,r),a=a.ot(u,c)):lr("LocalStore","Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",c.version),e.Yt.has(u)&&s.push(n.persistence.No.yh(t,u))}))}))),!r.isEqual(Rr.min())){var c=n.ja.Ia(t).next((function(e){return n.ja.Aa(t,t.Fa,r)}));s.push(c)}return Gs.kn(s).next((function(){return o.apply(t)})).next((function(){return n.Nh.Mr(t,a)}))})).then((function(t){return n.bh=i,t}))}function Yu(t,e){var n=yr(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Sr.Bo(t,e)}))}function Zu(t,e){var n=yr(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.ja.va(t,e).next((function(i){return i?Gs.resolve(r=i):n.ja.wa(t).next((function(i){return r=new Zr(e,i,0,t.Fa),n.ja.Ra(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.bh.get(t.targetId);return(null===r||t.nt.h(r.nt)>0)&&(n.bh=n.bh.ot(t.targetId,t),n.Sh.set(e,t.targetId)),t}))}function Xu(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o,s,a;return Object(r.d)(this,(function(r){switch(r.label){case 0:i=yr(t),o=i.bh.get(e),s=n?"readwrite":"readwrite-primary",r.label=1;case 1:return r.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",s,(function(t){return i.persistence.No.removeTarget(t,o)}))];case 2:r.sent(),r.label=3;case 3:return[3,5];case 4:if(!Ys(a=r.sent()))throw a;return lr("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return i.bh=i.bh.remove(e),i.Sh.delete(o.target),[2]}}))}))}function $u(t,e,n){var r=yr(t),i=Rr.min(),o=fi();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=yr(t),i=r.Sh.get(n);return void 0!==i?Gs.resolve(r.bh.get(i)):r.ja.va(e,n)}(r,t,ms(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.ja.xa(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.ph.Lr(t,e,n?i:Rr.min(),n?o:fi())})).next((function(t){return{documents:t,Fh:o}}))}))}function Ju(t,e){var n=yr(t),r=yr(n.ja),i=n.bh.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Ue(t,e).next((function(t){return t?t.target:null}))}))}function tc(t){var e=yr(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=yr(t),i=si(),o=Wa(n),s=uu(e),a=IDBKeyRange.lowerBound(o,!0);return s.rs({index:wu.readTimeIndex,range:a},(function(t,e){var n=Ha(r.serializer,e);i=i.ot(n.key,n),o=e.readTime})).next((function(){return{kh:i,readTime:Ka(o)}}))}(e.Ch,t,e.Dh)})).then((function(t){var n=t.kh;return e.Dh=t.readTime,n}))}function ec(t){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(n){return[2,(e=yr(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=uu(t),n=Rr.min();return e.rs({index:wu.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Ka(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.Dh=t}))]}))}))}function nc(t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){if(t.code!==sr.FAILED_PRECONDITION||t.message!==Aa)throw t;return lr("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var rc=function(){function t(){this.Oh=new ri(ic.Mh),this.$h=new ri(ic.Lh)}return t.prototype.P=function(){return this.Oh.P()},t.prototype.Da=function(t,e){var n=new ic(t,e);this.Oh=this.Oh.add(n),this.$h=this.$h.add(n)},t.prototype.Bh=function(t,e){var n=this;t.forEach((function(t){return n.Da(t,e)}))},t.prototype.Na=function(t,e){this.qh(new ic(t,e))},t.prototype.Uh=function(t,e){var n=this;t.forEach((function(t){return n.Na(t,e)}))},t.prototype.Kh=function(t){var e=this,n=new Fr(new Lr([])),r=new ic(n,t),i=new ic(n,t+1),o=[];return this.$h.xt([r,i],(function(t){e.qh(t),o.push(t.key)})),o},t.prototype.Qh=function(){var t=this;this.Oh.forEach((function(e){return t.qh(e)}))},t.prototype.qh=function(t){this.Oh=this.Oh.delete(t),this.$h=this.$h.delete(t)},t.prototype.Wh=function(t){var e=new Fr(new Lr([])),n=new ic(e,t),r=new ic(e,t+1),i=fi();return this.$h.xt([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Ho=function(t){var e=new ic(t,0),n=this.Oh.kt(e);return null!==n&&t.isEqual(n.key)},t}(),ic=function(){function t(t,e){this.key=t,this.jh=e}return t.Mh=function(t,e){return Fr.D(t.key,e.key)||br(t.jh,e.jh)},t.Lh=function(t,e){return br(t.jh,e.jh)||Fr.D(t.key,e.key)},t}(),oc=function(t,e){this.user=e,this.type="OAuth",this.Gh={},this.Gh.Authorization="Bearer "+t},sc=function(){function t(){this.zh=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.Hh=function(){},t.prototype.Jh=function(t){this.zh=t,t(pa.UNAUTHENTICATED)},t.prototype.Yh=function(){this.zh=null},t}(),ac=function(){function t(t){var e=this;this.Xh=null,this.currentUser=pa.UNAUTHENTICATED,this.Zh=!1,this.tc=0,this.zh=null,this.forceRefresh=!1,this.Xh=function(){e.tc++,e.currentUser=e.ec(),e.Zh=!0,e.zh&&e.zh(e.currentUser)},this.tc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Xh):(this.Xh(null),t.get().then((function(t){e.auth=t,e.Xh&&e.auth.addAuthTokenListener(e.Xh)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.tc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.tc!==e?(lr("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(vr("string"==typeof n.accessToken),new oc(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.Hh=function(){this.forceRefresh=!0},t.prototype.Jh=function(t){this.zh=t,this.Zh&&t(this.currentUser)},t.prototype.Yh=function(){this.auth&&this.auth.removeAuthTokenListener(this.Xh),this.Xh=null,this.zh=null},t.prototype.ec=function(){var t=this.auth&&this.auth.getUid();return vr(null===t||"string"==typeof t),new pa(t)},t}(),uc=function(){function t(t,e){this.nc=t,this.sc=e,this.type="FirstParty",this.user=pa.ni}return Object.defineProperty(t.prototype,"Gh",{get:function(){var t={"X-Goog-AuthUser":this.sc},e=this.nc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),cc=function(){function t(t,e){this.nc=t,this.sc=e}return t.prototype.getToken=function(){return Promise.resolve(new uc(this.nc,this.sc))},t.prototype.Jh=function(t){t(pa.ni)},t.prototype.Yh=function(){},t.prototype.Hh=function(){},t}(),lc=function(){function t(t,e,n,r,i,o){this.fn=t,this.ic=n,this.rc=r,this.oc=i,this.listener=o,this.state=0,this.ac=0,this.hc=null,this.stream=null,this.Vs=new Hs(t,e)}return t.prototype.cc=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.uc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.lc()},t.prototype.stop=function(){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return this.cc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype._c=function(){this.state=0,this.Vs.reset()},t.prototype.fc=function(){var t=this;this.uc()&&null===this.hc&&(this.hc=this.fn.Vn(this.ic,6e4,(function(){return t.dc()})))},t.prototype.wc=function(t){this.Ec(),this.stream.send(t)},t.prototype.dc=function(){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(t){return this.uc()?[2,this.close(0)]:[2]}))}))},t.prototype.Ec=function(){this.hc&&(this.hc.cancel(),this.hc=null)},t.prototype.close=function(t,e){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(n){switch(n.label){case 0:return this.Ec(),this.Vs.cancel(),this.ac++,3!==t?this.Vs.reset():e&&e.code===sr.RESOURCE_EXHAUSTED?(hr(e.toString()),hr("Using maximum backoff delay to prevent overloading the backend."),this.Vs.Rn()):e&&e.code===sr.UNAUTHENTICATED&&this.oc.Hh(),null!==this.stream&&(this.Tc(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ic(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.Tc=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.mc(this.ac),n=this.ac;this.oc.getToken().then((function(e){t.ac===n&&t.Ac(e)}),(function(n){e((function(){var e=new ar(sr.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Rc(e)}))}))},t.prototype.Ac=function(t){var e=this,n=this.mc(this.ac);this.stream=this.Pc(t),this.stream.gc((function(){n((function(){return e.state=2,e.listener.gc()}))})),this.stream.Ic((function(t){n((function(){return e.Rc(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.lc=function(){var t=this;this.state=4,this.Vs.Pn((function(){return Object(r.b)(t,void 0,void 0,(function(){return Object(r.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.Rc=function(t){return lr("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.mc=function(t){var e=this;return function(n){e.fn.ws((function(){return e.ac===t?n():(lr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),hc=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,s}return Object(r.c)(e,t),e.prototype.Pc=function(t){return this.rc.Vc("Listen",t)},e.prototype.onMessage=function(t){this.Vs.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:pr()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Ke?(vr(void 0===e||"string"==typeof e),kr.fromBase64String(e||"")):(vr(void 0===e||e instanceof Uint8Array),kr.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(t){var e=void 0===t.code?sr.UNKNOWN:Jr(t.code);return new ar(e,t.message||"")}(s);n=new ki(r,i,o,a||null)}else if("documentChange"in e){var u=e.documentChange,c=io(t,u.document.name),l=to(u.document.updateTime),h=new ns({mapValue:{fields:u.document.fields}}),f=new ss(c,l,h,{});n=new _i(u.targetIds||[],u.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){var d=e.documentDelete,p=io(t,d.document),v=d.readTime?to(d.readTime):Rr.min(),y=new as(p,v);n=new _i([],d.removedTargetIds||[],y.key,y)}else if("documentRemove"in e){var g=e.documentRemove,m=io(t,g.document);n=new _i([],g.removedTargetIds||[],m,null)}else{if(!("filter"in e))return pr();var b=e.filter,_=new Xr(b.count||0);n=new wi(b.targetId,_)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return Rr.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Rr.min():e.readTime?to(e.readTime):Rr.min()}(t);return this.listener.yc(e,n)},e.prototype.bc=function(t){var e={};e.database=ao(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=Kr(r)?{documents:fo(t,r)}:{query:po(t,r)}).targetId=e.targetId,e.resumeToken.o()>0&&(n.resumeToken=$i(t,e.resumeToken)),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return pr()}}(0,e.et);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.wc(e)},e.prototype.vc=function(t){var e={};e.database=ao(this.serializer),e.removeTarget=t,this.wc(e)},e}(lc),fc=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,s.Sc=!1,s}return Object(r.c)(e,t),Object.defineProperty(e.prototype,"Dc",{get:function(){return this.Sc},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Sc=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.Tc=function(){this.Sc&&this.Cc([])},e.prototype.Pc=function(t){return this.rc.Vc("Write",t)},e.prototype.onMessage=function(t){if(vr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Sc){this.Vs.reset();var e=function(t,e){return t&&t.length>0?(vr(void 0!==e),t.map((function(t){return function(t,e){var n=to(t.updateTime?t.updateTime:e);n.isEqual(Rr.min())&&(n=to(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Fo(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=to(t.commitTime);return this.listener.Nc(n,e)}return vr(!t.writeResults||0===t.writeResults.length),this.Sc=!0,this.listener.xc()},e.prototype.Fc=function(){var t={};t.database=ao(this.serializer),this.wc(t)},e.prototype.Cc=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return lo(e.serializer,t)}))};this.wc(n)},e}(lc),dc=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.rc=n,i.serializer=r,i.kc=!1,i}return Object(r.c)(e,t),e.prototype.Oc=function(){if(this.kc)throw new ar(sr.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Mc=function(t,e,n){var r=this;return this.Oc(),this.credentials.getToken().then((function(i){return r.rc.Mc(t,e,n,i)})).catch((function(t){throw t.code===sr.UNAUTHENTICATED&&r.credentials.Hh(),t}))},e.prototype.$c=function(t,e,n){var r=this;return this.Oc(),this.credentials.getToken().then((function(i){return r.rc.$c(t,e,n,i)})).catch((function(t){throw t.code===sr.UNAUTHENTICATED&&r.credentials.Hh(),t}))},e.prototype.terminate=function(){this.kc=!1},e}((function(){})),pc=function(){function t(t,e){this.hs=t,this.di=e,this.state="Unknown",this.Lc=0,this.Bc=null,this.qc=!0}return t.prototype.Uc=function(){var t=this;0===this.Lc&&(this.Kc("Unknown"),this.Bc=this.hs.Vn("online_state_timeout",1e4,(function(){return t.Bc=null,t.Qc("Backend didn't respond within 10 seconds."),t.Kc("Offline"),Promise.resolve()})))},t.prototype.Wc=function(t){"Online"===this.state?this.Kc("Unknown"):(this.Lc++,this.Lc>=1&&(this.jc(),this.Qc("Connection failed 1 times. Most recent error: "+t.toString()),this.Kc("Offline")))},t.prototype.set=function(t){this.jc(),this.Lc=0,"Online"===t&&(this.qc=!1),this.Kc(t)},t.prototype.Kc=function(t){t!==this.state&&(this.state=t,this.di(t))},t.prototype.Qc=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.qc?(hr(e),this.qc=!1):lr("OnlineStateTracker",e)},t.prototype.jc=function(){null!==this.Bc&&(this.Bc.cancel(),this.Bc=null)},t}(),vc=function(t,e,n,i,o){var s=this;this.Gc=t,this.zc=e,this.hs=n,this.Hc={},this.Jc=[],this.Yc=new Map,this.Xc=new Set,this.Zc=[],this.tu=o,this.tu.eu((function(t){n.ws((function(){return Object(r.b)(s,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return Cc(this)?(lr("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(n){switch(n.label){case 0:return(e=yr(t)).Xc.add(4),[4,gc(e)];case 1:return n.sent(),e.nu.set("Unknown"),e.Xc.delete(4),[4,yc(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.nu=new pc(n,i)};function yc(t){return Object(r.b)(this,void 0,void 0,(function(){var e,n;return Object(r.d)(this,(function(r){switch(r.label){case 0:if(!Cc(t))return[3,4];e=0,n=t.Zc,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function gc(t){return Object(r.b)(this,void 0,void 0,(function(){var e,n;return Object(r.d)(this,(function(r){switch(r.label){case 0:e=0,n=t.Zc,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function mc(t){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(n){switch(n.label){case 0:return e=yr(t),lr("RemoteStore","RemoteStore shutting down."),e.Xc.add(5),[4,gc(e)];case 1:return n.sent(),e.tu.Di(),e.nu.set("Unknown"),[2]}}))}))}function bc(t,e){var n=yr(t);n.Yc.has(e.targetId)||(n.Yc.set(e.targetId,e),Sc(n)?Ec(n):Uc(n).uc()&&wc(n,e))}function _c(t,e){var n=yr(t),r=Uc(n);n.Yc.delete(e),r.uc()&&kc(n,e),0===n.Yc.size&&(r.uc()?r.fc():Cc(n)&&n.nu.set("Unknown"))}function wc(t,e){t.su.me(e.targetId),Uc(t).bc(e)}function kc(t,e){t.su.me(e),Uc(t).vc(e)}function Ec(t){t.su=new Si({qe:function(e){return t.Hc.qe(e)},Ue:function(e){return t.Yc.get(e)||null}}),Uc(t).start(),t.nu.Uc()}function Sc(t){return Cc(t)&&!Uc(t).cc()&&t.Yc.size>0}function Cc(t){return 0===yr(t).Xc.size}function Ic(t){t.su=void 0}function Tc(t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){return t.Yc.forEach((function(e,n){wc(t,e)})),[2]}))}))}function Oc(t,e){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(n){return Ic(t),Sc(t)?(t.nu.Wc(e),Ec(t)):t.nu.set("Unknown"),[2]}))}))}function Ac(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o,s;return Object(r.d)(this,(function(a){switch(a.label){case 0:if(t.nu.set("Online"),!(e instanceof ki&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,s;return Object(r.d)(this,(function(r){switch(r.label){case 0:n=e.cause,i=0,o=e.targetIds,r.label=1;case 1:return i<o.length?t.Yc.has(s=o[i])?[4,t.Hc.iu(s,n)]:[3,3]:[3,5];case 2:r.sent(),t.Yc.delete(s),t.su.removeTarget(s),r.label=3;case 3:r.label=4;case 4:return i++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return a.sent(),[3,5];case 3:return i=a.sent(),lr("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),[4,xc(t,i)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof _i?t.su.be(e):e instanceof wi?t.su.ke(e):t.su.De(e),n.isEqual(Rr.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Ku(t.Gc)];case 8:return o=a.sent(),n.h(o)>=0?[4,function(t,e){var n=t.su.$e(e);return n.zt.forEach((function(n,r){if(n.resumeToken.o()>0){var i=t.Yc.get(r);i&&t.Yc.set(r,i.it(n.resumeToken,e))}})),n.Ht.forEach((function(e){var n=t.Yc.get(e);if(n){t.Yc.set(e,n.it(kr.u,n.nt)),kc(t,e);var r=new Zr(n.target,e,1,n.sequenceNumber);wc(t,r)}})),t.Hc.ru(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return lr("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,xc(t,s)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function xc(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i=this;return Object(r.d)(this,(function(o){switch(o.label){case 0:if(!Ys(e))throw e;return t.Xc.add(1),[4,gc(t)];case 1:return o.sent(),t.nu.set("Offline"),n||(n=function(){return Ku(t.Gc)}),t.hs.Cs((function(){return Object(r.b)(i,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return lr("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Xc.delete(1),[4,yc(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Nc(t,e){return e().catch((function(n){return xc(t,n,e)}))}function Pc(t){return Object(r.b)(this,void 0,void 0,(function(){var e,n,i,o,s;return Object(r.d)(this,(function(r){switch(r.label){case 0:e=yr(t),n=qc(e),i=e.Jc.length>0?e.Jc[e.Jc.length-1].batchId:-1,r.label=1;case 1:if(!function(t){return Cc(t)&&t.Jc.length<10}(e))return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,Yu(e.Gc,i)];case 3:return null===(o=r.sent())?(0===e.Jc.length&&n.fc(),[3,7]):(i=o.batchId,function(t,e){t.Jc.push(e);var n=qc(t);n.uc()&&n.Dc&&n.Cc(e.mutations)}(e,o),[3,6]);case 4:return s=r.sent(),[4,xc(e,s)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return Dc(e)&&Rc(e),[2]}}))}))}function Dc(t){return Cc(t)&&!qc(t).cc()&&t.Jc.length>0}function Rc(t){qc(t).start()}function jc(t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){return qc(t).Fc(),[2]}))}))}function Lc(t){return Object(r.b)(this,void 0,void 0,(function(){var e,n,i;return Object(r.d)(this,(function(r){for(e=qc(t),n=0,i=t.Jc;n<i.length;n++)e.Cc(i[n].mutations);return[2]}))}))}function Mc(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:return i=t.Jc.shift(),o=Ta.from(i,e,n),[4,Nc(t,(function(){return t.Hc.ou(o)}))];case 1:return r.sent(),[4,Pc(t)];case 2:return r.sent(),[2]}}))}))}function Vc(t,e){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(n){switch(n.label){case 0:return e&&qc(t).Dc?[4,function(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i;return Object(r.d)(this,(function(r){switch(r.label){case 0:return $r(i=e.code)&&i!==sr.ABORTED?(n=t.Jc.shift(),qc(t)._c(),[4,Nc(t,(function(){return t.Hc.au(n.batchId,e)}))]):[3,3];case 1:return r.sent(),[4,Pc(t)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Dc(t)&&Rc(t),[2]}}))}))}function Fc(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=yr(t),e?(n.Xc.delete(2),[4,yc(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Xc.add(2),[4,gc(n)]);case 3:r.sent(),n.nu.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Uc(t){var e=this;return t.hu||(t.hu=function(t,e,n){var r=yr(t);return r.Oc(),new hc(e,r.rc,r.credentials,r.serializer,n)}(t.zc,t.hs,{gc:Tc.bind(null,t),Ic:Oc.bind(null,t),yc:Ac.bind(null,t)}),t.Zc.push((function(n){return Object(r.b)(e,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return n?(t.hu._c(),Sc(t)?Ec(t):t.nu.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.hu.stop()];case 2:e.sent(),Ic(t),e.label=3;case 3:return[2]}}))}))}))),t.hu}function qc(t){var e=this;return t.cu||(t.cu=function(t,e,n){var r=yr(t);return r.Oc(),new fc(e,r.rc,r.credentials,r.serializer,n)}(t.zc,t.hs,{gc:jc.bind(null,t),Ic:Vc.bind(null,t),xc:Lc.bind(null,t),Nc:Mc.bind(null,t)}),t.Zc.push((function(n){return Object(r.b)(e,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return n?(t.cu._c(),[4,Pc(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.cu.stop()];case 3:e.sent(),t.Jc.length>0&&(lr("RemoteStore","Stopping write stream with "+t.Jc.length+" pending writes"),t.Jc=[]),e.label=4;case 4:return[2]}}))}))}))),t.cu}var Bc=function(t){this.key=t},zc=function(t){this.key=t},Hc=function(){function t(t,e){this.query=t,this.uu=e,this.lu=null,this.te=!1,this._u=fi(),this.Qt=fi(),this.fu=Is(t),this.du=new vi(this.fu)}return Object.defineProperty(t.prototype,"wu",{get:function(){return this.uu},enumerable:!1,configurable:!0}),t.prototype.Eu=function(t,e){var n=this,r=e?e.Tu:new yi,i=e?e.du:this.du,o=e?e.Qt:this.Qt,s=i,a=!1,u=fs(this.query)&&i.size===this.query.limit?i.last():null,c=ds(this.query)&&i.size===this.query.limit?i.first():null;if(t.ut((function(t,e){var l=i.get(t),h=e instanceof ss?e:null;h&&(h=Cs(n.query,h)?h:null);var f=!!l&&n.Qt.has(l.key),d=!!h&&(h.Ye||n.Qt.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Iu(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.fu(h,u)>0||c&&n.fu(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),fs(this.query)||ds(this.query))for(;s.size>this.query.limit;){var l=fs(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{du:s,Tu:r,mu:a,Qt:o}},t.prototype.Iu=function(t,e){return t.Ye&&e.hasCommittedMutations&&!e.Ye},t.prototype.Vr=function(t,e,n){var r=this,i=this.du;this.du=t.du,this.Qt=t.Qt;var o=t.Tu.Ut();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pr()}};return n(t)-n(e)}(t.type,e.type)||r.fu(t.doc,e.doc)})),this.Au(n);var s=e?this.Ru():[],a=0===this._u.size&&this.te?1:0,u=a!==this.lu;return this.lu=a,0!==o.length||u?{snapshot:new gi(this.query,t.du,i,o,t.Qt,0===a,u,!1),Pu:s}:{Pu:s}},t.prototype.Ks=function(t){return this.te&&"Offline"===t?(this.te=!1,this.Vr({du:this.du,Tu:new yi,Qt:this.Qt,mu:!1},!1)):{Pu:[]}},t.prototype.gu=function(t){return!this.uu.has(t)&&!!this.du.has(t)&&!this.du.get(t).Ye},t.prototype.Au=function(t){var e=this;t&&(t.ee.forEach((function(t){return e.uu=e.uu.add(t)})),t.ne.forEach((function(t){})),t.se.forEach((function(t){return e.uu=e.uu.delete(t)})),this.te=t.te)},t.prototype.Ru=function(){var t=this;if(!this.te)return[];var e=this._u;this._u=fi(),this.du.forEach((function(e){t.gu(e.key)&&(t._u=t._u.add(e.key))}));var n=[];return e.forEach((function(e){t._u.has(e)||n.push(new zc(e))})),this._u.forEach((function(t){e.has(t)||n.push(new Bc(t))})),n},t.prototype.Vu=function(t){this.uu=t.Fh,this._u=fi();var e=this.Eu(t.documents);return this.Vr(e,!0)},t.prototype.yu=function(){return gi.Gt(this.query,this.du,this.Qt,0===this.lu)},t}(),Gc=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Wc=function(t){this.key=t,this.pu=!1},Kc=function(){function t(t,e,n,r,i,o){this.Gc=t,this.bu=e,this.vu=n,this.Su=r,this.currentUser=i,this.Du=o,this.Cu={},this.Nu=new Pr((function(t){return Es(t)}),ks),this.xu=new Map,this.Fu=[],this.ku=new ti(Fr.D),this.Ou=new Map,this.Mu=new rc,this.$u={},this.Lu=new Map,this.Bu=Pu.da(),this.onlineState="Unknown",this.qu=void 0}return Object.defineProperty(t.prototype,"Uu",{get:function(){return!0===this.qu},enumerable:!1,configurable:!0}),t}();function Qc(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,s,a;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=_l(t),(o=n.Nu.get(e))?(n.Su.$i(o.targetId),i=o.view.yu(),[3,4]):[3,1];case 1:return[4,Zu(n.Gc,ms(e))];case 2:return s=r.sent(),a=n.Su.$i(s.targetId),[4,Yc(n,e,s.targetId,"current"===a)];case 3:i=r.sent(),n.Uu&&bc(n.bu,s),r.label=4;case 4:return[2,i]}}))}))}function Yc(t,e,n,i){return Object(r.b)(this,void 0,void 0,(function(){var o,s,a,u,c,l;return Object(r.d)(this,(function(h){switch(h.label){case 0:return t.Ku=function(e,n,i){return function(t,e,n,i){return Object(r.b)(this,void 0,void 0,(function(){var o,s,a;return Object(r.d)(this,(function(r){switch(r.label){case 0:return(o=e.view.Eu(n)).mu?[4,$u(t.Gc,e.query,!1).then((function(t){return e.view.Eu(t.documents,o)}))]:[3,2];case 1:o=r.sent(),r.label=2;case 2:return s=i&&i.zt.get(e.targetId),a=e.view.Vr(o,t.Uu,s),[2,(sl(t,e.targetId,a.Pu),a.snapshot)]}}))}))}(t,e,n,i)},[4,$u(t.Gc,e,!0)];case 1:return o=h.sent(),s=new Hc(e,o.Fh),a=s.Eu(o.documents),u=bi.Zt(n,i&&"Offline"!==t.onlineState),c=s.Vr(a,t.Uu,u),sl(t,n,c.Pu),l=new Gc(e,n,s),[2,(t.Nu.set(e,l),t.xu.has(n)?t.xu.get(n).push(e):t.xu.set(n,[e]),c.snapshot)]}}))}))}function Zc(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=yr(t),i=n.Nu.get(e),(o=n.xu.get(i.targetId)).length>1?[2,(n.xu.set(i.targetId,o.filter((function(t){return!ks(t,e)}))),void n.Nu.delete(e))]:n.Uu?(n.Su.Bi(i.targetId),n.Su.xi(i.targetId)?[3,2]:[4,Xu(n.Gc,i.targetId,!1).then((function(){n.Su.Ui(i.targetId),_c(n.bu,i.targetId),il(n,i.targetId)})).catch(nc)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return il(n,i.targetId),[4,Xu(n.Gc,i.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))}function Xc(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i;return Object(r.d)(this,(function(r){switch(r.label){case 0:n=yr(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,Qu(n.Gc,e)];case 2:return i=r.sent(),e.zt.forEach((function(t,e){var r=n.Ou.get(e);r&&(vr(t.ee.size+t.ne.size+t.se.size<=1),t.ee.size>0?r.pu=!0:t.ne.size>0?vr(r.pu):t.se.size>0&&(vr(r.pu),r.pu=!1))})),[4,cl(n,i,e)];case 3:return r.sent(),[3,6];case 4:return[4,nc(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function $c(t,e,n){var r=yr(t);if(r.Uu&&0===n||!r.Uu&&1===n){var i=[];r.Nu.forEach((function(t,n){var r=n.view.Ks(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=yr(t);n.onlineState=e;var r=!1;n.Bs.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Ks(e)&&(r=!0)})),r&&fa(n)}(r.vu,e),i.length&&r.Cu.yc(i),r.onlineState=e,r.Uu&&r.Su.ji(e)}}function Jc(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o,s,a,u,c;return Object(r.d)(this,(function(r){switch(r.label){case 0:return(i=yr(t)).Su.Ki(e,"rejected",n),o=i.Ou.get(e),(s=o&&o.key)?(a=(a=new ti(Fr.D)).ot(s,new as(s,Rr.min())),u=fi().add(s),c=new mi(Rr.min(),new Map,new ri(br),a,u),[4,Xc(i,c)]):[3,2];case 1:return r.sent(),i.ku=i.ku.remove(s),i.Ou.delete(e),ul(i),[3,4];case 2:return[4,Xu(i.Gc,e,!1).then((function(){return il(i,e,n)})).catch(nc)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))}function tl(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:n=yr(t),i=e.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,Wu(n.Gc,e)];case 2:return o=r.sent(),rl(n,i,null),nl(n,i),n.Su.Oi(i,"acknowledged"),[4,cl(n,o)];case 3:return r.sent(),[3,6];case 4:return[4,nc(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function el(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:i=yr(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,function(t,e){var n=yr(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.Sr.$o(t,e).next((function(e){return vr(null!==e),r=e.keys(),n.Sr.Qo(t,e)})).next((function(){return n.Sr.zo(t)})).next((function(){return n.Nh.Or(t,r)}))}))}(i.Gc,e)];case 2:return o=r.sent(),rl(i,e,n),nl(i,e),i.Su.Oi(e,"rejected",n),[4,cl(i,o)];case 3:return r.sent(),[3,6];case 4:return[4,nc(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function nl(t,e){(t.Lu.get(e)||[]).forEach((function(t){t.resolve()})),t.Lu.delete(e)}function rl(t,e,n){var r=yr(t),i=r.$u[r.currentUser.ti()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.$u[r.currentUser.ti()]=i}}function il(t,e,n){void 0===n&&(n=null),t.Su.Bi(e);for(var r=0,i=t.xu.get(e);r<i.length;r++){var o=i[r];t.Nu.delete(o),n&&t.Cu.Qu(o,n)}t.xu.delete(e),t.Uu&&t.Mu.Kh(e).forEach((function(e){t.Mu.Ho(e)||ol(t,e)}))}function ol(t,e){var n=t.ku.get(e);null!==n&&(_c(t.bu,n),t.ku=t.ku.remove(e),t.Ou.delete(n),ul(t))}function sl(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Bc?(t.Mu.Da(o.key,e),al(t,o)):o instanceof zc?(lr("SyncEngine","Document no longer in limbo: "+o.key),t.Mu.Na(o.key,e),t.Mu.Ho(o.key)||ol(t,o.key)):pr()}}function al(t,e){var n=e.key;t.ku.get(n)||(lr("SyncEngine","New document in limbo: "+n),t.Fu.push(n),ul(t))}function ul(t){for(;t.Fu.length>0&&t.ku.size<t.Du;){var e=t.Fu.shift(),n=t.Bu.next();t.Ou.set(n,new Wc(e)),t.ku=t.ku.ot(e,n),bc(t.bu,new Zr(ms(hs(e.path)),n,2,va.ai))}}function cl(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o,s,a;return Object(r.d)(this,(function(u){switch(u.label){case 0:return i=yr(t),o=[],s=[],a=[],i.Nu.P()?[3,3]:(i.Nu.forEach((function(t,r){a.push(i.Ku(r,e,n).then((function(t){if(t){i.Uu&&i.Su.Ki(r.targetId,t.fromCache?"not-current":"current"),o.push(t);var e=Pa.zr(r.targetId,t);s.push(e)}})))})),[4,Promise.all(a)]);case 1:return u.sent(),i.Cu.yc(o),[4,function(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,s,a,u,c,l;return Object(r.d)(this,(function(r){switch(r.label){case 0:n=yr(t),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Gs.forEach(e,(function(e){return Gs.forEach(e.jr,(function(r){return n.persistence.No.Da(t,e.targetId,r)})).next((function(){return Gs.forEach(e.Gr,(function(r){return n.persistence.No.Na(t,e.targetId,r)}))}))}))}))];case 2:return r.sent(),[3,4];case 3:if(!Ys(i=r.sent()))throw i;return lr("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(o=0,s=e;o<s.length;o++)u=(a=s[o]).targetId,a.fromCache||(c=n.bh.get(u),l=c.rt(c.nt),n.bh=n.bh.ot(u,l));return[2]}}))}))}(i.Gc,s)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function ll(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i;return Object(r.d)(this,(function(o){switch(o.label){case 0:return(n=yr(t)).currentUser.isEqual(e)?[3,3]:(lr("SyncEngine","User change. New user:",e.ti()),[4,function(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,s;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=yr(t),i=n.Sr,o=n.Nh,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var r;return n.Sr.Uo(t).next((function(s){return r=s,i=n.persistence.Th(e),o=new Na(n.Ch,i,n.persistence.Ah()),i.Uo(t)})).next((function(e){for(var n=[],i=[],s=fi(),a=0,u=r;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];i.push(p.batchId);for(var v=0,y=p.mutations;v<y.length;v++)s=s.add(y[v].key)}return o.Or(t,s).next((function(t){return{Wu:t,ju:n,Gu:i}}))}))}))];case 1:return s=r.sent(),[2,(n.Sr=i,n.Nh=o,n.ph.xh(n.Nh),s)]}}))}))}(n.Gc,e)]);case 1:return i=o.sent(),n.currentUser=e,function(t,e){t.Lu.forEach((function(t){t.forEach((function(t){t.reject(new ar(sr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Lu.clear()}(n),n.Su.Wi(e,i.ju,i.Gu),[4,cl(n,i.Wu)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))}function hl(t,e){var n=yr(t),r=n.Ou.get(e);if(r&&r.pu)return fi().add(r.key);var i=fi(),o=n.xu.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Nu.get(a[s]);i=i.Ot(u.view.wu)}return i}function fl(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,$u((n=yr(t)).Gc,e.query,!0)];case 1:return i=r.sent(),o=e.view.Vu(i),[2,(n.Uu&&sl(n,e.targetId,o.Pu),o)]}}))}))}function dl(t,e,n,i){return Object(r.b)(this,void 0,void 0,(function(){var o,s;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,function(t,e){var n=yr(t),r=yr(n.Sr);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.Lo(t,e).next((function(e){return e?n.Nh.Or(t,e):Gs.resolve(null)}))}))}((o=yr(t)).Gc,e)];case 1:return null===(s=r.sent())?[3,6]:"pending"!==n?[3,3]:[4,Pc(o.bu)];case 2:return r.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(rl(o,e,i||null),nl(o,e),function(t,e){yr(yr(t).Sr).jo(e)}(o.Gc,e)):pr(),r.label=4;case 4:return[4,cl(o,s)];case 5:return r.sent(),[3,7];case 6:lr("SyncEngine","Cannot apply mutation batch with id: "+e),r.label=7;case 7:return[2]}}))}))}function pl(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,s,a,u,c;return Object(r.d)(this,(function(r){switch(r.label){case 0:return _l(n=yr(t)),wl(n),!0!==e||!0===n.qu?[3,3]:(i=n.Su.Ci(),[4,vl(n,i.L())]);case 1:return o=r.sent(),n.qu=!0,[4,Fc(n.bu,!0)];case 2:for(r.sent(),s=0,a=o;s<a.length;s++)bc(n.bu,a[s]);return[3,7];case 3:return!1!==e||!1===n.qu?[3,7]:(u=[],c=Promise.resolve(),n.xu.forEach((function(t,e){n.Su.qi(e)?u.push(e):c=c.then((function(){return il(n,e),Xu(n.Gc,e,!0)})),_c(n.bu,e)})),[4,c]);case 4:return r.sent(),[4,vl(n,u)];case 5:return r.sent(),function(t){var e=yr(t);e.Ou.forEach((function(t,n){_c(e.bu,n)})),e.Mu.Qh(),e.Ou=new Map,e.ku=new ti(Fr.D)}(n),n.qu=!1,[4,Fc(n.bu,!1)];case 6:r.sent(),r.label=7;case 7:return[2]}}))}))}function vl(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,s,a,u,c,l,h,f,d,p,v;return Object(r.d)(this,(function(r){switch(r.label){case 0:n=yr(t),i=[],o=[],s=0,a=e,r.label=1;case 1:return s<a.length?(c=void 0,(l=n.xu.get(u=a[s]))&&0!==l.length?[4,Zu(n.Gc,ms(l[0]))]:[3,7]):[3,13];case 2:c=r.sent(),h=0,f=l,r.label=3;case 3:return h<f.length?(d=n.Nu.get(f[h]),[4,fl(n,d)]):[3,6];case 4:(p=r.sent()).snapshot&&o.push(p.snapshot),r.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,Ju(n.Gc,u)];case 8:return v=r.sent(),[4,Zu(n.Gc,v)];case 9:return c=r.sent(),[4,Yc(n,yl(v),u,!1)];case 10:r.sent(),r.label=11;case 11:i.push(c),r.label=12;case 12:return s++,[3,1];case 13:return[2,(n.Cu.yc(o),i)]}}))}))}function yl(t){return ls(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function gl(t){var e=yr(t);return yr(yr(e.Gc).persistence).pi()}function ml(t,e,n,i){return Object(r.b)(this,void 0,void 0,(function(){var o,s,a;return Object(r.d)(this,(function(r){switch(r.label){case 0:return(o=yr(t)).qu?(lr("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.xu.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,tc(o.Gc)];case 3:return s=r.sent(),a=mi.Xt(e,"current"===n),[4,cl(o,s,a)];case 4:return r.sent(),[3,8];case 5:return[4,Xu(o.Gc,e,!0)];case 6:return r.sent(),il(o,e,i),[3,8];case 7:pr(),r.label=8;case 8:return[2]}}))}))}function bl(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o,s,a,u,c,l,h,f;return Object(r.d)(this,(function(d){switch(d.label){case 0:if(!(i=_l(t)).qu)return[3,10];o=0,s=e,d.label=1;case 1:return o<s.length?i.xu.has(a=s[o])?(lr("SyncEngine","Adding an already active target "+a),[3,5]):[4,Ju(i.Gc,a)]:[3,6];case 2:return u=d.sent(),[4,Zu(i.Gc,u)];case 3:return c=d.sent(),[4,Yc(i,yl(u),c.targetId,!1)];case 4:d.sent(),bc(i.bu,c),d.label=5;case 5:return o++,[3,1];case 6:l=function(t){return Object(r.d)(this,(function(e){switch(e.label){case 0:return i.xu.has(t)?[4,Xu(i.Gc,t,!1).then((function(){_c(i.bu,t),il(i,t)})).catch(nc)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,f=n,d.label=7;case 7:return h<f.length?[5,l(f[h])]:[3,10];case 8:d.sent(),d.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function _l(t){var e=yr(t);return e.bu.Hc.ru=Xc.bind(null,e),e.bu.Hc.qe=hl.bind(null,e),e.bu.Hc.iu=Jc.bind(null,e),e.Cu.yc=la.bind(null,e.vu),e.Cu.Qu=ha.bind(null,e.vu),e}function wl(t){var e=yr(t);return e.bu.Hc.ou=tl.bind(null,e),e.bu.Hc.au=el.bind(null,e),e}var kl=function(){function t(){}return t.prototype.xh=function(t){this.zu=t},t.prototype.Lr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.on.length||1===t.on.length&&t.on[0].field.W())}(e)||n.isEqual(Rr.min())?this.Hu(t,e):this.zu.Or(t,r).next((function(s){var a=i.Ju(e,s);return(fs(e)||ds(e))&&i.mu(e.an,a,r,n)?i.Hu(t,e):(cr()<=o.a.DEBUG&&lr("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ss(e)),i.zu.Lr(t,e,n).next((function(t){return a.forEach((function(e){t=t.ot(e.key,e)})),t})))}))},t.prototype.Ju=function(t,e){var n=new ri(Is(t));return e.forEach((function(e,r){r instanceof ss&&Cs(t,r)&&(n=n.add(r))})),n},t.prototype.mu=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.h(r)>0)},t.prototype.Hu=function(t,e){return cr()<=o.a.DEBUG&&lr("IndexFreeQueryEngine","Using full collection scan to execute query:",Ss(e)),this.zu.Lr(t,e,Rr.min())},t}(),El=function(){function t(t,e){this.Dr=t,this.No=e,this.Sr=[],this.Yu=1,this.Xu=new ri(ic.Mh)}return t.prototype.ko=function(t){return Gs.resolve(0===this.Sr.length)},t.prototype.Oo=function(t,e,n,r){var i=this.Yu;this.Yu++;var o=new Ia(i,e,n,r);this.Sr.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.Xu=this.Xu.add(new ic(u.key,i)),this.Dr.Mo(t,u.key.path.F())}return Gs.resolve(o)},t.prototype.$o=function(t,e){return Gs.resolve(this.Zu(e))},t.prototype.Bo=function(t,e){var n=this.tl(e+1),r=n<0?0:n;return Gs.resolve(this.Sr.length>r?this.Sr[r]:null)},t.prototype.qo=function(){return Gs.resolve(0===this.Sr.length?-1:this.Yu-1)},t.prototype.Uo=function(t){return Gs.resolve(this.Sr.slice())},t.prototype.Nr=function(t,e){var n=this,r=new ic(e,0),i=new ic(e,Number.POSITIVE_INFINITY),o=[];return this.Xu.xt([r,i],(function(t){var e=n.Zu(t.jh);o.push(e)})),Gs.resolve(o)},t.prototype.$r=function(t,e){var n=this,r=new ri(br);return e.forEach((function(t){var e=new ic(t,0),i=new ic(t,Number.POSITIVE_INFINITY);n.Xu.xt([e,i],(function(t){r=r.add(t.jh)}))})),Gs.resolve(this.el(r))},t.prototype.Qr=function(t,e){var n=e.path,r=n.length+1,i=n;Fr.X(i)||(i=i.child(""));var o=new ic(new Fr(i),0),s=new ri(br);return this.Xu.Ft((function(t){var e=t.key.path;return!!n.M(e)&&(e.length===r&&(s=s.add(t.jh)),!0)}),o),Gs.resolve(this.el(s))},t.prototype.el=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Zu(t);null!==r&&n.push(r)})),n},t.prototype.Qo=function(t,e){var n=this;vr(0===this.nl(e.batchId,"removed")),this.Sr.shift();var r=this.Xu;return Gs.forEach(e.mutations,(function(i){var o=new ic(i.key,e.batchId);return r=r.delete(o),n.No.Go(t,i.key)})).next((function(){n.Xu=r}))},t.prototype.jo=function(t){},t.prototype.Ho=function(t,e){var n=new ic(e,0),r=this.Xu.kt(n);return Gs.resolve(e.isEqual(r&&r.key))},t.prototype.zo=function(t){return Gs.resolve()},t.prototype.nl=function(t,e){return this.tl(t)},t.prototype.tl=function(t){return 0===this.Sr.length?0:t-this.Sr[0].batchId},t.prototype.Zu=function(t){var e=this.tl(t);return e<0||e>=this.Sr.length?null:this.Sr[e]},t}(),Sl=function(){function t(t,e){this.Dr=t,this.sl=e,this.docs=new ti(Fr.D),this.size=0}return t.prototype.Ir=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.sl(e);return this.docs=this.docs.ot(r,{ta:e,size:s,readTime:n}),this.size+=s-o,this.Dr.Mo(t,r.path.F())},t.prototype.Ar=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Rr=function(t,e){var n=this.docs.get(e);return Gs.resolve(n?n.ta:null)},t.prototype.getEntries=function(t,e){var n=this,r=ai();return e.forEach((function(t){var e=n.docs.get(t);r=r.ot(t,e?e.ta:null)})),Gs.resolve(r)},t.prototype.Lr=function(t,e,n){for(var r=ci(),i=new Fr(e.path.child("")),o=this.docs.ft(i);o.At();){var s=o.It(),a=s.value,u=a.ta,c=a.readTime;if(!e.path.M(s.key.path))break;c.h(n)<=0||u instanceof ss&&Cs(e,u)&&(r=r.ot(u.key,u))}return Gs.resolve(r)},t.prototype.il=function(t,e){return Gs.forEach(this.docs,(function(t){return e(t)}))},t.prototype.ra=function(t){return new Cl(this)},t.prototype.aa=function(t){return Gs.resolve(this.size)},t}(),Cl=function(t){function e(e){var n=this;return(n=t.call(this)||this).ha=e,n}return Object(r.c)(e,t),e.prototype.Vr=function(t){var e=this,n=[];return this.wr.forEach((function(r,i){i?n.push(e.ha.Ir(t,i,e.readTime)):e.ha.Ar(r)})),Gs.kn(n)},e.prototype.Pr=function(t,e){return this.ha.Rr(t,e)},e.prototype.gr=function(t,e){return this.ha.getEntries(t,e)},e}(Oa),Il=function(){function t(t){this.persistence=t,this.rl=new Pr((function(t){return Gr(t)}),Wr),this.lastRemoteSnapshotVersion=Rr.min(),this.highestTargetId=0,this.ol=0,this.al=new rc,this.targetCount=0,this.hl=Pu.fa()}return t.prototype.Ce=function(t,e){return this.rl.forEach((function(t,n){return e(n)})),Gs.resolve()},t.prototype.Ia=function(t){return Gs.resolve(this.lastRemoteSnapshotVersion)},t.prototype.ma=function(t){return Gs.resolve(this.ol)},t.prototype.wa=function(t){return this.highestTargetId=this.hl.next(),Gs.resolve(this.highestTargetId)},t.prototype.Aa=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ol&&(this.ol=e),Gs.resolve()},t.prototype.Pa=function(t){this.rl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.hl=new Pu(e),this.highestTargetId=e),t.sequenceNumber>this.ol&&(this.ol=t.sequenceNumber)},t.prototype.Ra=function(t,e){return this.Pa(e),this.targetCount+=1,Gs.resolve()},t.prototype.Va=function(t,e){return this.Pa(e),Gs.resolve()},t.prototype.ya=function(t,e){return this.rl.delete(e.target),this.al.Kh(e.targetId),this.targetCount-=1,Gs.resolve()},t.prototype.po=function(t,e,n){var r=this,i=0,o=[];return this.rl.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.rl.delete(s),o.push(r.pa(t,a.targetId)),i++)})),Gs.kn(o).next((function(){return i}))},t.prototype.ba=function(t){return Gs.resolve(this.targetCount)},t.prototype.va=function(t,e){var n=this.rl.get(e)||null;return Gs.resolve(n)},t.prototype.Sa=function(t,e,n){return this.al.Bh(e,n),Gs.resolve()},t.prototype.Ca=function(t,e,n){this.al.Uh(e,n);var r=this.persistence.No,i=[];return r&&e.forEach((function(e){i.push(r.Go(t,e))})),Gs.kn(i)},t.prototype.pa=function(t,e){return this.al.Kh(e),Gs.resolve()},t.prototype.xa=function(t,e){var n=this.al.Wh(e);return Gs.resolve(n)},t.prototype.Ho=function(t,e){return Gs.resolve(this.al.Ho(e))},t}(),Tl=function(){function t(t){var e=this;this.cl={},this.Ma=new va(0),this.$a=!1,this.$a=!0,this.No=t(this),this.ja=new Il(this),this.Dr=new hu,this.vr=function(t,n){return new Sl(t,(function(t){return e.No.ul(t)}))}(this.Dr)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Di=function(){return this.$a=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Ii",{get:function(){return this.$a},enumerable:!1,configurable:!0}),t.prototype.Za=function(){},t.prototype.th=function(){},t.prototype.Ah=function(){return this.Dr},t.prototype.Th=function(t){var e=this.cl[t.ti()];return e||(e=new El(this.Dr,this.No),this.cl[t.ti()]=e),e},t.prototype.Ih=function(){return this.ja},t.prototype.mh=function(){return this.vr},t.prototype.runTransaction=function(t,e,n){var r=this;lr("MemoryPersistence","Starting transaction:",t);var i=new Ol(this.Ma.next());return this.No.ll(),n(i).next((function(t){return r.No._l(i).next((function(){return t}))})).xn().then((function(t){return i.br(),t}))},t.prototype.fl=function(t,e){return Gs.On(Object.values(this.cl).map((function(n){return function(){return n.Ho(t,e)}})))},t}(),Ol=function(t){function e(e){var n=this;return(n=t.call(this)||this).Fa=e,n}return Object(r.c)(e,t),e}(xa),Al=function(){function t(t){this.persistence=t,this.dl=new rc,this.wl=null}return t.El=function(e){return new t(e)},Object.defineProperty(t.prototype,"Tl",{get:function(){if(this.wl)return this.wl;throw pr()},enumerable:!1,configurable:!0}),t.prototype.Da=function(t,e,n){return this.dl.Da(n,e),this.Tl.delete(n.toString()),Gs.resolve()},t.prototype.Na=function(t,e,n){return this.dl.Na(n,e),this.Tl.add(n.toString()),Gs.resolve()},t.prototype.Go=function(t,e){return this.Tl.add(e.toString()),Gs.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.dl.Kh(e.targetId).forEach((function(t){return n.Tl.add(t.toString())}));var r=this.persistence.Ih();return r.xa(t,e.targetId).next((function(t){t.forEach((function(t){return n.Tl.add(t.toString())}))})).next((function(){return r.ya(t,e)}))},t.prototype.ll=function(){this.wl=new Set},t.prototype._l=function(t){var e=this,n=this.persistence.mh().ra();return Gs.forEach(this.Tl,(function(r){var i=Fr.H(r);return e.Il(t,i).next((function(t){t||n.Ar(i)}))})).next((function(){return e.wl=null,n.apply(t)}))},t.prototype.yh=function(t,e){var n=this;return this.Il(t,e).next((function(t){t?n.Tl.delete(e.toString()):n.Tl.add(e.toString())}))},t.prototype.ul=function(t){return 0},t.prototype.Il=function(t,e){var n=this;return Gs.On([function(){return Gs.resolve(n.dl.Ho(e))},function(){return n.persistence.Ih().Ho(t,e)},function(){return n.persistence.fl(t,e)}])},t}(),xl=function(){function t(t){this.ml=t.ml,this.Al=t.Al}return t.prototype.gc=function(t){this.Rl=t},t.prototype.Ic=function(t){this.Pl=t},t.prototype.onMessage=function(t){this.gl=t},t.prototype.close=function(){this.Al()},t.prototype.send=function(t){this.ml(t)},t.prototype.Vl=function(){this.Rl()},t.prototype.yl=function(t){this.Pl(t)},t.prototype.pl=function(t){this.gl(t)},t}(),Nl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Pl=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.T=e.T,n}return Object(r.c)(e,t),e.prototype.Nl=function(t,e,n,r){return new Promise((function(i,o){var s=new ir;s.listenOnce(nr.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case er.NO_ERROR:var e=s.getResponseJson();lr("Connection","XHR received:",JSON.stringify(e)),i(e);break;case er.TIMEOUT:lr("Connection",'RPC "'+t+'" timed out'),o(new ar(sr.DEADLINE_EXCEEDED,"Request time out"));break;case er.HTTP_ERROR:var n=s.getStatus();if(lr("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(sr).indexOf(e)>=0?e:sr.UNKNOWN}(r.status);o(new ar(a,r.message))}else o(new ar(sr.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new ar(sr.UNAVAILABLE,"Connection failed."));break;default:pr()}}finally{lr("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.Vc=function(t,e){var n=[this.vl,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Zn,i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this._.projectId+"/databases/"+this._.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.T};this.Cl(i.initMessageHeaders,e),Object(s.l)()||Object(s.n)()||Object(s.j)()||Object(s.k)()||Object(s.o)()||Object(s.i)()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");lr("Connection","Creating WebChannel: "+o,i);var a=r.createWebChannel(o,i),u=!1,c=!1,l=new xl({ml:function(t){c?lr("Connection","Not sending because WebChannel is closed:",t):(u||(lr("Connection","Opening WebChannel transport."),a.open(),u=!0),lr("Connection","WebChannel sending:",t),a.send(t))},Al:function(){return a.close()}}),h=function(t,e){a.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(rr.EventType.OPEN,(function(){c||lr("Connection","WebChannel transport opened.")})),h(rr.EventType.CLOSE,(function(){c||(c=!0,lr("Connection","WebChannel transport closed"),l.yl())})),h(rr.EventType.ERROR,(function(t){c||(c=!0,fr("Connection","WebChannel transport errored:",t),l.yl(new ar(sr.UNAVAILABLE,"The operation could not be completed")))})),h(rr.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];vr(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){lr("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Qr[t];if(void 0!==e)return Jr(e)}(i),s=r.message;void 0===o&&(o=sr.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.yl(new ar(o,s)),a.close()}else lr("Connection","WebChannel received:",n),l.pl(n)}})),setTimeout((function(){l.Vl()}),0),l},e}(function(){function t(t){this.bl=t,this._=t._,this.vl=(t.ssl?"https":"http")+"://"+t.host,this.Sl="projects/"+this._.projectId+"/databases/"+this._.database+"/documents"}return t.prototype.Mc=function(t,e,n,r){var i=this.Dl(t,e);lr("RestConnection","Sending: ",i,n);var o={};return this.Cl(o,r),this.Nl(t,i,o,n).then((function(t){return lr("RestConnection","Received: ",t),t}),(function(e){throw fr("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.$c=function(t,e,n,r){return this.Mc(t,e,n,r)},t.prototype.Cl=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.0.0",t["Content-Type"]="text/plain",e)for(var n in e.Gh)e.Gh.hasOwnProperty(n)&&(t[n]=e.Gh[n])},t.prototype.Dl=function(t,e){return this.vl+"/v1/"+e+":"+Nl[t]},t}()),Dl=function(){function t(){var t=this;this.xl=function(){return t.Fl()},this.kl=function(){return t.Ol()},this.Ml=[],this.$l()}return t.prototype.eu=function(t){this.Ml.push(t)},t.prototype.Di=function(){window.removeEventListener("online",this.xl),window.removeEventListener("offline",this.kl)},t.prototype.$l=function(){window.addEventListener("online",this.xl),window.addEventListener("offline",this.kl)},t.prototype.Fl=function(){lr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Ml;t<e.length;t++)(0,e[t])(0)},t.prototype.Ol=function(){lr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Ml;t<e.length;t++)(0,e[t])(1)},t.Ln=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Rl=function(){function t(){}return t.prototype.eu=function(t){},t.prototype.Di=function(){},t}();function jl(t){return new Ki(t,!0)}var Ll=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return this.Su=this.Ll(t),this.persistence=this.Bl(t),[4,this.persistence.start()];case 1:return e.sent(),this.ql=this.Ul(t),this.Gc=this.Kl(t),[2]}}))}))},t.prototype.Ul=function(t){return null},t.prototype.Kl=function(t){return e=this.persistence,n=new kl,new Gu(e,n,t.Ql);var e,n},t.prototype.Bl=function(t){return new Tl(Al.El)},t.prototype.Ll=function(t){return new Ca},t.prototype.terminate=function(){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return this.ql&&this.ql.stop(),[4,this.Su.Di()];case 1:return t.sent(),[4,this.persistence.Di()];case 2:return t.sent(),[2]}}))}))},t}(),Ml=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Wl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(r.c)(e,t),e.prototype.initialize=function(e){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,ec(this.Gc)];case 2:return n.sent(),[4,this.Wl.initialize(this,e)];case 3:return n.sent(),[4,wl(this.Wl.fi)];case 4:return n.sent(),[4,Pc(this.Wl.bu)];case 5:return n.sent(),[2]}}))}))},e.prototype.Ul=function(t){return new Ma(this.persistence.No.wo,t.hs)},e.prototype.Bl=function(t){var e=Hu(t.bl._,t.bl.persistenceKey),n=void 0!==this.cacheSizeBytes?La.ao(this.cacheSizeBytes):La.fo,r=jl(t.bl._);return new Fu(this.synchronizeTabs,e,t.clientId,n,t.hs,ea(),na(),r,this.Su,!!this.forceOwnership)},e.prototype.Ll=function(t){return new Ca},e}(Ll),Vl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Wl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(r.c)(e,t),e.prototype.initialize=function(e){return Object(r.b)(this,void 0,void 0,(function(){var n,i=this;return Object(r.d)(this,(function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return o.sent(),n=this.Wl.fi,this.Su instanceof Sa?(this.Su.fi={er:dl.bind(null,n),nr:ml.bind(null,n),sr:bl.bind(null,n),pi:gl.bind(null,n)},[4,this.Su.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.Xa((function(t){return Object(r.b)(i,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return[4,pl(this.Wl.fi,t)];case 1:return e.sent(),this.ql&&(t&&!this.ql.Ii?this.ql.start(this.Gc):t||this.ql.stop()),[2]}}))}))}))];case 4:return o.sent(),[2]}}))}))},e.prototype.Ll=function(t){var e=ea();if(!Sa.Ln(e))throw new ar(sr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Hu(t.bl._,t.bl.persistenceKey);return new Sa(e,t.hs,n,t.clientId,t.Ql)},e}(Ml),Fl=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n=this;return Object(r.d)(this,(function(r){switch(r.label){case 0:return this.Gc?[3,2]:(this.Gc=t.Gc,this.Su=t.Su,this.zc=this.jl(e),this.bu=this.Gl(e),this.vu=this.zl(e),this.fi=this.Hl(e,!t.synchronizeTabs),this.Su.di=function(t){return $c(n.fi,t,1)},this.bu.Hc.Jl=ll.bind(null,this.fi),[4,Fc(this.bu,this.fi.Uu)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.zl=function(t){return new aa},t.prototype.jl=function(t){var e=jl(t.bl._),n=new Pl(t.bl);return function(t,e,n){return new dc(t,e,n)}(t.credentials,n,e)},t.prototype.Gl=function(t){var e,n,r,i,o,s=this;return e=this.Gc,n=this.zc,r=t.hs,i=function(t){return $c(s.fi,t,0)},o=Dl.Ln()?new Dl:new Rl,new vc(e,n,r,i,o)},t.prototype.Hl=function(t,e){return function(t,e,n,r,i,o,s){var a=new Kc(t,e,n,r,i,o);return s&&(a.qu=!0),a}(this.Gc,this.bu,this.vu,this.Su,t.Ql,t.Du,e)},t.prototype.terminate=function(){return mc(this.bu)},t}(),Ul=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.Yl(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.Yl(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Xl=function(){this.muted=!0},t.prototype.Yl=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}();function ql(t,e,n){if(!n)throw new ar(sr.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Bl(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ar(sr.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function zl(t,e,n,r){if(!0===e&&!0===r)throw new ar(sr.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Hl(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":pr()}function Gl(t,e){if(e<=0)throw new ar(sr.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Wl=function(t){for(var e=0;e<t.length;++e)if(0===t[e].length)throw new ar(sr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.Zl=new Vr(t)},Kl=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,e)||this}return Object(r.c)(e,t),e.documentId=function(){return new e(Vr.j().B())},e.prototype.isEqual=function(t){return t instanceof e&&this.Zl.isEqual(t.Zl)},e}(Wl),Ql=new RegExp("[~\\*/\\[\\]]"),Yl=function(t){this.t_=t},Zl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.e_=function(t){if(2!==t.n_)throw t.s_(1===t.n_?this.t_+"() can only appear at the top level of your update data":this.t_+"() cannot be used with set() unless you pass {merge:true}");return t.Qe.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Yl);function Xl(t,e,n){return new ch({n_:3,i_:e.settings.i_,methodName:t.t_,r_:n},e._,e.serializer,e.ignoreUndefinedProperties)}var $l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.e_=function(t){return new Vo(t.path,new Ao)},e.prototype.isEqual=function(t){return t instanceof e},e}(Yl),Jl=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).o_=n,r}return Object(r.c)(e,t),e.prototype.e_=function(t){var e=Xl(this,t,!0),n=this.o_.map((function(t){return vh(t,e)})),r=new xo(n);return new Vo(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Yl),th=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).o_=n,r}return Object(r.c)(e,t),e.prototype.e_=function(t){var e=Xl(this,t,!0),n=this.o_.map((function(t){return vh(t,e)})),r=new Po(n);return new Vo(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Yl),eh=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).a_=n,r}return Object(r.c)(e,t),e.prototype.e_=function(t){var e=new Ro(t.serializer,Zi(t.serializer,this.a_));return new Vo(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Yl),nh=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new ar(sr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ar(sr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.h_=t,this.c_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.h_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.c_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.h_===t.h_&&this.c_===t.c_},t.prototype.toJSON=function(){return{latitude:this.h_,longitude:this.c_}},t.prototype.g=function(t){return br(this.h_,t.h_)||br(this.c_,t.c_)},t}(),rh=function(t){this.u_=t},ih=/^__.*__$/,oh=function(t,e,n){this.l_=t,this.__=e,this.f_=n},sh=function(){function t(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}return t.prototype.d_=function(t,e){var n=[];return n.push(null!==this.Qe?new Yo(t,this.data,this.Qe,e):new Qo(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new Xo(t,this.fieldTransforms)),n},t}(),ah=function(){function t(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}return t.prototype.d_=function(t,e){var n=[new Yo(t,this.data,this.Qe,e)];return this.fieldTransforms.length>0&&n.push(new Xo(t,this.fieldTransforms)),n},t}();function uh(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pr()}}var ch=function(){function t(t,e,n,r,i,o){this.settings=t,this._=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.w_(),this.fieldTransforms=i||[],this.Qe=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"n_",{get:function(){return this.settings.n_},enumerable:!1,configurable:!0}),t.prototype.E_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this._,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Qe)},t.prototype.T_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.E_({path:n,r_:!1});return r.I_(t),r},t.prototype.m_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.E_({path:n,r_:!1});return r.w_(),r},t.prototype.A_=function(t){return this.E_({path:void 0,r_:!0})},t.prototype.s_=function(t){return wh(t,this.settings.methodName,this.settings.R_||!1,this.path,this.settings.i_)},t.prototype.contains=function(t){return void 0!==this.Qe.find((function(e){return t.M(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.M(e.field)}))},t.prototype.w_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.I_(this.path.get(t))},t.prototype.I_=function(t){if(0===t.length)throw this.s_("Document fields must not be empty");if(uh(this.n_)&&ih.test(t))throw this.s_('Document fields cannot begin and end with "__"')},t}(),lh=function(){function t(t,e,n){this._=t,this.ignoreUndefinedProperties=e,this.serializer=n||jl(t)}return t.prototype.P_=function(t,e,n,r){return void 0===r&&(r=!1),new ch({n_:t,methodName:e,i_:n,path:Vr.U(),r_:!1,R_:r},this._,this.serializer,this.ignoreUndefinedProperties)},t}();function hh(t,e,n,r,i,o){void 0===o&&(o={});var s=t.P_(o.merge||o.mergeFields?2:0,e,n,i);mh("Data must be an object, but it was:",s,r);var a,u,c=yh(r,s);if(o.merge)a=new Mo(s.Qe),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=f[h],p=void 0;if(d instanceof Wl)p=d.Zl;else{if("string"!=typeof d)throw pr();p=_h(e,d,n)}if(!s.contains(p))throw new ar(sr.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");kh(l,p)||l.push(p)}a=new Mo(l),u=s.fieldTransforms.filter((function(t){return a.Je(t.field)}))}else a=null,u=s.fieldTransforms;return new sh(new ns(c),a,u)}function fh(t,e,n,r){var i=t.P_(1,e,n);mh("Data must be an object, but it was:",i,r);var o=[],s=new rs;xr(r,(function(t,r){var a=_h(e,t,n),u=i.m_(a);if(r instanceof Zl||r instanceof rh&&r.u_ instanceof Zl)o.push(a);else{var c=vh(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new Mo(o);return new ah(s.Xe(),a,i.fieldTransforms)}function dh(t,e,n,r,i,o){var s=t.P_(1,e,n),a=[bh(e,r,n)],u=[i];if(o.length%2!=0)throw new ar(sr.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(bh(e,o[c])),u.push(o[c+1]);for(var l=[],h=new rs,f=a.length-1;f>=0;--f)if(!kh(l,a[f])){var d=a[f],p=u[f],v=s.m_(d);if(p instanceof Zl||p instanceof rh&&p.u_ instanceof Zl)l.push(d);else{var y=vh(p,v);null!=y&&(l.push(d),h.set(d,y))}}var g=new Mo(l);return new ah(h.Xe(),g,s.fieldTransforms)}function ph(t,e,n,r){return void 0===r&&(r=!1),vh(n,t.P_(r?4:3,e))}function vh(t,e){if(t instanceof rh&&(t=t.u_),gh(t))return mh("Unsupported field value:",e,t),yh(t,e);if(t instanceof Yl)return function(t,e){if(!uh(e.n_))throw e.s_(t.t_+"() can only be used with update() and set()");if(!e.path)throw e.s_(t.t_+"() is not currently supported inside arrays");var n=t.e_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.Qe.push(e.path),t instanceof Array){if(e.settings.r_&&4!==e.n_)throw e.s_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=vh(o[i],e.A_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Zi(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Dr.fromDate(t);return{timestampValue:Xi(e.serializer,n)}}if(t instanceof Dr){var r=new Dr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Xi(e.serializer,r)}}if(t instanceof nh)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Er)return{bytesValue:$i(e.serializer,t.l)};if(t instanceof oh){var i=e._,o=t.l_;if(!o.isEqual(i))throw e.s_("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:eo(t.l_||e._,t.__.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.s_("Unsupported field value: "+Hl(t))}(t,e)}function yh(t,e){var n={};return Nr(t)?e.path&&e.path.length>0&&e.Qe.push(e.path):xr(t,(function(t,r){var i=vh(r,e.T_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function gh(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Dr||t instanceof nh||t instanceof Er||t instanceof oh||t instanceof Yl)}function mh(t,e,n){if(!gh(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Hl(n);throw e.s_("an object"===r?t+" a custom object":t+" "+r)}}function bh(t,e,n){if(e instanceof Wl)return e.Zl;if("string"==typeof e)return _h(t,e);throw wh("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function _h(t,e,n){try{return function(t){if(t.search(Ql)>=0)throw new ar(sr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Kl.bind.apply(Kl,Object(r.g)([void 0],t.split("."))))}catch(e){throw new ar(sr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).Zl}catch(e){throw wh((i=e)instanceof Error?i.message:i.toString(),t,!1,void 0,n)}var i}function wh(t,e,n,r,i){var o=r&&!r.P(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new ar(sr.INVALID_ARGUMENT,(a+=". ")+t+u)}function kh(t,e){return t.some((function(t){return t.isEqual(e)}))}var Eh=function(){function t(t){this.zc=t,this.g_=new Map,this.mutations=[],this.V_=!1,this.y_=null,this.p_=new Set}return t.prototype.b_=function(t){return Object(r.b)(this,void 0,void 0,(function(){var e,n=this;return Object(r.d)(this,(function(i){switch(i.label){case 0:if(this.v_(),this.mutations.length>0)throw new ar(sr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,s,a,u;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=yr(t),i=ao(n.serializer)+"/documents",o={documents:e.map((function(t){return ro(n.serializer,t)}))},[4,n.$c("BatchGetDocuments",i,o)];case 1:return s=r.sent(),a=new Map,s.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){vr(!!e.found);var n=io(t,e.found.name),r=to(e.found.updateTime),i=new ns({mapValue:{fields:e.found.fields}});return new ss(n,r,i,{})}(t,e):"missing"in e?function(t,e){vr(!!e.missing),vr(!!e.readTime);var n=io(t,e.missing),r=to(e.readTime);return new as(n,r)}(t,e):pr()}(n.serializer,t);a.set(e.key.toString(),e)})),u=[],[2,(e.forEach((function(t){var e=a.get(t.toString());vr(!!e),u.push(e)})),u)]}}))}))}(this.zc,t)];case 1:return[2,((e=i.sent()).forEach((function(t){t instanceof as||t instanceof ss?n.S_(t):pr()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.d_(t,this.Ge(t))),this.p_.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.d_(t,this.D_(t)))}catch(t){this.y_=t}this.p_.add(t.toString())},t.prototype.delete=function(t){this.write([new ts(t,this.Ge(t))]),this.p_.add(t.toString())},t.prototype.commit=function(){return Object(r.b)(this,void 0,void 0,(function(){var t,e=this;return Object(r.d)(this,(function(n){switch(n.label){case 0:if(this.v_(),this.y_)throw this.y_;return t=this.g_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Fr.H(n);e.mutations.push(new es(r,e.Ge(r)))})),[4,function(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=yr(t),i=ao(n.serializer)+"/documents",o={writes:e.map((function(t){return lo(n.serializer,t)}))},[4,n.Mc("Commit",i,o)];case 1:return r.sent(),[2]}}))}))}(this.zc,this.mutations)];case 1:return n.sent(),this.V_=!0,[2]}}))}))},t.prototype.S_=function(t){var e;if(t instanceof ss)e=t.version;else{if(!(t instanceof as))throw pr();e=Rr.min()}var n=this.g_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new ar(sr.ABORTED,"Document version changed between two reads.")}else this.g_.set(t.key.toString(),e)},t.prototype.Ge=function(t){var e=this.g_.get(t.toString());return!this.p_.has(t.toString())&&e?Uo.updateTime(e):Uo.ze()},t.prototype.D_=function(t){var e=this.g_.get(t.toString());if(!this.p_.has(t.toString())&&e){if(e.isEqual(Rr.min()))throw new ar(sr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Uo.updateTime(e)}return Uo.exists(!0)},t.prototype.write=function(t){this.v_(),this.mutations=this.mutations.concat(t)},t.prototype.v_=function(){},t}(),Sh=function(){function t(t,e,n,r){this.hs=t,this.zc=e,this.updateFunction=n,this.ls=r,this.C_=5,this.Vs=new Hs(this.hs,"transaction_retry")}return t.prototype.run=function(){this.N_()},t.prototype.N_=function(){var t=this;this.Vs.Pn((function(){return Object(r.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(r.d)(this,(function(r){return t=new Eh(this.zc),(e=this.x_(t))&&e.then((function(e){n.hs.ws((function(){return t.commit().then((function(){n.ls.resolve(e)})).catch((function(t){n.F_(t)}))}))})).catch((function(t){n.F_(t)})),[2]}))}))}))},t.prototype.x_=function(t){try{var e=this.updateFunction(t);return!Ur(e)&&e.catch&&e.then?e:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.ls.reject(t),null}},t.prototype.F_=function(t){var e=this;this.C_>0&&this.k_(t)?(this.C_-=1,this.hs.ws((function(){return e.N_(),Promise.resolve()}))):this.ls.reject(t)},t.prototype.k_=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!$r(e)}return!1},t}(),Ch=function(){function t(t,e){this.credentials=t,this.hs=e,this.clientId=mr.t(),this.O_=new zs}return t.prototype.start=function(t,e,n){var i=this;this.M_(),this.bl=t;var o=new zs,s=!1;return this.credentials.Jh((function(t){if(!s)return s=!0,lr("FirestoreClient","Initializing. user=",t.uid),i.L_(e,n,t,o).then(i.O_.resolve,i.O_.reject);i.hs.Cs((function(){return function(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i;return Object(r.d)(this,(function(r){switch(r.label){case 0:return(n=yr(t)).hs.Fs(),lr("RemoteStore","RemoteStore received new credentials"),i=Cc(n),n.Xc.add(3),[4,gc(n)];case 1:return r.sent(),i&&n.nu.set("Unknown"),[4,n.Hc.Jl(e)];case 2:return r.sent(),n.Xc.delete(3),[4,yc(n)];case 3:return r.sent(),[2]}}))}))}(i.bu,t)}))})),this.hs.ws((function(){return i.O_.promise})),o.promise},t.prototype.enableNetwork=function(){var t=this;return this.M_(),this.hs.enqueue((function(){return t.persistence.th(!0),function(t){var e=yr(t);return e.Xc.delete(0),yc(e)}(t.bu)}))},t.prototype.L_=function(t,e,n,i){return Object(r.b)(this,void 0,void 0,(function(){var o,s,a=this;return Object(r.d)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,t.initialize(o={hs:this.hs,bl:this.bl,clientId:this.clientId,credentials:this.credentials,Ql:n,Du:100})];case 1:return u.sent(),[4,e.initialize(t,o)];case 2:return u.sent(),this.persistence=t.persistence,this.Su=t.Su,this.Gc=t.Gc,this.ql=t.ql,this.zc=e.zc,this.bu=e.bu,this.fi=e.fi,this.B_=e.vu,this.B_.Us=Qc.bind(null,this.fi),this.B_.Ws=Zc.bind(null,this.fi),this.persistence.Za((function(){return Object(r.b)(a,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))})),i.resolve(),[3,4];case 3:if(s=u.sent(),i.reject(s),!function(t){return"FirebaseError"===t.name?t.code===sr.FAILED_PRECONDITION||t.code===sr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(s))throw s;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),this.L_(new Ll,new Fl,n,i))];case 4:return[2]}}))}))},t.prototype.M_=function(){if(this.hs.ps)throw new ar(sr.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.disableNetwork=function(){var t=this;return this.M_(),this.hs.enqueue((function(){return t.persistence.th(!1),function(t){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(n){switch(n.label){case 0:return(e=yr(t)).Xc.add(0),[4,gc(e)];case 1:return n.sent(),e.nu.set("Offline"),[2]}}))}))}(t.bu)}))},t.prototype.terminate=function(){var t=this;this.hs.Ds();var e=new zs;return this.hs.bs((function(){return Object(r.b)(t,void 0,void 0,(function(){var t,n;return Object(r.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),this.ql&&this.ql.stop(),[4,mc(this.bu)];case 1:return r.sent(),[4,this.Su.Di()];case 2:return r.sent(),[4,this.persistence.Di()];case 3:return r.sent(),this.credentials.Yh(),e.resolve(),[3,5];case 4:return t=r.sent(),n=oa(t,"Failed to shutdown persistence"),e.reject(n),[3,5];case 5:return[2]}}))}))})),e.promise},t.prototype.waitForPendingWrites=function(){var t=this;this.M_();var e=new zs;return this.hs.ws((function(){return function(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,s,a;return Object(r.d)(this,(function(r){switch(r.label){case 0:Cc((n=yr(t)).bu)||lr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,function(t){var e=yr(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Sr.qo(t)}))}(n.Gc)];case 2:return-1===(i=r.sent())?[2,void e.resolve()]:((o=n.Lu.get(i)||[]).push(e),n.Lu.set(i,o),[3,4]);case 3:return s=r.sent(),a=oa(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}}))}))}(t.fi,e)})),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.M_();var i=new Ul(n),o=new da(t,i,e);return this.hs.ws((function(){return ua(r.B_,o)})),function(){i.Xl(),r.hs.ws((function(){return ca(r.B_,o)}))}},t.prototype.q_=function(t){return Object(r.b)(this,void 0,void 0,(function(){var e,n=this;return Object(r.d)(this,(function(i){switch(i.label){case 0:return this.M_(),[4,this.O_.promise];case 1:return i.sent(),e=new zs,[2,(this.hs.ws((function(){return function(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o,s;return Object(r.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t,e){var n=yr(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Nh.Cr(t,e)}))}(t,e)];case 1:return(i=r.sent())instanceof ss?n.resolve(i):i instanceof as?n.resolve(null):n.reject(new ar(sr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return o=r.sent(),s=oa(o,"Failed to get document '"+e+" from cache"),n.reject(s),[3,3];case 3:return[2]}}))}))}(n.Gc,t,e)})),e.promise)]}}))}))},t.prototype.U_=function(t,e){return void 0===e&&(e={}),Object(r.b)(this,void 0,void 0,(function(){var n,i=this;return Object(r.d)(this,(function(r){switch(r.label){case 0:return this.M_(),[4,this.O_.promise];case 1:return r.sent(),n=new zs,[2,(this.hs.ws((function(){return function(t,e,n,r,i){var o=new Ul({next:function(o){e.ws((function(){return ca(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new ar(sr.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new ar(sr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new da(hs(n.path),o,{includeMetadataChanges:!0,Xs:!0});return ua(t,s)}(i.B_,i.hs,t,e,n)})),n.promise)]}}))}))},t.prototype.K_=function(t){return Object(r.b)(this,void 0,void 0,(function(){var e,n=this;return Object(r.d)(this,(function(i){switch(i.label){case 0:return this.M_(),[4,this.O_.promise];case 1:return i.sent(),e=new zs,[2,(this.hs.ws((function(){return function(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o,s,a,u,c;return Object(r.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,$u(t,e,!0)];case 1:return i=r.sent(),o=new Hc(e,i.Fh),s=o.Eu(i.documents),a=o.Vr(s,!1),n.resolve(a.snapshot),[3,3];case 2:return u=r.sent(),c=oa(u,"Failed to execute query '"+e+" against cache"),n.reject(c),[3,3];case 3:return[2]}}))}))}(n.Gc,t,e)})),e.promise)]}}))}))},t.prototype.Q_=function(t,e){return void 0===e&&(e={}),Object(r.b)(this,void 0,void 0,(function(){var n,i=this;return Object(r.d)(this,(function(r){switch(r.label){case 0:return this.M_(),[4,this.O_.promise];case 1:return r.sent(),n=new zs,[2,(this.hs.ws((function(){return function(t,e,n,r,i){var o=new Ul({next:function(n){e.ws((function(){return ca(t,s)})),n.fromCache&&"server"===r.source?i.reject(new ar(sr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new da(n,o,{includeMetadataChanges:!0,Xs:!0});return ua(t,s)}(i.B_,i.hs,t,e,n)})),n.promise)]}}))}))},t.prototype.write=function(t){var e=this;this.M_();var n=new zs;return this.hs.ws((function(){return function(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o,s,a;return Object(r.d)(this,(function(r){switch(r.label){case 0:i=wl(t),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,function(t,e){var n,r=yr(t),i=Dr.now(),o=e.reduce((function(t,e){return t.add(e.key)}),fi());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Nh.Or(t,o).next((function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Go(c,n.get(c.key));null!=l&&s.push(new Yo(c.key,l,is(l.proto.mapValue),Uo.exists(!0)))}return r.Sr.Oo(t,i,s,e)}))})).then((function(t){var e=t.lr(n);return{batchId:t.batchId,wr:e}}))}(i.Gc,e)];case 2:return o=r.sent(),i.Su.Fi(o.batchId),function(t,e,n){var r=t.$u[t.currentUser.ti()];r||(r=new ti(br)),r=r.ot(e,n),t.$u[t.currentUser.ti()]=r}(i,o.batchId,n),[4,cl(i,o.wr)];case 3:return r.sent(),[4,Pc(i.bu)];case 4:return r.sent(),[3,6];case 5:return s=r.sent(),a=oa(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}(e.fi,t,n)})),n.promise},t.prototype._=function(){return this.bl._},t.prototype.W_=function(t){var e=this;this.M_();var n=new Ul(t);return this.hs.ws((function(){return Object(r.b)(e,void 0,void 0,(function(){return Object(r.d)(this,(function(t){return[2,function(t,e){yr(t).qs.add(e),e.next()}(this.B_,n)]}))}))})),function(){n.Xl(),e.hs.ws((function(){return Object(r.b)(e,void 0,void 0,(function(){return Object(r.d)(this,(function(t){return[2,function(t,e){yr(t).qs.delete(e)}(this.B_,n)]}))}))}))}},Object.defineProperty(t.prototype,"j_",{get:function(){return this.hs.ps},enumerable:!1,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.M_();var n=new zs;return this.hs.ws((function(){return new Sh(e.hs,e.zc,t,n).run(),Promise.resolve()})),n.promise},t}();function Ih(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Th=function(){function t(t,e,n,r){this._=t,this.G_=e,this.z_=n,this.H_=r}return t.prototype.J_=function(t){switch(xi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Mi(t.integerValue||t.doubleValue);case 3:return this.Y_(t.timestampValue);case 4:return this.X_(t);case 5:return t.stringValue;case 6:return this.H_(Vi(t.bytesValue));case 7:return this.Z_(t.referenceValue);case 8:return this.tf(t.geoPointValue);case 9:return this.ef(t.arrayValue);case 10:return this.nf(t.mapValue);default:throw pr()}},t.prototype.nf=function(t){var e=this,n={};return xr(t.fields||{},(function(t,r){n[t]=e.J_(r)})),n},t.prototype.tf=function(t){return new nh(Mi(t.latitude),Mi(t.longitude))},t.prototype.ef=function(t){var e=this;return(t.values||[]).map((function(t){return e.J_(t)}))},t.prototype.X_=function(t){switch(this.G_){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return Ti(n)?t(n):n}(t);return null==e?null:this.J_(e);case"estimate":return this.Y_(Oi(t));default:return null}},t.prototype.Y_=function(t){var e=Li(t);return new Dr(e.seconds,e.nanos)},t.prototype.Z_=function(t){var e=Lr.q(t);vr(So(e));var n=new Or(e.get(1),e.get(3)),r=new Fr(e.N(5));return n.isEqual(this._)||hr("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this._.projectId+"/"+this._.database+") instead."),this.z_(r)},t}(),Oh=La.uo,Ah=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new ar(sr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=La._o;else{if(t.cacheSizeBytes!==Oh&&t.cacheSizeBytes<La.lo)throw new ar(sr.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+La.lo);this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,zl("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),xh="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",Nh=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){throw new ar(sr.FAILED_PRECONDITION,xh)},t.prototype.enableMultiTabIndexedDbPersistence=function(t){throw new ar(sr.FAILED_PRECONDITION,xh)},t.prototype.clearIndexedDbPersistence=function(t){throw new ar(sr.FAILED_PRECONDITION,xh)},t}(),Ph=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){var n=new Fl,r=new Ml(n,t.sf().cacheSizeBytes,e);return t.if(r,n)},t.prototype.enableMultiTabIndexedDbPersistence=function(t){var e=new Fl,n=new Vl(e,t.sf().cacheSizeBytes);return t.if(n,e)},t.prototype.clearIndexedDbPersistence=function(t){var e=this,n=new zs;return t.rf.bs((function(){return Object(r.b)(e,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,function(t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return Ws.Ln()?[4,Ws.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(Hu(t.l_,t.af))];case 1:return i.sent(),n.resolve(),[3,3];case 2:return e=i.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise},t}(),Dh=function(){function t(e,n,i){var o=this;if(void 0===i&&(i=new Nh),this.hf=i,this.cf=null,this.rf=new ia,this.INTERNAL={delete:function(){return Object(r.b)(o,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return this.uf(),[4,this.lf.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var s=e;this.cf=s,this.l_=t._f(s),this.af=s.name,this.ff=new ac(n)}else{var a=e;if(!a.projectId)throw new ar(sr.INVALID_ARGUMENT,"Must provide projectId");this.l_=new Or(a.projectId,a.database),this.af="[DEFAULT]",this.ff=new sc}this.df=new Ah({})}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.Ef||(this.Ef=new lh(this.l_,this.df.ignoreUndefinedProperties)),this.Ef},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.df),t)).merge;var e=new Ah(t);if(this.lf&&!this.df.isEqual(e))throw new ar(sr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.df=e,void 0!==e.credentials&&(this.ff=function(t){if(!t)return new sc;switch(t.type){case"gapi":var e=t.client;return vr(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new cc(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new ar(sr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this.df.host&&fr("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},t.prototype.enableNetwork=function(){return this.uf(),this.lf.enableNetwork()},t.prototype.disableNetwork=function(){return this.uf(),this.lf.disableNetwork()},t.prototype.enablePersistence=function(t){if(this.lf)throw new ar(sr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var e=!1,n=!1;return t&&zl("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.hf.enableMultiTabIndexedDbPersistence(this):this.hf.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(t){if(void 0!==this.lf&&!this.lf.j_)throw new ar(sr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return[2,this.hf.clearIndexedDbPersistence(this)]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"Tf",{get:function(){return this.uf(),this.lf.j_},enumerable:!1,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.uf(),this.lf.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){return this.uf(),Ih(t)?this.lf.W_(t):this.lf.W_({next:t})},t.prototype.uf=function(){return this.lf||this.if(new Ll,new Fl),this.lf},t.prototype.If=function(){return new Tr(this.l_,this.af,this.df.host,this.df.ssl,this.df.experimentalForceLongPolling,this.df.experimentalAutoDetectLongPolling)},t.prototype.if=function(t,e){var n=this.If();return this.lf=new Ch(this.ff,this.rf),this.lf.start(n,t,e)},t._f=function(t){if(!Object.prototype.hasOwnProperty.call(t.options,"projectId"))throw new ar(sr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e=t.options.projectId;if(!e||"string"!=typeof e)throw new ar(sr.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new Or(e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.cf)throw new ar(sr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.cf},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){return ql("Firestore.collection","path",t),this.uf(),new Wh(Lr.q(t),this,null)},t.prototype.doc=function(t){return ql("Firestore.doc","path",t),this.uf(),Lh.mf(Lr.q(t),this,null)},t.prototype.collectionGroup=function(t){if(ql("Firestore.collectionGroup","collectionId",t),t.indexOf("/")>=0)throw new ar(sr.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.uf(),new Hh(function(t){return new cs(Lr.U(),t)}(t),this,null)},t.prototype.runTransaction=function(t){var e=this;return this.uf().transaction((function(n){return t(new Rh(e,n))}))},t.prototype.batch=function(){return this.uf(),new jh(this)},t.prototype.sf=function(){return this.df},t}(),Rh=function(){function t(t,e){this.Af=t,this.Rf=e}return t.prototype.get=function(t){var e=this,n=Kh(0,t,this.Af);return this.Rf.b_([n.__]).then((function(t){if(!t||1!==t.length)return pr();var r=t[0];if(r instanceof as)return new Vh(e.Af,n.__,null,!1,!1,n.f_);if(r instanceof ss)return new Vh(e.Af,n.__,r,!1,!1,n.f_);throw pr()}))},t.prototype.set=function(t,e,n){var r=Kh(0,t,this.Af);n=Bl("Transaction.set",n);var i=Yh(r.f_,e,n),o=hh(this.Af.wf,"Transaction.set",r.__,i,null!==r.f_,n);return this.Rf.set(r.__,o),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return"string"==typeof e||e instanceof Kl?(r=Kh(0,t,this.Af),i=dh(this.Af.wf,"Transaction.update",r.__,e,n,o)):(r=Kh(0,t,this.Af),i=fh(this.Af.wf,"Transaction.update",r.__,e)),this.Rf.update(r.__,i),this},t.prototype.delete=function(t){var e=Kh(0,t,this.Af);return this.Rf.delete(e.__),this},t}(),jh=function(){function t(t){this.Af=t,this.Pf=[],this.gf=!1}return t.prototype.set=function(t,e,n){this.Vf();var r=Kh(0,t,this.Af);n=Bl("WriteBatch.set",n);var i=Yh(r.f_,e,n),o=hh(this.Af.wf,"WriteBatch.set",r.__,i,null!==r.f_,n);return this.Pf=this.Pf.concat(o.d_(r.__,Uo.ze())),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this.Vf(),"string"==typeof e||e instanceof Kl?(r=Kh(0,t,this.Af),i=dh(this.Af.wf,"WriteBatch.update",r.__,e,n,o)):(r=Kh(0,t,this.Af),i=fh(this.Af.wf,"WriteBatch.update",r.__,e)),this.Pf=this.Pf.concat(i.d_(r.__,Uo.exists(!0))),this},t.prototype.delete=function(t){this.Vf();var e=Kh(0,t,this.Af);return this.Pf=this.Pf.concat(new ts(e.__,Uo.ze())),this},t.prototype.commit=function(){return this.Vf(),this.gf=!0,this.Pf.length>0?this.Af.uf().write(this.Pf):Promise.resolve()},t.prototype.Vf=function(){if(this.gf)throw new ar(sr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Lh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n.l_,e,r)||this).__=e,i.firestore=n,i.f_=r,i.lf=i.firestore.uf(),i}return Object(r.c)(e,t),e.mf=function(t,n,r){if(t.length%2!=0)throw new ar(sr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.B()+" has "+t.length);return new e(new Fr(t),n,r)},Object.defineProperty(e.prototype,"id",{get:function(){return this.__.path.O()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Wh(this.__.path.F(),this.firestore,this.f_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.__.path.B()},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){if(ql("DocumentReference.collection","path",t),!t)throw new ar(sr.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=Lr.q(t);return new Wh(this.__.path.child(e),this.firestore,null)},e.prototype.isEqual=function(t){return t instanceof e&&this.firestore===t.firestore&&this.__.isEqual(t.__)&&this.f_===t.f_},e.prototype.set=function(t,e){e=Bl("DocumentReference.set",e);var n=Yh(this.f_,t,e),r=hh(this.firestore.wf,"DocumentReference.set",this.__,n,null!==this.f_,e);return this.lf.write(r.d_(this.__,Uo.ze()))},e.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return n="string"==typeof t||t instanceof Kl?dh(this.firestore.wf,"DocumentReference.update",this.__,t,e,r):fh(this.firestore.wf,"DocumentReference.update",this.__,t),this.lf.write(n.d_(this.__,Uo.exists(!0)))},e.prototype.delete=function(){return this.lf.write([new ts(this.__,Uo.ze())])},e.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Ih(i[a])||(s=i[a],a++);var u={includeMetadataChanges:s.includeMetadataChanges};if(Ih(i[a])){var c=i[a];i[a]=null===(t=c.next)||void 0===t?void 0:t.bind(c),i[a+1]=null===(e=c.error)||void 0===e?void 0:e.bind(c),i[a+2]=null===(n=c.complete)||void 0===n?void 0:n.bind(c)}var l={next:function(t){i[a]&&i[a](r.yf(t))},error:i[a+1],complete:i[a+2]};return this.lf.listen(hs(this.__.path),u,l)},e.prototype.get=function(t){var e=this,n=this.firestore.uf();return t&&"cache"===t.source?n.q_(this.__).then((function(t){return new Vh(e.firestore,e.__,t,!0,t instanceof ss&&t.Ye,e.f_)})):n.U_(this.__,t).then((function(t){return e.yf(t)}))},e.prototype.withConverter=function(t){return new e(this.__,this.firestore,t)},e.prototype.yf=function(t){var e=t.docs.get(this.__);return new Vh(this.firestore,this.__,e,t.fromCache,t.hasPendingWrites,this.f_)},e}(oh),Mh=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Vh=function(){function t(t,e,n,r,i,o){this.Af=t,this.__=e,this.pf=n,this.bf=r,this.vf=i,this.f_=o}return t.prototype.data=function(t){var e=this;if(void 0===t&&(t={}),this.pf){if(this.f_){var n=new Fh(this.Af,this.__,this.pf,this.bf,this.vf,null);return this.f_.fromFirestore(n,t)}return new Th(this.Af.l_,t.serverTimestamps||"none",(function(t){return new Lh(t,e.Af,null)}),(function(t){return new Ir(t)})).J_(this.pf.rn())}},t.prototype.get=function(t,e){var n=this;if(void 0===e&&(e={}),this.pf){var r=this.pf.data().field(bh("DocumentSnapshot.get",t,this.__));if(null!==r)return new Th(this.Af.l_,e.serverTimestamps||"none",(function(t){return new Lh(t,n.Af,n.f_)}),(function(t){return new Ir(t)})).J_(r)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.__.path.O()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Lh(this.__,this.Af,this.f_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.pf},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Mh(this.vf,this.bf)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&this.Af===e.Af&&this.bf===e.bf&&this.__.isEqual(e.__)&&(null===this.pf?null===e.pf:this.pf.isEqual(e.pf))&&this.f_===e.f_},t}(),Fh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(Vh);function Uh(t,e,n){if("string"==typeof n){if(""===n)throw new ar(sr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ys(e)&&-1!==n.indexOf("/"))throw new ar(sr.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Lr.q(n));if(!Fr.X(r))throw new ar(sr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Fi(t,new Fr(r))}if(n instanceof oh)return Fi(t,n.__);throw new ar(sr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Hl(n)+".")}function qh(t,e){if(!Array.isArray(t)||0===t.length)throw new ar(sr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new ar(sr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Bh(t,e,n){if(!n.isEqual(e))throw new ar(sr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function zh(t){if(ds(t)&&0===t.on.length)throw new ar(sr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Hh=function(){function t(t,e,n){this.Sf=t,this.firestore=e,this.f_=n}return t.prototype.where=function(e,n,r){var i=bh("Query.where",e),o=function(t,e,n,r,i,o,s){var a;if(i.W()){if("array-contains"===o||"array-contains-any"===o)throw new ar(sr.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){qh(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(Uh(r,t,l[c]));a={arrayValue:{values:u}}}else a=Uh(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||qh(s,o),a=ph(n,"Query.where",s,"in"===o||"not-in"===o);var h=Ts.create(i,o,a);return function(t,e){if(e.un()){var n=vs(t);if(null!==n&&!n.isEqual(e.field))throw new ar(sr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=ps(t);null!==r&&Bh(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new ar(sr.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(this.Sf,0,this.firestore.wf,this.firestore.l_,i,n,r);return new t(function(t,e){var n=t.filters.concat([e]);return new cs(t.path,t.collectionGroup,t.on.slice(),n,t.limit,t.an,t.startAt,t.endAt)}(this.Sf,o),this.firestore,this.f_)},t.prototype.orderBy=function(e,n){var r;if(void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new ar(sr.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=bh("Query.orderBy",e),o=function(t,e,n){if(null!==t.startAt)throw new ar(sr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new ar(sr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Us(e,n);return function(t,e){if(null===ps(t)){var n=vs(t);null!==n&&Bh(0,n,e.field)}}(t,r),r}(this.Sf,i,r);return new t(function(t,e){var n=t.on.concat([e]);return new cs(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.an,t.startAt,t.endAt)}(this.Sf,o),this.firestore,this.f_)},t.prototype.limit=function(e){return Gl("Query.limit",e),new t(bs(this.Sf,e,"F"),this.firestore,this.f_)},t.prototype.limitToLast=function(e){return Gl("Query.limitToLast",e),new t(bs(this.Sf,e,"L"),this.firestore,this.f_)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Df("Query.startAt",e,n,!0);return new t(_s(this.Sf,i),this.firestore,this.f_)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Df("Query.startAfter",e,n,!1);return new t(_s(this.Sf,i),this.firestore,this.f_)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Df("Query.endBefore",e,n,!0);return new t(ws(this.Sf,i),this.firestore,this.f_)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Df("Query.endAt",e,n,!1);return new t(ws(this.Sf,i),this.firestore,this.f_)},t.prototype.isEqual=function(e){return e instanceof t&&this.firestore===e.firestore&&ks(this.Sf,e.Sf)&&this.f_===e.f_},t.prototype.withConverter=function(e){return new t(this.Sf,this.firestore,e)},t.prototype.Df=function(t,e,n,r){if(e instanceof Vh)return function(t,e,n,r,i){if(!r)throw new ar(sr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=gs(t);s<a.length;s++){var u=a[s];if(u.field.W())o.push(Fi(e,r.key));else{var c=r.field(u.field);if(Ti(c))throw new ar(sr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.B();throw new ar(sr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Ls(o,i)}(this.Sf,this.firestore.l_,t,e.pf,r);var i=[e].concat(n);return function(t,e,n,r,i,o){var s=t.on;if(i.length>s.length)throw new ar(sr.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.W()){if("string"!=typeof c)throw new ar(sr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!ys(t)&&-1!==c.indexOf("/"))throw new ar(sr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Lr.q(c));if(!Fr.X(l))throw new ar(sr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Fr(l);a.push(Fi(e,h))}else{var f=ph(n,r,c);a.push(f)}}return new Ls(a,o)}(this.Sf,this.firestore.l_,this.firestore.wf,t,i,r)},t.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var s={},a=0;if("object"!=typeof i[a]||Ih(i[a])||(s=i[a],a++),Ih(i[a])){var u=i[a];i[a]=null===(t=u.next)||void 0===t?void 0:t.bind(u),i[a+1]=null===(e=u.error)||void 0===e?void 0:e.bind(u),i[a+2]=null===(n=u.complete)||void 0===n?void 0:n.bind(u)}var c={next:function(t){i[a]&&i[a](new Gh(r.firestore,r.Sf,t,r.f_))},error:i[a+1],complete:i[a+2]};return zh(this.Sf),this.firestore.uf().listen(this.Sf,s,c)},t.prototype.get=function(t){var e=this;zh(this.Sf);var n=this.firestore.uf();return(t&&"cache"===t.source?n.K_(this.Sf):n.Q_(this.Sf,t)).then((function(t){return new Gh(e.firestore,e.Sf,t,e.f_)}))},t}(),Gh=function(){function t(t,e,n,r){this.Af=t,this.Cf=e,this.Nf=n,this.f_=r,this.xf=null,this.Ff=null,this.metadata=new Mh(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.Nf.docs.P()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.Nf.docs.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.Nf.docs.forEach((function(r){t.call(e,n.kf(r,n.metadata.fromCache,n.Nf.Qt.has(r.key)))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new Hh(this.Cf,this.Af,this.f_)},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=!(!t||!t.includeMetadataChanges);if(e&&this.Nf.jt)throw new ar(sr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.xf&&this.Ff===e||(this.xf=function(t,e,n){if(t.Kt.P()){var r=0;return t.docChanges.map((function(e){return{type:"added",doc:n(e.doc,t.fromCache,t.Qt.has(e.doc.key)),oldIndex:-1,newIndex:r++}}))}var i=t.Kt;return t.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var r=n(e.doc,t.fromCache,t.Qt.has(e.doc.key)),o=-1,s=-1;return 0!==e.type&&(o=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(s=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:Qh(e.type),doc:r,oldIndex:o,newIndex:s}}))}(this.Nf,e,this.kf.bind(this)),this.Ff=e),this.xf},t.prototype.isEqual=function(e){return e instanceof t&&this.Af===e.Af&&ks(this.Cf,e.Cf)&&this.Nf.isEqual(e.Nf)&&this.f_===e.f_},t.prototype.kf=function(t,e,n){return new Fh(this.Af,t.key,t,e,n,this.f_)},t}(),Wh=function(t){function e(e,n,r){var i=this;if((i=t.call(this,hs(e),n,r)||this).Of=e,e.length%2!=1)throw new ar(sr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.B()+" has "+e.length);return i}return Object(r.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.Sf.path.O()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.Sf.path.F();return t.P()?null:new Lh(new Fr(t),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Sf.path.B()},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){0===arguments.length&&(t=mr.t()),ql("CollectionReference.doc","path",t);var e=Lr.q(t);return Lh.mf(this.Sf.path.child(e),this.firestore,this.f_)},e.prototype.add=function(t){var e=this.f_?this.f_.toFirestore(t):t,n=this.doc();return new Lh(n.__,this.firestore,null).set(e).then((function(){return n}))},e.prototype.withConverter=function(t){return new e(this.Of,this.firestore,t)},e}(Hh);function Kh(t,e,n){var r=function(t,e){if(!(t instanceof e)){if(e.name===t.constructor.name)throw new ar(sr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Hl(t);throw new ar(sr.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}(e,Lh);if(r.firestore!==n)throw new ar(sr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function Qh(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pr()}}function Yh(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Zh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.serverTimestamp=function(){var t=new $l("serverTimestamp");return t.t_="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Zl("deleteField");return t.t_="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Jl("arrayUnion",t)}).apply(void 0,t);return r.t_="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new th("arrayRemove",t)}).apply(void 0,t);return r.t_="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new eh("increment",t)}(t);return n.t_="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.u_.isEqual(t.u_)},e}(rh),Xh={Firestore:Dh,GeoPoint:nh,Timestamp:Dr,Blob:Ir,Transaction:Rh,WriteBatch:jh,DocumentReference:Lh,DocumentSnapshot:Vh,Query:Hh,QueryDocumentSnapshot:Fh,QuerySnapshot:Gh,CollectionReference:Wh,FieldPath:Kl,FieldValue:Zh,setLogLevel:function(t){ur.setLogLevel(t)},CACHE_SIZE_UNLIMITED:Oh};function $h(t){!function(t,e){t.INTERNAL.registerComponent(new or.a("firestore",(function(t){return function(t,e){return new Dh(t,e,new Ph)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Xh)))}(t),t.registerVersion("@firebase/firestore","2.0.0")}$h(i.a)},zIRd:function(t,e,n){"use strict";var r,i,o=n("30Go"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.b("@firebase/app"),d=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",(function(){return u}),"PUBLIC"));try{for(var c=Object(o.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(u.join(" "))}c(new a.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.0",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(s.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return f.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var d=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(s.f)(d,a.serviceProps),r[h]=d,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var p=Object(o.h)(Object.keys(e)),v=p.next();!v.done;v=p.next())e[v.value]._addComponent(a)}catch(y){u={error:y}}finally{try{v&&!v.done&&(c=p.return)&&c.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(d);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.f)(e,t)},createSubscribe:s.d,ErrorFactory:s.b,deepExtend:s.f}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(s.h)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var g=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.m)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),g.apply(void 0,t)};var m=p;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",(function(t){return new v(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.12",void 0),t.registerVersion("fire-js","")}(m),e.a=m},zUnb:function(i,o,c){"use strict";function d(t){return"function"==typeof t}c.r(o);var y=!1,m={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else y&&console.log("RxJS: Back to a better error behavior. Thank you. <3");y=t},get useDeprecatedSynchronousErrorHandling(){return y}};function b(t){setTimeout((function(){throw t}),0)}var _={closed:!0,next:function(t){},error:function(t){if(m.useDeprecatedSynchronousErrorHandling)throw t;b(t)},complete:function(){}},w=Array.isArray||function(t){return t&&"number"==typeof t.length};function k(t){return null!==t&&"object"==typeof t}var E,S=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map((function(t,e){return"".concat(e+1,") ").concat(t.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),C=((E=function(){function t(e){v(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return g(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,r=this._ctorUnsubscribe,i=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var s=0;s<n.length;++s)n[s].remove(this);if(d(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(l){e=l instanceof S?I(l.errors):[l]}}if(w(o))for(var a=-1,u=o.length;++a<u;){var c=o[a];if(k(c))try{c.unsubscribe()}catch(l){e=e||[],l instanceof S?e=e.concat(I(l.errors)):e.push(l)}}if(e)throw new S(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}()).EMPTY=function(t){return t.closed=!0,t}(new E),E);function I(t){return t.reduce((function(t,e){return t.concat(e instanceof S?e.errors:e)}),[])}var T="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),O=function(t){u(n,t);var e=l(n);function n(t,r,i){var o;switch(v(this,n),(o=e.call(this)).syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=_;break;case 1:if(!t){o.destination=_;break}if("object"==typeof t){t instanceof n?(o.syncErrorThrowable=t.syncErrorThrowable,o.destination=t,t.add(f(o))):(o.syncErrorThrowable=!0,o.destination=new A(f(o),t));break}default:o.syncErrorThrowable=!0,o.destination=new A(f(o),t,r,i)}return o}return g(n,[{key:T,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,a(p(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,r){var i=new n(t,e,r);return i.syncErrorThrowable=!1,i}}]),n}(C),A=function(t){u(n,t);var e=l(n);function n(t,r,i,o){var s,a;v(this,n),(s=e.call(this))._parentSubscriber=t;var u=f(s);return d(r)?a=r:r&&(a=r.next,i=r.error,o=r.complete,r!==_&&(d((u=Object.create(r)).unsubscribe)&&s.add(u.unsubscribe.bind(u)),u.unsubscribe=s.unsubscribe.bind(f(s)))),s._context=u,s._next=a,s._error=i,s._complete=o,s}return g(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;m.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=m.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):b(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;b(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};m.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),m.useDeprecatedSynchronousErrorHandling)throw n;b(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!m.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return m.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(b(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(O),x="function"==typeof Symbol&&Symbol.observable||"@@observable";function N(t){return t}var P,D=((P=function(){function t(e){v(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return g(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var r=this.operator,i=function(t,e,n){if(t){if(t instanceof O)return t;if(t[T])return t[T]()}return t||e||n?new O(t,e,n):new O(_)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||m.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),m.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){m.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,r=e.destination,i=e.isStopped;if(n||i)return!1;t=r&&r instanceof O?r:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=R(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}}),r,e)}))}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:x,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:(0===(r=e).length?N:1===r.length?r[0]:function(t){return r.reduce((function(t,e){return e(t)}),t)})(this);var r}},{key:"toPromise",value:function(t){var e=this;return new(t=R(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))}}]),t}()).create=function(t){return new P(t)},P);function R(t){if(t||(t=m.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var j,L=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),M=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this)).subject=t,i.subscriber=r,i.closed=!1,i}return g(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(C),V=function(t){u(n,t);var e=l(n);function n(t){var r;return v(this,n),(r=e.call(this,t)).destination=t,r}return n}(O),F=((j=function(t){u(n,t);var e=l(n);function n(){var t;return v(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return g(n,[{key:T,value:function(){return new V(this)}},{key:"lift",value:function(t){var e=new U(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new L;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)}},{key:"error",value:function(t){if(this.closed)throw new L;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new L;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new L;return a(p(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new L;return this.hasError?(t.error(this.thrownError),C.EMPTY):this.isStopped?(t.complete(),C.EMPTY):(this.observers.push(t),new M(this,t))}},{key:"asObservable",value:function(){var t=new D;return t.source=this,t}}]),n}(D)).create=function(t,e){return new U(t,e)},j),U=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this)).destination=t,i.source=r,i}return g(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):C.EMPTY}}]),n}(F);function q(t){return t&&"function"==typeof t.schedule}function B(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new z(t,e))}}var z=function(){function t(e,n){v(this,t),this.project=e,this.thisArg=n}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new H(t,this.project,this.thisArg))}}]),t}(),H=function(t){u(n,t);var e=l(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this,t)).project=r,o.count=0,o.thisArg=i||f(o),o}return g(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(O),G=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}};var W="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",K=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function Q(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var Y=function(t){if(t&&"function"==typeof t[x])return r=t,function(t){var e=r[x]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(K(t))return G(t);if(Q(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,b),t};if(t&&"function"==typeof t[W])return e=t,function(t){for(var n=e[W]();;){var r=void 0;try{r=n.next()}catch(i){return t.error(i),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,r,i=k(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(i," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))};function Z(t,e){return new D((function(n){var r=new C,i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function X(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[x]}(t))return function(t,e){return new D((function(n){var r=new C;return r.add(e.schedule((function(){var i=t[x]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}))}(t,e);if(Q(t))return function(t,e){return new D((function(n){var r=new C;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}))}(t,e);if(K(t))return Z(t,e);if(function(t){return t&&"function"==typeof t[W]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new D((function(n){var r,i=new C;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(e.schedule((function(){r=t[W](),i.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}})))}))),i}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof D?t:new D(Y(t))}var $=function(t){u(n,t);var e=l(n);function n(t){var r;return v(this,n),(r=e.call(this)).parent=t,r}return g(n,[{key:"_next",value:function(t){this.parent.notifyNext(t)}},{key:"_error",value:function(t){this.parent.notifyError(t),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),n}(O),J=function(t){u(n,t);var e=l(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyError",value:function(t){this.destination.error(t)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),n}(O);function tt(t,e){if(!e.closed)return t instanceof D?t.subscribe(e):Y(t)(e)}function et(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(r){return r.pipe(et((function(n,r){return X(t(n,r)).pipe(B((function(t,i){return e(n,t,r,i)})))}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new nt(t,n))})}var nt=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;v(this,t),this.project=e,this.concurrent=n}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new rt(t,this.project,this.concurrent))}}]),t}(),rt=function(t){u(n,t);var e=l(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return v(this,n),(i=e.call(this,t)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return g(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=new $(this),n=this.destination;n.add(e);var r=tt(t,e);r!==e&&n.add(r)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyComplete",value:function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(J);function it(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return et(N,t)}function ot(t,e){return e?Z(t,e):new D(G(t))}function st(){return function(t){return t.lift(new ut(t))}}var at,ut=function(){function t(e){v(this,t),this.connectable=e}return g(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var r=new ct(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),t}(),ct=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).connectable=r,i}return g(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(O),lt={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(at=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this)).source=t,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return g(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new C).add(this.source.subscribe(new ht(this.getSubject(),this))),t.closed&&(this._connection=null,t=C.EMPTY)),t}},{key:"refCount",value:function(){return st()(this)}}]),n}(D).prototype)._subscribe},_isComplete:{value:at._isComplete,writable:!0},getSubject:{value:at.getSubject},connect:{value:at.connect},refCount:{value:at.refCount}},ht=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).connectable=r,i}return g(n,[{key:"_error",value:function(t){this._unsubscribe(),a(p(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),a(p(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(V);function ft(){return new F}function dt(t){return{toString:t}.toString()}function pt(t,e,n){return dt((function(){var r=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=s(i,e);return a.annotation=o,a;function a(t,e,n){for(var r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}))}var vt=pt("Inject",(function(t){return{token:t}})),yt=pt("Optional"),gt=pt("Self"),mt=pt("SkipSelf"),bt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function _t(t){for(var e in t)if(t[e]===_t)return e;throw Error("Could not find renamed property on target object.")}function wt(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function kt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Et(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function St(t){return Ct(t,t[Tt])||Ct(t,t[xt])}function Ct(t,e){return e&&e.token===t?e:null}function It(t){return t&&(t.hasOwnProperty(Ot)||t.hasOwnProperty(Nt))?t[Ot]:null}var Tt=_t({"\u0275prov":_t}),Ot=_t({"\u0275inj":_t}),At=_t({"\u0275provFallback":_t}),xt=_t({ngInjectableDef:_t}),Nt=_t({ngInjectorDef:_t});function Pt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Pt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Dt(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var Rt=_t({__forward_ref__:_t});function jt(t){return t.__forward_ref__=jt,t.toString=function(){return Pt(this())},t}function Lt(t){return Mt(t)?t():t}function Mt(t){return"function"==typeof t&&t.hasOwnProperty(Rt)&&t.__forward_ref__===jt}var Vt,Ft="undefined"!=typeof globalThis&&globalThis,Ut="undefined"!=typeof window&&window,qt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Bt="undefined"!=typeof global&&global,zt=Ft||Bt||Ut||qt,Ht=_t({"\u0275cmp":_t}),Gt=_t({"\u0275dir":_t}),Wt=_t({"\u0275pipe":_t}),Kt=_t({"\u0275mod":_t}),Qt=_t({"\u0275loc":_t}),Yt=_t({"\u0275fac":_t}),Zt=_t({__NG_ELEMENT_ID__:_t}),Xt=function(){function t(e,n){v(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=kt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return g(t,[{key:"toString",value:function(){return"InjectionToken "+this._desc}}]),t}(),$t=new Xt("INJECTOR",-1),Jt={},te=/\n/gm,ee=_t({provide:String,useValue:_t}),ne=void 0;function re(t){var e=ne;return ne=t,e}function ie(t){var e=Vt;return Vt=t,e}function oe(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bt.Default;if(void 0===ne)throw new Error("inject() must be called from an injection context");return null===ne?ae(t,void 0,e):ne.get(t,e&bt.Optional?null:void 0,e)}function se(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bt.Default;return(Vt||oe)(Lt(t),e)}function ae(t,e,n){var r=St(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&bt.Optional)return null;if(void 0!==e)return e;throw new Error("Injector: NOT_FOUND [".concat(Pt(t),"]"))}function ue(t){for(var e=[],n=0;n<t.length;n++){var r=Lt(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=bt.Default,s=0;s<r.length;s++){var a=r[s];a instanceof yt||"Optional"===a.ngMetadataName||a===yt?o|=bt.Optional:a instanceof mt||"SkipSelf"===a.ngMetadataName||a===mt?o|=bt.SkipSelf:a instanceof gt||"Self"===a.ngMetadataName||a===gt?o|=bt.Self:i=a instanceof vt||a===vt?a.token:a}e.push(se(i,o))}else e.push(se(r))}return e}var ce=function(){function t(){v(this,t)}return g(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jt;if(e===Jt){var n=new Error("NullInjectorError: No provider for ".concat(Pt(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),le=function t(){v(this,t)},he=function t(){v(this,t)};function fe(t,e){t.forEach((function(t){return Array.isArray(t)?fe(t,e):e(t)}))}function de(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function pe(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ve(t,e,n){var r=ge(t,e);return r>=0?t[1|r]=n:function(t,e,n,r){var i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r=~r,e,n),r}function ye(t,e){var n=ge(t,e);if(n>=0)return t[1|n]}function ge(t,e){return function(t,e,n){for(var r=0,i=t.length>>1;i!==r;){var o=r+(i-r>>1),s=t[o<<1];if(e===s)return o<<1;s>e?i=o:r=o+1}return~(i<<1)}(t,e)}var me,be=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),_e=((me={})[me.Emulated=0]="Emulated",me[me.Native=1]="Native",me[me.None=2]="None",me[me.ShadowDom=3]="ShadowDom",me),we={},ke=[],Ee=0;function Se(t){return dt((function(){var e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===be.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||ke,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||_e.Emulated,id:"c",styles:t.styles||ke,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Ee++,n.inputs=Ae(t.inputs,e),n.outputs=Ae(t.outputs),i&&i.forEach((function(t){return t(n)})),n.directiveDefs=r?function(){return("function"==typeof r?r():r).map(Ce)}:null,n.pipeDefs=o?function(){return("function"==typeof o?o():o).map(Ie)}:null,n}))}function Ce(t){return Ne(t)||function(t){return t[Gt]||null}(t)}function Ie(t){return function(t){return t[Wt]||null}(t)}var Te={};function Oe(t){var e={type:t.type,bootstrap:t.bootstrap||ke,declarations:t.declarations||ke,imports:t.imports||ke,exports:t.exports||ke,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&dt((function(){Te[t.id]=t.type})),e}function Ae(t,e){if(null==t)return we;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}var xe=Se;function Ne(t){return t[Ht]||null}function Pe(t,e){return t.hasOwnProperty(Yt)?t[Yt]:null}function De(t,e){var n=t[Kt]||null;if(!n&&!0===e)throw new Error("Type ".concat(Pt(t)," does not have '\u0275mod' property."));return n}function Re(t){return Array.isArray(t)&&"object"==typeof t[1]}function je(t){return Array.isArray(t)&&!0===t[1]}function Le(t){return 0!=(8&t.flags)}function Me(t){return 2==(2&t.flags)}function Ve(t){return 1==(1&t.flags)}function Fe(t){return null!==t.template}function Ue(t){return 0!=(512&t[2])}var qe=function(){function t(e,n,r){v(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=r}return g(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function Be(){return ze}function ze(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ge),He}function He(){var t=We(this),e=null==t?void 0:t.current;if(e){var n=t.previous;if(n===we)t.previous=e;else for(var r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Ge(t,e,n,r){var i=We(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:we,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new qe(u&&u.currentValue,e,s===we),t[r]=e}function We(t){return t.__ngSimpleChanges__||null}Be.ngInherit=!0;var Ke=void 0;function Qe(t){return!!t.listen}var Ye={createRenderer:function(t,e){return void 0!==Ke?Ke:"undefined"!=typeof document?document:void 0}};function Ze(t){for(;Array.isArray(t);)t=t[0];return t}function Xe(t,e){return Ze(e[t+20])}function $e(t,e){return Ze(e[t.index])}function Je(t,e){return t.data[e+20]}function tn(t,e){var n=e[t];return Re(n)?n:n[0]}function en(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function nn(t){return 128==(128&t[2])}function rn(t,e){return null===t||null==e?null:t[e]}function on(t){t[18]=0}function sn(t,e){t[5]+=e;for(var n=t,r=t[3];null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}var an={lFrame:Cn(null),bindingsEnabled:!0,checkNoChangesMode:!1};function un(){return an.bindingsEnabled}function cn(){return an.lFrame.lView}function ln(){return an.lFrame.tView}function hn(t){an.lFrame.contextLView=t}function fn(){return an.lFrame.currentTNode}function dn(t,e){an.lFrame.currentTNode=t,an.lFrame.isParent=e}function pn(){return an.lFrame.isParent}function vn(){return an.checkNoChangesMode}function yn(t){an.checkNoChangesMode=t}function gn(){return an.lFrame.bindingIndex++}function mn(t){var e=an.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function bn(t,e){var n=an.lFrame;n.bindingIndex=n.bindingRootIndex=t,_n(e)}function _n(t){an.lFrame.currentDirectiveIndex=t}function wn(t){an.lFrame.currentQueryIndex=t}function kn(t,e){var n=Sn();an.lFrame=n,n.currentTNode=e,n.lView=t}function En(t){var e=Sn(),n=t[1];an.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex}function Sn(){var t=an.lFrame,e=null===t?null:t.child;return null===e?Cn(t):e}function Cn(t){var e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function In(){var t=an.lFrame;return an.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Tn=In;function On(){var t=In();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function An(){return an.lFrame.selectedIndex}function xn(t){an.lFrame.selectedIndex=t}function Nn(){var t=an.lFrame;return Je(t.tView,t.selectedIndex)}function Pn(t,e){for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var i=t.data[n].type.prototype,o=i.ngAfterContentInit,s=i.ngAfterContentChecked,a=i.ngAfterViewInit,u=i.ngAfterViewChecked,c=i.ngOnDestroy;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),s&&((t.contentHooks||(t.contentHooks=[])).push(n,s),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,s)),a&&(t.viewHooks||(t.viewHooks=[])).push(-n,a),u&&((t.viewHooks||(t.viewHooks=[])).push(n,u),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,u)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(n,c)}}function Dn(t,e,n){Ln(t,e,3,n)}function Rn(t,e,n,r){(3&t[2])===n&&Ln(t,e,n,r)}function jn(t,e){var n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ln(t,e,n,r){for(var i=null!=r?r:-1,o=0,s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(Mn(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function Mn(t,e,n,r){var i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}var Vn=function t(e,n,r){v(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function Fn(t,e,n){for(var r=Qe(t),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{var c=o,l=n[++i];qn(c)?r&&t.setProperty(e,c,l):r?t.setAttribute(e,c,l):e.setAttribute(c,l),i++}}return i}function Un(t){return 3===t||4===t||6===t}function qn(t){return 64===t.charCodeAt(0)}function Bn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,r=0;r<e.length;r++){var i=e[r];"number"==typeof i?n=i:0===n||zn(t,n,i,null,-1===n||2===n?e[++r]:null)}return t}function zn(t,e,n,r,i){var o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){var a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){var u=t[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Hn(t){return-1!==t}function Gn(t){return 32767&t}function Wn(t,e){for(var n=t>>16,r=e;n>0;)r=r[15],n--;return r}function Kn(t){return"string"==typeof t?t:null==t?"":""+t}function Qn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Kn(t)}var Yn=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(zt);function Zn(t){return t instanceof Function?t():t}var Xn=!0;function $n(t){var e=Xn;return Xn=t,e}var Jn=0;function tr(t,e){var n=nr(t,e);if(-1!==n)return n;var r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,er(r.data,t),er(e,null),er(r.blueprint,null));var i=rr(t,e),o=t.injectorIndex;if(Hn(i))for(var s=Gn(i),a=Wn(i,e),u=a[1].data,c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c];return e[o+8]=i,o}function er(t,e){t.push(0,0,0,0,0,0,0,0,e)}function nr(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function rr(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=0,r=null,i=e;null!==i;){var o=i[1],s=o.type;if(null===(r=2===s?o.declTNode:1===s?i[6]:null))return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function ir(t,e,n){!function(t,e,n){var r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Zt)&&(r=n[Zt]),null==r&&(r=n[Zt]=Jn++);var i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function or(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:bt.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t.hasOwnProperty(Zt)?t[Zt]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof o){kn(e,t);try{var s=o();if(null!=s||r&bt.Optional)return s;throw new Error("No provider for ".concat(Qn(n),"!"))}finally{Tn()}}else if("number"==typeof o){if(-1===o)return new hr(t,e);var a=null,u=nr(t,e),c=-1,l=r&bt.Host?e[16][6]:null;for((-1===u||r&bt.SkipSelf)&&(-1!==(c=-1===u?rr(t,e):e[u+8])&&lr(r,!1)?(a=e[1],u=Gn(c),e=Wn(c,e)):u=-1);-1!==u;){var h=e[1];if(cr(o,u,h.data)){var f=ar(u,e,n,a,r,l);if(f!==sr)return f}-1!==(c=e[u+8])&&lr(r,e[1].data[u+8]===l)&&cr(o,u,e)?(a=h,u=Gn(c),e=Wn(c,e)):u=-1}}}if(r&bt.Optional&&void 0===i&&(i=null),0==(r&(bt.Self|bt.Host))){var d=e[9],p=ie(void 0);try{return d?d.get(n,i,r&bt.Optional):ae(n,i,r&bt.Optional)}finally{ie(p)}}if(r&bt.Optional)return i;throw new Error("NodeInjector: NOT_FOUND [".concat(Qn(n),"]"))}var sr={};function ar(t,e,n,r,i,o){var s=e[1],a=s.data[t+8],u=function(t,e,n,r,i){for(var o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd,h=r?a:a+c;h<l;h++){var f=s[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var d=s[u];if(d&&Fe(d)&&d.type===n)return u}return null}(a,s,n,null==r?Me(a)&&Xn:r!=s&&2===a.type,i&bt.Host&&o===a);return null!==u?ur(e,s,u,a):sr}function ur(t,e,n,r){var i=t[n],o=e.data;if(i instanceof Vn){var s=i;if(s.resolving)throw new Error("Circular dep for "+Qn(o[n]));var a=$n(s.canSeeViewProviders);s.resolving=!0;var u=s.injectImpl?ie(s.injectImpl):null;kn(t,r);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){var r=e.type.prototype,i=r.ngOnChanges,o=r.ngOnInit,s=r.ngDoCheck;if(i){var a=ze(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,a)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,o),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,o[n],e)}finally{null!==u&&ie(u),$n(a),s.resolving=!1,Tn()}}return i}function cr(t,e,n){var r=64&t,i=32&t;return!!((128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e])&1<<t)}function lr(t,e){return!(t&bt.Self||t&bt.Host&&e)}var hr=function(){function t(e,n){v(this,t),this._tNode=e,this._lView=n}return g(t,[{key:"get",value:function(t,e){return or(this._tNode,this._lView,t,void 0,e)}}]),t}();function fr(t){var e=t;if(Mt(t))return function(){var t=fr(Lt(e));return t?t():null};var n=Pe(e);if(null===n){var r=It(e);n=r&&r.factory}return n||null}function dr(t){return t.ngDebugContext}function pr(t){return t.ngOriginalError}function vr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.error.apply(t,n)}var yr=function(){function t(){v(this,t),this._console=console}return g(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||vr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?dr(t)?dr(t):this._findContext(pr(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=pr(t);e&&pr(e);)e=pr(e);return e}}]),t}(),gr=function(){function t(e){v(this,t),this.changingThisBreaksApplicationSecurity=e}return g(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}]),t}();function mr(t){return t instanceof gr?t.changingThisBreaksApplicationSecurity:t}var br=!0,_r=!1;function wr(){return _r=!0,br}var kr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Er=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i,Sr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Cr(t){var e,n,r=(e=cn())&&e[12];return r?r.sanitize(Sr.URL,t)||"":function(t,e){var n=function(t){return t instanceof gr&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see http://g.co/ng/security#xss)"))}return n===e}(t,"URL")?mr(t):(n=Kn(t),(n=String(n)).match(kr)||n.match(Er)?n:(wr()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(n," (see http://g.co/ng/security#xss)")),"unsafe:"+n))}function Ir(t,e){t.__ngContext__=e}function Tr(t,e,n){for(var r=t.length;;){var i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){var o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Or(t,e,n){for(var r=0;r<t.length;){var i=t[r++];if(n&&"class"===i){if(-1!==Tr((i=t[r]).toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Ar(t){return 0===t.type&&"ng-template"!==t.tagName}function xr(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function Nr(t,e,n){for(var r=4,i=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(Un(t[e]))return e;return t.length}(i),s=!1,a=0;a<e.length;a++){var u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!xr(t,u,n)||""===u&&1===e.length){if(Pr(r))return!1;s=!0}}else{var c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Or(t.attrs,c,n)){if(Pr(r))return!1;s=!0}continue}var l=Dr(8&r?"class":u,i,Ar(t),n);if(-1===l){if(Pr(r))return!1;s=!0;continue}if(""!==c){var h;h=l>o?"":i[l+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==Tr(f,c,0)||2&r&&c!==h){if(Pr(r))return!1;s=!0}}}}else{if(!s&&!Pr(r)&&!Pr(u))return!1;if(s&&Pr(u))continue;s=!1,r=u|1&r}}return Pr(r)||s}function Pr(t){return 0==(1&t)}function Dr(t,e,n,r){if(null===e)return-1;var i=0;if(r||!n){for(var o=!1;i<e.length;){var s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){for(var a=e[++i];"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Rr(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<e.length;r++)if(Nr(t,e[r],n))return!0;return!1}function jr(t,e){return t?":not("+e.trim()+")":e}function Lr(t){for(var e=t[0],n=1,r=2,i="",o=!1;n<t.length;){var s=t[n];if("string"==typeof s)if(2&r){var a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Pr(s)||(e+=jr(o,i),i=""),r=s,o=o||!Pr(r);n++}return""!==i&&(e+=jr(o,i)),e}var Mr={};function Vr(t){var e=t[3];return je(e)?e[3]:e}function Fr(t){return qr(t[13])}function Ur(t){return qr(t[4])}function qr(t){for(;null!==t&&!je(t);)t=t[4];return t}function Br(t){zr(ln(),cn(),An()+t,vn())}function zr(t,e,n,r){if(!r)if(3==(3&e[2])){var i=t.preOrderCheckHooks;null!==i&&Dn(e,i,n)}else{var o=t.preOrderHooks;null!==o&&Rn(e,o,0,n)}xn(n)}function Hr(t,e){return t<<17|e<<2}function Gr(t){return t>>17&32767}function Wr(t){return 2|t}function Kr(t){return(131068&t)>>2}function Qr(t,e){return-131069&t|e<<2}function Yr(t){return 1|t}function Zr(t,e){var n=t.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var s=t.data[o];wn(i),s.contentQueries(2,e[o],o)}}}function Xr(t,e,n){return Qe(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function $r(t,e,n,r,i,o,s,a,u,c){var l=e.blueprint.slice();return l[0]=i,l[2]=140|r,on(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Jr(t,e,n,r,i){var o=e+20,s=t.data[o]||function(t,e,n,r,i){var o=fn(),s=pn(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s&&null==o.child&&null!==a.parent?o.child=a:s||(o.next=a)),a}(t,o,n,r,i);return dn(s,!0),s}function ti(t,e,n){En(e);try{var r=t.viewQuery;null!==r&&Ai(1,r,n);var i=t.template;null!==i&&ri(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Zr(t,e),t.staticViewQueries&&Ai(2,t.viewQuery,n);var o=t.components;null!==o&&function(t,e){for(var n=0;n<e.length;n++)Si(t,e[n])}(e,o)}catch(s){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),s}finally{e[2]&=-5,On()}}function ei(t,e,n,r){var i=e[2];if(256!=(256&i)){En(e);var o=vn();try{on(e),an.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&ri(t,e,n,2,r);var s=3==(3&i);if(!o)if(s){var a=t.preOrderCheckHooks;null!==a&&Dn(e,a,null)}else{var u=t.preOrderHooks;null!==u&&Rn(e,u,0,null),jn(e,0)}if(function(t){for(var e=Fr(t);null!==e;e=Ur(e))if(e[2])for(var n=e[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&sn(o,1),i[2]|=1024}}(e),function(t){for(var e=Fr(t);null!==e;e=Ur(e))for(var n=10;n<e.length;n++){var r=e[n],i=r[1];nn(r)&&ei(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&Zr(t,e),!o)if(s){var c=t.contentCheckHooks;null!==c&&Dn(e,c)}else{var l=t.contentHooks;null!==l&&Rn(e,l,1),jn(e,1)}!function(t,e){try{var n=t.expandoInstructions;if(null!==n)for(var r=t.expandoStartIndex,i=-1,o=0;o<n.length;o++){var s=n[o];"number"==typeof s?s<=0?(xn(0-s),i=r+=9+n[++o]):r+=s:(null!==s&&(bn(r,i),s(2,e[i])),i++)}}finally{xn(-1)}}(t,e);var h=t.components;null!==h&&function(t,e){for(var n=0;n<e.length;n++)Ei(t,e[n])}(e,h);var f=t.viewQuery;if(null!==f&&Ai(2,f,r),!o)if(s){var d=t.viewCheckHooks;null!==d&&Dn(e,d)}else{var p=t.viewHooks;null!==p&&Rn(e,p,2),jn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,sn(e[3],-1))}finally{On()}}}function ni(t,e,n,r){var i=e[10],o=!vn(),s=4==(4&e[2]);try{o&&!s&&i.begin&&i.begin(),s&&ti(t,e,r),ei(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function ri(t,e,n,r,i){var o=An();try{xn(-1),2&r&&e.length>20&&zr(t,e,0,vn()),n(r,i)}finally{xn(o)}}function ii(t,e,n){un()&&(function(t,e,n,r){var i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||tr(n,e),Ir(r,e);for(var s=n.initialInputs,a=i;a<o;a++){var u=t.data[a],c=Fe(u);c&&bi(e,n,u);var l=ur(e,t,a,n);Ir(l,e),null!==s&&_i(0,a-i,l,u,0,s),c&&(tn(n.index,e)[8]=l)}}(t,e,n,$e(n,e)),128==(128&n.flags)&&function(t,e,n){var r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,s=t.firstCreatePass,a=n.index-20,u=an.lFrame.currentDirectiveIndex;try{xn(a);for(var c=r;c<i;c++){var l=t.data[c],h=e[c];_n(c),null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs?di(l,h):s&&o.push(null)}}finally{xn(-1),_n(u)}}(t,e,n))}function oi(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$e,r=e.localNames;if(null!==r)for(var i=e.index+1,o=0;o<r.length;o+=2){var s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}function si(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ai(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ai(t,e,n,r,i,o,s,a,u,c){var l=20+r,h=l+i,f=function(t,e){for(var n=[],r=0;r<e;r++)n.push(r<t?null:Mr);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function ui(t,e,n){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ci(t,e,n,r,i,o,s,a){var u,c=$e(e,n),l=e.inputs;!a&&null!=l&&(u=l[r])?(Di(t,n,u,r,i),Me(e)&&function(t,e){var n=tn(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):2===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.tagName||"",r):i,Qe(o)?o.setProperty(c,r,i):qn(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function li(t,e,n,r){var i=!1;if(un()){var o=function(t,e,n){var r=t.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var s=r[o];Rr(n,s.selectors,!1)&&(i||(i=[]),ir(tr(n,e),t,s.type),Fe(s)?(vi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){var a=0;i=!0,gi(n,t.data.length,o.length);for(var u=0;u<o.length;u++){var c=o[u];c.providersResolver&&c.providersResolver(c)}pi(t,n,o.length);for(var l=!1,h=!1,f=0;f<o.length;f++){var d=o[f];n.mergedAttrs=Bn(n.mergedAttrs,d.hostAttrs),mi(t,e,d),yi(t.data.length-1,d,s),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128);var p=d.type.prototype;!l&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),l=!0),h||!p.ngOnChanges&&!p.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),h=!0),hi(t,d),a+=d.hostVars}!function(t,e){for(var n=e.directiveEnd,r=t.data,i=e.attrs,o=[],s=null,a=null,u=e.directiveStart;u<n;u++){var c=r[u],l=c.inputs,h=null===i||Ar(e)?null:wi(l,i);o.push(h),s=ui(l,u,s),a=ui(c.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n),fi(t,e,a)}s&&function(t,e,n){if(e)for(var r=t.localNames=[],i=0;i<e.length;i+=2){var o=n[e[i+1]];if(null==o)throw new Error("Export of name '".concat(e[i+1],"' not found!"));r.push(e[i],o)}}(n,r,s)}return n.mergedAttrs=Bn(n.mergedAttrs,n.attrs),i}function hi(t,e){var n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function fi(t,e,n){for(var r=0;r<n;r++)e.push(Mr),t.blueprint.push(Mr),t.data.push(null)}function di(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function pi(t,e,n){var r=20-e.index,i=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function vi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function yi(t,e,n){if(n){if(e.exportAs)for(var r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Fe(e)&&(n[""]=t)}}function gi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function mi(t,e,n){t.data.push(n);var r=n.factory||(n.factory=Pe(n.type)),i=new Vn(r,Fe(n),null);t.blueprint.push(i),e.push(i)}function bi(t,e,n){var r=$e(e,t),i=si(n),o=t[10],s=Ci(t,$r(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function _i(t,e,n,r,i,o){var s=o[e];if(null!==s)for(var a=r.setInput,u=0;u<s.length;){var c=s[u++],l=s[u++],h=s[u++];null!==a?r.setInput(n,h,c,l):n[l]=h}}function wi(t,e){for(var n=null,r=0;r<e.length;){var i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function ki(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Ei(t,e){var n=tn(e,t);if(nn(n)){var r=n[1];80&n[2]?ei(r,n,r.template,n[8]):n[5]>0&&function t(e){for(var n=Fr(e);null!==n;n=Ur(n))for(var r=10;r<n.length;r++){var i=n[r];if(1024&i[2]){var o=i[1];ei(o,i,o.template,i[8])}else i[5]>0&&t(i)}var s=e[1].components;if(null!==s)for(var a=0;a<s.length;a++){var u=tn(s[a],e);nn(u)&&u[5]>0&&t(u)}}(n)}}function Si(t,e){var n=tn(e,t),r=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),ti(r,n,n[8])}function Ci(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Ii(t){for(;t;){t[2]|=64;var e=Vr(t);if(Ue(t)&&!e)return t;t=e}return null}function Ti(t,e,n){var r=e[10];r.begin&&r.begin();try{ei(t,e,t.template,n)}catch(i){throw Pi(e,i),i}finally{r.end&&r.end()}}function Oi(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],r=en(n),i=r[1];ni(i,r,i.template,n)}}(t[8])}function Ai(t,e,n){wn(0),e(t,n)}var xi=Promise.resolve(null);function Ni(t){return t[7]||(t[7]=[])}function Pi(t,e){var n=t[9],r=n?n.get(yr,null):null;r&&r.handleError(e)}function Di(t,e,n,r,i){for(var o=0;o<n.length;){var s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Ri(t,e,n,r,i){if(null!=r){var o,s=!1;je(r)?o=r:Re(r)&&(s=!0,r=r[0]);var a=Ze(r);0===t&&null!==n?null==i?Ui(e,n,a):Fi(e,n,a,i||null):1===t&&null!==n?Fi(e,n,a,i||null):2===t?function(t,e,n){var r=Bi(t,e);r&&function(t,e,n,r){Qe(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){var o=n[7];o!==Ze(n)&&Ri(e,t,r,o,i);for(var s=10;s<n.length;s++){var a=n[s];Gi(a[1],a,t,e,r,o)}}(e,t,o,n,i)}}function ji(t,e){var n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,sn(i,-1)),n.splice(r,1)}function Li(t,e){if(!(t.length<=10)){var n,r=10+e,i=t[r];if(i){var o=i[17];null!==o&&o!==t&&ji(o,i),e>0&&(t[r-1][4]=i[4]);var s=pe(t,10+e);Gi(i[1],n=i,n[11],2,null,null),n[0]=null,n[6]=null;var a=s[19];null!==a&&a.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}}function Mi(t,e){if(!(256&e[2])){var n=e[11];Qe(n)&&n.destroyNode&&Gi(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return Vi(t[1],t);for(;e;){var n=null;if(Re(e))n=e[13];else{var r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Re(e)&&Vi(e[1],e),e=e[3];null===e&&(e=t),Re(e)&&Vi(e[1],e),n=e&&e[4]}e=n}}(e)}}function Vi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var r=0;r<n.length;r+=2){var i=e[n[r]];if(!(i instanceof Vn)){var o=n[r+1];if(Array.isArray(o))for(var s=0;s<o.length;s+=2)o[s+1].call(i[o[s]]);else o.call(i)}}}(t,e),function(t,e){var n=t.cleanup;if(null!==n){for(var r=e[7],i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){var o=n[i+1],s="function"==typeof o?o(e):Ze(e[o]),a=r[n[i+2]],u=n[i+3];"boolean"==typeof u?s.removeEventListener(n[i],a,u):u>=0?r[u]():r[-u].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);e[7]=null}}(t,e),1===e[1].type&&Qe(e[11])&&e[11].destroy();var n=e[17];if(null!==n&&je(e[3])){n!==e[3]&&ji(n,e);var r=e[19];null!==r&&r.detachView(t)}}}function Fi(t,e,n,r){Qe(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Ui(t,e,n){Qe(t)?t.appendChild(e,n):e.appendChild(n)}function qi(t,e,n,r){null!==r?Fi(t,e,n,r):Ui(t,e,n)}function Bi(t,e){return Qe(t)?t.parentNode(e):e.parentNode}function zi(t,e,n,r){var i=function(t,e,n){for(var r=e.parent;null!=r&&(3===r.type||4===r.type);)r=(e=r).parent;if(null===r)return n[0];if(e&&4===e.type&&4&e.flags)return $e(e,n).parentNode;if(2&r.flags){var i=t.data,o=i[i[r.index].directiveStart].encapsulation;if(o!==_e.ShadowDom&&o!==_e.Native)return null}return $e(r,n)}(t,r,e);if(null!=i){var o=e[11],s=function(t,e){return 3===t.type||4===t.type?$e(t,e):null}(r.parent||e[6],e);if(Array.isArray(n))for(var a=0;a<n.length;a++)qi(o,i,n[a],s);else qi(o,i,n,s)}}function Hi(t,e,n,r,i,o,s){for(;null!=n;){var a=r[n.index],u=n.type;s&&0===e&&(a&&Ir(Ze(a),r),n.flags|=4),64!=(64&n.flags)&&(3===u||4===u?(Hi(t,e,n.child,r,i,o,!1),Ri(e,t,i,a,o)):1===u?Wi(t,e,r,n,i,o):Ri(e,t,i,a,o)),n=s?n.projectionNext:n.next}}function Gi(t,e,n,r,i,o){Hi(n,r,t.firstChild,e,i,o,!1)}function Wi(t,e,n,r,i,o){var s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(var u=0;u<a.length;u++)Ri(e,t,i,a[u],o);else Hi(t,e,a,s[3],i,o,!0)}function Ki(t,e,n){Qe(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Qi(t,e,n){Qe(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}var Yi,Zi,Xi,$i=function(){function t(e,n){v(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null}return g(t,[{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Mi(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){var e,n,r,i;e=this._lView[1],n=this._lView,r=t,(i=Ni(n)).push(null),e.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(e).push(r,i.length-1)}},{key:"markForCheck",value:function(){Ii(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){Ti(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){yn(!0);try{Ti(t,e,n)}finally{yn(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,Gi(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}},{key:"rootNodes",get:function(){var t=this._lView,e=t[1];return function t(e,n,i,o){for(var s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==i;){var a=n[i.index];if(null!==a&&o.push(Ze(a)),je(a))for(var u=10;u<a.length;u++){var c=a[u],l=c[1].firstChild;null!==l&&t(c[1],c,l,o)}var h=i.type;if(3===h||4===h)t(e,n,i.child,o);else if(1===h){var f=n[16],d=f[6].projection[i.projection];if(Array.isArray(d))o.push.apply(o,r(d));else{var p=Vr(f);t(p[1],p,d,o,!0)}}i=s?i.projectionNext:i.next}return o}(e,t,e.firstChild,[])}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}}]),t}(),Ji=function(t){u(n,t);var e=l(n);function n(t){var r;return v(this,n),(r=e.call(this,t))._view=t,r}return g(n,[{key:"detectChanges",value:function(){Oi(this._view)}},{key:"checkNoChanges",value:function(){!function(t){yn(!0);try{Oi(t)}finally{yn(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}($i);function to(t,e,n){return Yi||(Yi=function(t){u(n,t);var e=l(n);function n(){return v(this,n),e.apply(this,arguments)}return n}(t)),new Yi($e(e,n))}var eo=function(){var t=function t(){v(this,t)};return t.__NG_ELEMENT_ID__=function(){return no()},t}(),no=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e,n){if(!n&&Me(t)){var r=tn(t.index,e);return new $i(r,r)}return 2===t.type||0===t.type||3===t.type||4===t.type?new $i(e[16],e):null}(fn(),cn(),t)},ro=Function,io=new Xt("Set Injector scope."),oo={},so={},ao=[],uo=void 0;function co(){return void 0===uo&&(uo=new ce),uo}function lo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new ho(t,n,e||co(),r)}var ho=function(){function t(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;v(this,t),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var s=[];n&&fe(n,(function(t){return i.processProvider(t,e,n)})),fe([e],(function(t){return i.processInjectorType(t,[],s)})),this.records.set($t,vo(void 0,this));var a=this.records.get(io);this.scope=null!=a?a.value:null,this.source=o||("object"==typeof e?null:Pt(e))}return g(t,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(t){return t.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jt,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bt.Default;this.assertNotDestroyed();var r,i=re(this);try{if(!(n&bt.SkipSelf)){var o=this.records.get(t);if(void 0===o){var s=("function"==typeof(r=t)||"object"==typeof r&&r instanceof Xt)&&St(t);o=s&&this.injectableDefInScope(s)?vo(fo(t),oo):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(n&bt.Self?co():this.parent).get(t,e=n&bt.Optional&&e===Jt?null:e)}catch(a){if("NullInjectorError"===a.name){if((a.ngTempTokenPath=a.ngTempTokenPath||[]).unshift(Pt(t)),i)throw a;return function(t,e,n,r){var i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=Pt(e);if(Array.isArray(e))i=e.map(Pt).join(" -> ");else if("object"==typeof e){var o=[];for(var s in e)if(e.hasOwnProperty(s)){var a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Pt(a)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(t.replace(te,"\n  "))}("\n"+t.message,i,"R3InjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(a,t,0,this.source)}throw a}finally{re(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach((function(e){return t.get(e)}))}},{key:"toString",value:function(){var t=[];return this.records.forEach((function(e,n){return t.push(Pt(n))})),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var r=this;if(!(t=Lt(t)))return!1;var i=It(t),o=null==i&&t.ngModule||void 0,s=void 0===o?t:o,a=-1!==n.indexOf(s);if(void 0!==o&&(i=It(o)),null==i)return!1;if(null!=i.imports&&!a){var u;n.push(s);try{fe(i.imports,(function(t){r.processInjectorType(t,e,n)&&(void 0===u&&(u=[]),u.push(t))}))}finally{}if(void 0!==u)for(var c=function(t){var e=u[t],n=e.ngModule,i=e.providers;fe(i,(function(t){return r.processProvider(t,n,i||ao)}))},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(s),this.records.set(s,vo(i.factory,oo));var h=i.providers;if(null!=h&&!a){var f=t;fe(h,(function(t){return r.processProvider(t,f,h)}))}return void 0!==o&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var r=go(t=Lt(t))?t:Lt(t&&t.provide),i=function(t,e,n){return yo(t)?vo(void 0,t.useValue):vo(po(t),oo)}(t);if(go(t)||!0!==t.multi)this.records.get(r);else{var o=this.records.get(r);o||((o=vo(void 0,oo,!0)).factory=function(){return ue(o.multi)},this.records.set(r,o)),r=t,o.multi.push(t)}this.records.set(r,i)}},{key:"hydrate",value:function(t,e){var n;return e.value===oo&&(e.value=so,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();function fo(t){var e=St(t),n=null!==e?e.factory:Pe(t);if(null!==n)return n;var r=It(t);if(null!==r)return r.factory;if(t instanceof Xt)throw new Error("Token ".concat(Pt(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=function(t,e){for(var n=[],r=0;r<t;r++)n.push("?");return n}(e);throw new Error("Can't resolve all parameters for ".concat(Pt(t),": (").concat(n.join(", "),")."))}var r=function(t){var e=t&&(t[Tt]||t[xt]||t[At]&&t[At]());if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "').concat(n,'" class.')),e}return null}(t);return null!==r?function(){return r.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function po(t,e,n){var i,o=void 0;if(go(t)){var a=Lt(t);return Pe(a)||fo(a)}if(yo(t))o=function(){return Lt(t.useValue)};else if((i=t)&&i.useFactory)o=function(){return t.useFactory.apply(t,r(ue(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))o=function(){return se(Lt(t.useExisting))};else{var u=Lt(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Pe(u)||fo(u);o=function(){return s(u,r(ue(t.deps)))}}return o}function vo(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function yo(t){return null!==t&&"object"==typeof t&&ee in t}function go(t){return"function"==typeof t}var mo=function(t,e,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=lo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)},bo=function(){var t=function(){function t(){v(this,t)}return g(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?mo(t,e,""):mo(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=Jt,t.NULL=new ce,t.\u0275prov=kt({token:t,providedIn:"any",factory:function(){return se($t)}}),t.__NG_ELEMENT_ID__=-1,t}(),_o=new Xt("AnalyzeForEntryComponents");function wo(t,e,n){var r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(var s=0;s<e.length;s++){var a=e[s];"number"==typeof a?o=a:1==o?i=Dt(i,a):2==o&&(r=Dt(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function ko(t,e){var n=en(t)[1],r=n.data.length-1;Pn(n,{directiveStart:r,directiveEnd:r+1})}function Eo(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0,r=[t];e;){var i=void 0;if(Fe(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);var o=t;o.inputs=So(t.inputs),o.declaredInputs=So(t.declaredInputs),o.outputs=So(t.outputs);var s=i.hostBindings;s&&To(t,s);var a=i.viewQuery,u=i.contentQueries;if(a&&Co(t,a),u&&Io(t,u),wt(t.inputs,i.inputs),wt(t.declaredInputs,i.declaredInputs),wt(t.outputs,i.outputs),Fe(i)&&i.data.animation){var c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}var l=i.features;if(l)for(var h=0;h<l.length;h++){var f=l[h];f&&f.ngInherit&&f(t),f===Eo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){for(var e=0,n=null,r=t.length-1;r>=0;r--){var i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Bn(i.hostAttrs,n=Bn(n,i.hostAttrs))}}(r)}function So(t){return t===we?{}:t===ke?[]:t}function Co(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,r){e(t,r),n(t,r)}:e}function Io(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,r,i){e(t,r,i),n(t,r,i)}:e}function To(t,e){var n=t.hostBindings;t.hostBindings=n?function(t,r){e(t,r),n(t,r)}:e}var Oo=null;function Ao(){if(!Oo){var t=zt.Symbol;if(t&&t.iterator)Oo=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Oo=r)}}return Oo}function xo(t){return!!No(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ao()in t)}function No(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Po(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Do(t,e,n,r){var i=cn();return Po(i,gn(),e)&&(ln(),function(t,e,n,r,i,o){var s=$e(t,e),a=e[11];if(null==r)Qe(a)?a.removeAttribute(s,n,o):s.removeAttribute(n);else{var u=null==i?Kn(r):i(r,t.tagName||"",n);Qe(a)?a.setAttribute(s,n,u,o):o?s.setAttributeNS(o,n,u):s.setAttribute(n,u)}}(Nn(),i,t,e,n,r)),Do}function Ro(t,e,n,r){return Po(t,gn(),n)?e+Kn(n)+r:Mr}function jo(t,e,n,r,i,o,s,a){var u=cn(),c=ln(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){var c=e.consts,l=Jr(e,t,0,s||null,rn(c,a));li(e,n,l,rn(c,u)),Pn(e,l);var h=l.tViews=ai(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,o,s):c.data[l];dn(h,!1);var f=u[11].createComment("");zi(c,u,f,h),Ir(f,u),Ci(u,u[l]=ki(f,u,f,h)),Ve(h)&&ii(c,u,h),null!=s&&oi(u,h,a)}function Lo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bt.Default,n=cn();return null===n?se(t,e):or(fn(),n,Lt(t),e)}function Mo(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;var n=t.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(Un(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}return null}(fn(),t)}function Vo(t,e,n){var r=cn();return Po(r,gn(),e)&&ci(ln(),Nn(),r,t,e,r[11],n,!1),Vo}function Fo(t,e,n,r,i){var o=i?"class":"style";Di(t,n,e.inputs[o],o,r)}function Uo(t,e,n,r){var i=cn(),o=ln(),s=20+t,a=i[11],u=i[s]=Xr(e,a,an.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){var a=e.consts,u=Jr(e,t,2,i,rn(a,o));return li(e,n,u,rn(a,s)),null!==u.attrs&&wo(u,u.attrs,!1),null!==u.mergedAttrs&&wo(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(t,o,i,0,e,n,r):o.data[s];dn(c,!0);var l=c.mergedAttrs;null!==l&&Fn(a,u,l);var h=c.classes;null!==h&&Qi(a,u,h);var f=c.styles;null!==f&&Ki(a,u,f),zi(o,i,u,c),0===an.lFrame.elementDepthCount&&Ir(u,i),an.lFrame.elementDepthCount++,Ve(c)&&(ii(o,i,c),function(t,e,n){if(Le(e))for(var r=e.directiveEnd,i=e.directiveStart;i<r;i++){var o=t.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}(o,c,i)),null!==r&&oi(i,c)}function qo(){var t=fn();pn()?an.lFrame.isParent=!1:dn(t=t.parent,!1);var e=t;an.lFrame.elementDepthCount--;var n=ln();n.firstCreatePass&&(Pn(n,t),Le(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Fo(n,e,cn(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Fo(n,e,cn(),e.stylesWithoutHost,!1)}function Bo(t,e,n,r){Uo(t,e,n,r),qo()}function zo(){return cn()}function Ho(t){return!!t&&"function"==typeof t.then}function Go(t){return!!t&&"function"==typeof t.subscribe}function Wo(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=cn(),o=ln(),s=fn();return function(t,e,n,r,i,o){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7?arguments[7]:void 0,u=Ve(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=Ni(e),h=!0;if(2===r.type){var f=$e(r,e),d=a?a(f):we,p=d.target||f,v=l.length,y=a?function(t){return a(Ze(t[r.index])).target}:r.index;if(Qe(n)){var g=null;if(!a&&u&&(g=function(t,e,n,r){var i=t.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var s=i[o];if(s===n&&i[o+1]===r){var a=e[7],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==g)(g.__ngLastListenerFn__||g).__ngNextListenerFn__=o,g.__ngLastListenerFn__=o,h=!1;else{o=Qo(r,e,o,!1);var m=n.listen(d.name||p,i,o);l.push(o,m),c&&c.push(i,y,v,v+1)}}else o=Qo(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,y,v,s)}var b,_=r.outputs;if(h&&null!==_&&(b=_[i])){var w=b.length;if(w)for(var k=0;k<w;k+=2){var E=e[b[k]][b[k+1]].subscribe(o),S=l.length;l.push(o,E),c&&c.push(i,r.index,S,-(S+1))}}}(o,i,i[11],s,t,e,n,r),Wo}function Ko(t,e,n){try{return!1!==e(n)}catch(r){return Pi(t,r),!1}}function Qo(t,e,n,r){return function i(o){if(o===Function)return n;var s=2&t.flags?tn(t.index,e):e;0==(32&e[2])&&Ii(s);for(var a=Ko(e,n,o),u=i.__ngNextListenerFn__;u;)a=Ko(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Yo(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return(an.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,an.lFrame.contextLView))[8]}(t)}var Zo=[];function Xo(t,e,n,r,i){for(var o=t[n+1],s=null===e,a=r?Gr(o):Kr(o),u=!1;0!==a&&(!1===u||s);){var c=t[a+1];$o(t[a],e)&&(u=!0,t[a+1]=r?Yr(c):Wr(c)),a=r?Gr(c):Kr(c)}u&&(t[n+1]=r?Wr(o):Yr(o))}function $o(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ge(t,e)>=0}var Jo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ts(t){return t.substring(Jo.key,Jo.keyEnd)}function es(t,e){var n=Jo.textEnd;return n===e?-1:(e=Jo.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Jo.key=e,n),ns(t,e,n))}function ns(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function rs(t,e){return function(t,e,n,r){var i=cn(),o=ln(),s=mn(2);o.firstUpdatePass&&us(o,t,s,!0),e!==Mr&&Po(i,s,e)&&hs(o,o.data[An()+20],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=Pt(mr(t))),t}(e),!0,s)}(t,e),rs}function is(t){ss(ve,os,t,!0)}function os(t,e){for(var n=function(t){return function(t){Jo.key=0,Jo.keyEnd=0,Jo.value=0,Jo.valueEnd=0,Jo.textEnd=t.length}(t),es(t,ns(t,0,Jo.textEnd))}(e);n>=0;n=es(e,n))ve(t,ts(e),!0)}function ss(t,e,n,r){var i=ln(),o=mn(2);i.firstUpdatePass&&us(i,null,o,r);var s=cn();if(n!==Mr&&Po(s,o,n)){var a=i.data[An()+20];if(ps(a,r)&&!as(i,o)){var u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(n=Dt(u,n||"")),Fo(i,a,s,n,r)}else!function(t,e,n,r,i,o,s,a){i===Mr&&(i=Zo);for(var u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;null!==l||null!==h;){var f=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0,p=null,v=void 0;l===h?(u+=2,c+=2,f!==d&&(p=h,v=d)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,v=d),null!==p&&hs(t,e,n,r,p,v,s,a),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return Zo;var r=[],i=mr(n);if(Array.isArray(i))for(var o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(var s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function as(t,e){return e>=t.expandoStartIndex}function us(t,e,n,r){var i=t.data;if(null===i[n+1]){var o=i[An()+20],s=as(t,n);ps(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){var i=function(t){var e=an.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t),o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=ls(n=cs(null,t,e,n,r),e.attrs,r),o=null);else{var s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=cs(i,t,e,n,r),null===o){var a=function(t,e,n){var r=n?e.classBindings:e.styleBindings;if(0!==Kr(r))return t[Gr(r)]}(t,e,r);void 0!==a&&Array.isArray(a)&&function(t,e,n,r){t[Gr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,a=ls(a=cs(null,t,e,a[1],r),e.attrs,r))}else o=function(t,e,n){for(var r=void 0,i=e.directiveEnd,o=1+e.directiveStylingLast;o<i;o++)r=ls(r,t[o].hostAttrs,n);return ls(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){var s=o?e.classBindings:e.styleBindings,a=Gr(s),u=Kr(s);t[r]=n;var c,l=!1;if(Array.isArray(n)){var h=n;(null===(c=h[1])||ge(h,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){var f=Gr(t[a+1]);t[r+1]=Hr(f,a),0!==f&&(t[f+1]=Qr(t[f+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Hr(a,0),0!==a&&(t[a+1]=Qr(t[a+1],r)),a=r;else t[r+1]=Hr(u,0),0===a?a=r:t[u+1]=Qr(t[u+1],r),u=r;l&&(t[r+1]=Wr(t[r+1])),Xo(t,c,r,!0),Xo(t,c,r,!1),function(t,e,n,r,i){var o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&ge(o,e)>=0&&(n[r+1]=Yr(n[r+1]))}(e,c,t,r,o),s=Hr(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function cs(t,e,n,r,i){var o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(r=ls(r,(o=e[a]).hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function ls(t,e,n){var r=n?1:2,i=-1;if(null!==e)for(var o=0;o<e.length;o++){var s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ve(t,s,!!n||e[++o]))}return void 0===t?null:t}function hs(t,e,n,r,i,o,s,a){if(2===e.type){var u=t.data,c=u[a+1];ds(1==(1&c)?fs(u,e,n,i,Kr(c),s):void 0)||(ds(o)||2==(2&c)&&(o=fs(u,null,n,i,a,s)),function(t,e,n,r,i){var o=Qe(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{var s=-1==r.indexOf("-")?void 0:2;null==i?o?t.removeStyle(n,r,s):n.style.removeProperty(r):o?t.setStyle(n,r,i,s):n.style.setProperty(r,i)}}(r,s,Xe(An(),n),i,o))}}function fs(t,e,n,r,i,o){for(var s=null===e,a=void 0;i>0;){var u=t[i],c=Array.isArray(u),l=c?u[1]:u,h=null===l,f=n[i+1];f===Mr&&(f=h?Zo:void 0);var d=h?ye(f,r):l===r?f:void 0;if(c&&!ds(d)&&(d=ye(u,r)),ds(d)&&(a=d,s))return a;var p=t[i+1];i=s?Gr(p):Kr(p)}if(null!==e){var v=o?e.residualClasses:e.residualStyles;null!=v&&(a=ye(v,r))}return a}function ds(t){return void 0!==t}function ps(t,e){return 0!=(t.flags&(e?16:32))}function vs(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=cn(),r=ln(),i=t+20,o=r.firstCreatePass?Jr(r,t,2,null,null):r.data[i],s=n[i]=function(t,e){return Qe(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);zi(r,n,s,o),dn(o,!1)}function ys(t){return gs("",t,""),ys}function gs(t,e,n){var r=cn(),i=Ro(r,t,e,n);return i!==Mr&&function(t,e,n){var r=Xe(e,t),i=t[11];Qe(i)?i.setValue(r,n):r.textContent=n}(r,An(),i),gs}function ms(t,e,n){ss(ve,os,Ro(cn(),t,e,n),!0)}function bs(t,e,n){var r=cn();return Po(r,gn(),e)&&ci(ln(),Nn(),r,t,e,r[11],n,!0),bs}function _s(t,e,n,r,i){if(t=Lt(t),Array.isArray(t))for(var o=0;o<t.length;o++)_s(t[o],e,n,r,i);else{var s=ln(),a=cn(),u=go(t)?t:Lt(t.provide),c=po(t),l=fn(),h=1048575&l.providerIndexes,f=l.directiveStart,d=l.providerIndexes>>20;if(go(t)||!t.multi){var p=new Vn(c,i,Lo),v=Es(u,e,i?h:h+d,f);-1===v?(ir(tr(l,a),s,u),ws(s,t,e.length),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(p),a.push(p)):(n[v]=p,a[v]=p)}else{var y=Es(u,e,h+d,f),g=Es(u,e,h,h+d),m=y>=0&&n[y],b=g>=0&&n[g];if(i&&!b||!i&&!m){ir(tr(l,a),s,u);var _=function(t,e,n,r,i){var o=new Vn(t,n,Lo);return o.multi=[],o.index=e,o.componentProviders=0,ks(o,i,r&&!n),o}(i?Cs:Ss,n.length,i,r,c);!i&&b&&(n[g].providerFactory=_),ws(s,t,e.length,0),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(_),a.push(_)}else ws(s,t,y>-1?y:g,ks(n[i?g:y],c,!i&&r));!i&&r&&b&&n[g].componentProviders++}}}function ws(t,e,n,r){var i=go(e);if(i||e.useClass){var o=(e.useClass||e).prototype.ngOnDestroy;if(o){var s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){var a=s.indexOf(n);-1===a?s.push(n,[r,o]):s[a+1].push(r,o)}else s.push(n,o)}}}function ks(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Es(t,e,n,r){for(var i=n;i<r;i++)if(e[i]===t)return i;return-1}function Ss(t,e,n,r){return Is(this.multi,[])}function Cs(t,e,n,r){var i,o=this.multi;if(this.providerFactory){var s=this.providerFactory.componentProviders,a=ur(n,n[1],this.providerFactory.index,r);Is(o,i=a.slice(0,s));for(var u=s;u<a.length;u++)i.push(a[u])}else Is(o,i=[]);return i}function Is(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ts(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(t,e,n){var r=ln();if(r.firstCreatePass){var i=Fe(t);_s(n,r.data,r.blueprint,i,!0),_s(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}}var Os=function t(){v(this,t)},As=function(){function t(){v(this,t)}return g(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(Pt(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),xs=function(){var t=function t(){v(this,t)};return t.NULL=new As,t}(),Ns=function(){var t=function t(e){v(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=function(){return Ps(t)},t}(),Ps=function(t){return to(t,fn(),cn())},Ds=function t(){v(this,t)},Rs=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({}),js=function(){var t=function t(){v(this,t)};return t.__NG_ELEMENT_ID__=function(){return Ls()},t}(),Ls=function(){var t=cn(),e=tn(fn().index,t);return function(t){var e=t[11];if(Qe(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Re(e)?e:t)},Ms=function(){var t=function t(){v(this,t)};return t.\u0275prov=kt({token:t,providedIn:"root",factory:function(){return null}}),t}(),Vs=function t(e){v(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},Fs=new Vs("10.1.6"),Us=function(){function t(){v(this,t)}return g(t,[{key:"supports",value:function(t){return xo(t)}},{key:"create",value:function(t){return new Bs(t)}}]),t}(),qs=function(t,e){return e},Bs=function(){function t(e){v(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||qs}return g(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<Ws(n,r,i)?e:n,s=Ws(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=s-r,c=a-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}s!==a&&t(o,s,a)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!xo(t))throw new Error("Error trying to diff '".concat(Pt(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,r,i,o=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(var a=0;a<this.length;a++)r=t[a],i=this._trackByFn(a,r),null!==o&&Object.is(o.trackById,i)?(s&&(o=this._verifyReinsertion(o,r,i,a)),Object.is(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,a),s=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[Ao()]();!(r=i.next()).done;)e(r.value)}(t,(function(t){i=e._trackByFn(n,t),null!==o&&Object.is(o.trackById,i)?(s&&(o=e._verifyReinsertion(o,t,i,n)),Object.is(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),s=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new zs(e,n),i,r),t}},{key:"_verifyReinsertion",value:function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Gs),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Gs),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),t}(),zs=function t(e,n){v(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Hs=function(){function t(){v(this,t),this._head=null,this._tail=null}return g(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),Gs=function(){function t(){v(this,t),this.map=new Map}return g(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Hs,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),t}();function Ws(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Ks=function(){function t(){v(this,t)}return g(t,[{key:"supports",value:function(t){return t instanceof Map||No(t)}},{key:"create",value:function(){return new Qs}}]),t}(),Qs=function(){function t(){v(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return g(t,[{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||No(t)))throw new Error("Error trying to diff '".concat(Pt(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Ys(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach((function(n){return e(t[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),t}(),Ys=function t(e){v(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},Zs=function(){var t=function(){function t(e){v(this,t),this.factories=e}return g(t,[{key:"find",value:function(t){var e,n=this.factories.find((function(e){return e.supports(t)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new mt,new yt]]}}}]),t}();return t.\u0275prov=kt({token:t,providedIn:"root",factory:function(){return new t([new Us])}}),t}(),Xs=function(){var t=function(){function t(e){v(this,t),this.factories=e}return g(t,[{key:"find",value:function(t){var e=this.factories.find((function(e){return e.supports(t)}));if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new mt,new yt]]}}}]),t}();return t.\u0275prov=kt({token:t,providedIn:"root",factory:function(){return new t([new Ks])}}),t}(),$s=[new Ks],Js=new Zs([new Us]),ta=new Xs($s),ea=function(){var t=function t(){v(this,t)};return t.__NG_ELEMENT_ID__=function(){return na(t,Ns)},t}(),na=function(t,e){return function(t,e,n,r){return Zi||(Zi=function(t){u(n,t);var e=l(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this))._declarationView=t,o._declarationTContainer=r,o.elementRef=i,o}return g(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=$r(this._declarationView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationView[this._declarationTContainer.index];var r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),ti(e,n,t),new $i(n)}}]),n}(t)),0===n.type?new Zi(r,n,to(e,n,r)):null}(t,e,fn(),cn())},ra=function(){var t=function t(){v(this,t)};return t.__NG_ELEMENT_ID__=function(){return ia(t,Ns)},t}(),ia=function(t,e){return function(t,e,n,r){var i;Xi||(Xi=function(t){u(r,t);var n=l(r);function r(t,e,i){var o;return v(this,r),(o=n.call(this))._lContainer=t,o._hostTNode=e,o._hostView=i,o}return g(r,[{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}},{key:"createEmbeddedView",value:function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r}},{key:"createComponent",value:function(t,e,n,r,i){var o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){var s=o.get(le,null);s&&(i=s)}var a=t.create(o,r,void 0,i);return this.insert(a.hostView,e),a}},{key:"insert",value:function(t,e){var n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),je(n[3])){var i=this.indexOf(t);if(-1!==i)this.detach(i);else{var o=n[3],s=new Xi(o,o[6],o[3]);s.detach(s.indexOf(t))}}var a=this._adjustIndex(e),u=this._lContainer;!function(t,e,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],de(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;var s=e[17];null!==s&&n!==s&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);var a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,u,a);var c=function t(e,n){var r=10+e+1;if(r<n.length){var i=n[r],o=i[1].firstChild;if(null!==o)return function e(n,r){if(null!==r){var i=r.type;if(2===i)return $e(r,n);if(0===i)return t(-1,n[r.index]);if(3===i||4===i){var o=r.child;if(null!==o)return e(n,o);var s=n[r.index];return je(s)?t(-1,s):Ze(s)}var a=n[16],u=a[6],c=Vr(a),l=u.projection[r.projection];return null!=l?e(c,l):e(n,r.next)}return null}(i,o)}return n[7]}(a,u),l=n[11],h=Bi(l,u[7]);return null!==h&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Gi(t,r,n,1,i,o)}(r,u[6],l,n,h,c),t.attachToViewContainerRef(this),de(u[8],a,t),t}},{key:"move",value:function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=this._lContainer[8];return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1),n=Li(this._lContainer,e);n&&(pe(this._lContainer[8],e),Mi(n[1],n))}},{key:"detach",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1),n=Li(this._lContainer,e);return n&&null!=pe(this._lContainer[8],e)?new $i(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}},{key:"element",get:function(){return to(e,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new hr(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var t=rr(this._hostTNode,this._hostView);if(Hn(t)){var e=Wn(t,this._hostView),n=Gn(t);return new hr(e[1].data[n+8],e)}return new hr(null,this._hostView)}},{key:"length",get:function(){return this._lContainer.length-10}}]),r}(t));var o=r[n.index];if(je(o))i=o;else{var s;if(3===n.type)s=Ze(o);else if(s=r[11].createComment(""),Ue(r)){var a=r[11],c=$e(n,r);Fi(a,Bi(a,c),s,function(t,e){return Qe(t)?t.nextSibling(e):e.nextSibling}(a,c))}else zi(r[1],r,s,n);r[n.index]=i=ki(o,r,s,n),Ci(r,i)}return new Xi(i,n,r)}(t,e,fn(),cn())},oa={},sa=function(t){u(n,t);var e=l(n);function n(t){var r;return v(this,n),(r=e.call(this)).ngModule=t,r}return g(n,[{key:"resolveComponentFactory",value:function(t){var e=Ne(t);return new ca(e,this.ngModule)}}]),n}(xs);function aa(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var ua=new Xt("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Yn}}),ca=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this)).componentDef=t,i.ngModule=r,i.componentType=t.type,i.selector=t.selectors.map(Lr).join(","),i.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],i.isBoundToModule=!!r,i}return g(n,[{key:"create",value:function(t,e,n,r){var i,o,s=(r=r||this.ngModule)?function(t,e){return{get:function(n,r,i){var o=t.get(n,oa,i);return o!==oa||r===oa?o:e.get(n,r,i)}}}(t,r.injector):t,a=s.get(Ds,Ye),u=s.get(Ms,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?function(t,e,n){if(Qe(t))return t.selectRootElement(e,n===_e.ShadowDom);var r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(c,n,this.componentDef.encapsulation):Xr(l,a.createRenderer(null,this.componentDef),function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,d={components:[],scheduler:Yn,clean:xi,playerHandler:null,flags:0},p=ai(0,null,null,1,0,null,null,null,null,null),v=$r(null,p,d,f,null,null,a,c,u,s);En(v);try{var y=function(t,e,n,r,i,o){var s=n[1];n[20]=t;var a=Jr(s,0,2,null,null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(wo(a,u,!0),null!==t&&(Fn(i,t,u),null!==a.classes&&Qi(i,t,a.classes),null!==a.styles&&Ki(i,t,a.styles)));var c=r.createRenderer(t,e),l=$r(n,si(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(ir(tr(a,n),s,e.type),vi(s,a),gi(a,n.length,1)),Ci(n,l),n[20]=l}(h,this.componentDef,v,a,c);if(h)if(n)Fn(c,h,["ng-version",Fs.full]);else{var g=function(t){for(var e=[],n=[],r=1,i=2;r<t.length;){var o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Pr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),m=g.attrs,b=g.classes;m&&Fn(c,h,m),b&&b.length>0&&Qi(c,h,b.join(" "))}if(o=Je(p,0),void 0!==e)for(var _=o.projection=[],w=0;w<this.ngContentSelectors.length;w++){var k=e[w];_.push(null!=k?Array.from(k):null)}i=function(t,e,n,r,i){var o=n[1],s=function(t,e,n){var r=fn();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),pi(t,r,1),mi(t,e,n));var i=ur(e,t,e.length-1,r);Ir(i,e);var o=$e(r,e);return o&&Ir(o,e),i}(o,n,e);r.components.push(s),t[8]=s,i&&i.forEach((function(t){return t(s,e)})),e.contentQueries&&e.contentQueries(1,s,n.length-1);var a=fn();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){xn(a.index-20);var u=n[1];hi(u,e),fi(u,n,e.hostVars),di(e,s)}return s}(y,this.componentDef,v,d,[ko]),ti(p,v,null)}finally{On()}return new la(this.componentType,i,to(Ns,o,v),v,o)}},{key:"inputs",get:function(){return aa(this.componentDef.inputs)}},{key:"outputs",get:function(){return aa(this.componentDef.outputs)}}]),n}(Os),la=function(t){u(n,t);var e=l(n);function n(t,r,i,o,s){var a;return v(this,n),(a=e.call(this)).location=i,a._rootLView=o,a._tNode=s,a.destroyCbs=[],a.instance=r,a.hostView=a.changeDetectorRef=new Ji(o),a.componentType=t,a}return g(n,[{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(t){this.destroyCbs&&this.destroyCbs.push(t)}},{key:"injector",get:function(){return new hr(this._tNode,this._rootLView)}}]),n}(function(){return function t(){v(this,t)}}()),ha=void 0,fa=["en",[["a","p"],["AM","PM"],ha],[["AM","PM"],ha,ha],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ha,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ha,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ha,"{1} 'at' {0}",ha],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],da={};function pa(t){return t in da||(da[t]=zt.ng&&zt.ng.common&&zt.ng.common.locales&&zt.ng.common.locales[t]),da[t]}var va=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});function ya(t){var e;null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: Expected localeId to be defined"+" [Expected=> null != ".concat(e," <=Actual]"))}(0,e),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}var ga=new Map,ma=function(t){u(n,t);var e=l(n);function n(t,r){var i;v(this,n),(i=e.call(this))._parent=r,i._bootstrapComponents=[],i.injector=f(i),i.destroyCbs=[],i.componentFactoryResolver=new sa(f(i));var o=De(t),s=t[Qt]||null;return s&&ya(s),i._bootstrapComponents=Zn(o.bootstrap),i._r3Injector=lo(t,r,[{provide:le,useValue:f(i)},{provide:xs,useValue:i.componentFactoryResolver}],Pt(t)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(t),i}return g(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bo.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bt.Default;return t===bo||t===le||t===$t?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}(le),ba=function(t){u(n,t);var e=l(n);function n(t){var r;return v(this,n),(r=e.call(this)).moduleType=t,null!==De(t)&&function t(e){if(null!==e.\u0275mod.id){var n=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(Pt(e)," vs ").concat(Pt(e.name)))})(n,ga.get(n),e),ga.set(n,e)}var r=e.\u0275mod.imports;r instanceof Function&&(r=r()),r&&r.forEach((function(e){return t(e)}))}(t),r}return g(n,[{key:"create",value:function(t){return new ma(this.moduleType,t)}}]),n}(he);function _a(t,e,n,r){return function(t,e,n,r,i,o){var s=e+n;return Po(t,s,i)?function(t,e,n){return t[e]=n}(t,s+1,o?r.call(o,i):r(i)):function(t,e){var n=t[e];return n===Mr?void 0:n}(t,s+1)}(cn(),(i=an.lFrame,-1===(o=i.bindingRootIndex)&&(o=i.bindingRootIndex=i.tView.bindingStartIndex),o),t,e,n,r);var i,o}var wa=function(t){u(n,t);var e=l(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return v(this,n),(t=e.call(this)).__isAsync=r,t}return g(n,[{key:"emit",value:function(t){a(p(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,r){var i,o=function(t){return null},s=function(){return null};t&&"object"==typeof t?(i=this.__isAsync?function(e){setTimeout((function(){return t.next(e)}))}:function(e){t.next(e)},t.error&&(o=this.__isAsync?function(e){setTimeout((function(){return t.error(e)}))}:function(e){t.error(e)}),t.complete&&(s=this.__isAsync?function(){setTimeout((function(){return t.complete()}))}:function(){t.complete()})):(i=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)},e&&(o=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)}),r&&(s=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var u=a(p(n.prototype),"subscribe",this).call(this,i,o,s);return t instanceof C&&t.add(u),u}}]),n}(F),ka=new Xt("Application Initializer"),Ea=function(){var t=function(){function t(e){var n=this;v(this,t),this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(t,e){n.resolve=t,n.reject=e}))}return g(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();Ho(i)&&e.push(i)}Promise.all(e).then((function(){n()})).catch((function(e){t.reject(e)})),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(se(ka,8))},t.\u0275prov=kt({token:t,factory:t.\u0275fac}),t}(),Sa=new Xt("AppId"),Ca={provide:Sa,useFactory:function(){return"".concat(Ia()).concat(Ia()).concat(Ia())},deps:[]};function Ia(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Ta=new Xt("Platform Initializer"),Oa=new Xt("Platform ID"),Aa=new Xt("appBootstrapListener"),xa=function(){var t=function(){function t(){v(this,t)}return g(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=kt({token:t,factory:t.\u0275fac}),t}(),Na=new Xt("LocaleId"),Pa=new Xt("DefaultCurrencyCode"),Da=function t(e,n){v(this,t),this.ngModuleFactory=e,this.componentFactories=n},Ra=function(t){return new ba(t)},ja=Ra,La=function(t){return Promise.resolve(Ra(t))},Ma=function(t){var e=Ra(t),n=Zn(De(t).declarations).reduce((function(t,e){var n=Ne(e);return n&&t.push(new ca(n)),t}),[]);return new Da(e,n)},Va=Ma,Fa=function(t){return Promise.resolve(Ma(t))},Ua=function(){var t=function(){function t(){v(this,t),this.compileModuleSync=ja,this.compileModuleAsync=La,this.compileModuleAndAllComponentsSync=Va,this.compileModuleAndAllComponentsAsync=Fa}return g(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=kt({token:t,factory:t.\u0275fac}),t}(),qa=Promise.resolve(0);function Ba(t){"undefined"==typeof Zone?qa.then((function(){t&&t.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var za=function(){function t(e){var n,r,i=e.enableLongStackTrace,o=void 0!==i&&i,s=e.shouldCoalesceEventChangeDetection,a=void 0!==s&&s;if(v(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new wa(!1),this.onMicrotaskEmpty=new wa(!1),this.onStable=new wa(!1),this.onError=new wa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=a,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=zt.requestAnimationFrame,e=zt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,r=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(zt,(function(){t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",(function(){t.lastRequestAnimationFrameId=-1,Ka(t),Wa(t)}),void 0,(function(){}),(function(){}))),t.fakeTopEventTask.invoke()})),Ka(t))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:r},onInvokeTask:function(t,e,i,o,s,a){try{return Qa(n),t.invokeTask(i,o,s,a)}finally{r&&"eventTask"===o.type&&r(),Ya(n)}},onInvoke:function(t,e,r,i,o,s,a){try{return Qa(n),t.invoke(r,i,o,s,a)}finally{Ya(n)}},onHasTask:function(t,e,r,i){t.hasTask(r,i),e===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,Ka(n),Wa(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,e,r,i){return t.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return g(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Ga,Ha,Ha);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}();function Ha(){}var Ga={};function Wa(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular((function(){return t.onStable.emit(null)}))}finally{t.isStable=!0}}}function Ka(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Qa(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ya(t){t._nesting--,Wa(t)}var Za,Xa=function(){function t(){v(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new wa,this.onMicrotaskEmpty=new wa,this.onStable=new wa,this.onError=new wa}return g(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,r){return t.apply(e,n)}}]),t}(),$a=function(){var t=function(){function t(e){var n=this;v(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return g(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.subscribe({next:function(){za.assertNotInAngularZone(),Ba((function(){t._isZoneStable=!0,t._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())Ba((function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1}));else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}})):[]}},{key:"addCallback",value:function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(t){return t.timeoutId!==i})),t(r._didWork,r.getPendingTasks())}),e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(se(za))},t.\u0275prov=kt({token:t,factory:t.\u0275fac}),t}(),Ja=function(){var t=function(){function t(){v(this,t),this._applications=new Map,tu.addToWindow(this)}return g(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return tu.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=kt({token:t,factory:t.\u0275fac}),t}(),tu=new(function(){function t(){v(this,t)}return g(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),eu=new Xt("AllowMultipleToken"),nu=function t(e,n){v(this,t),this.name=e,this.token=n};function ru(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: "+e,i=new Xt(r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=iu();if(!o||o.injector.get(eu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var s=n.concat(e).concat({provide:i,useValue:!0},{provide:io,useValue:"platform"});!function(t){if(Za&&!Za.destroyed&&!Za.injector.get(eu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Za=t.get(ou);var e=t.get(Ta,null);e&&e.forEach((function(t){return t()}))}(bo.create({providers:s,name:r}))}return function(t){var e=iu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function iu(){return Za&&!Za.destroyed?Za:null}var ou=function(){var t=function(){function t(e){v(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return g(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,r,i=this,o=(n=e?e.ngZone:void 0,r=e&&e.ngZoneEventCoalescing||!1,"noop"===n?new Xa:("zone.js"===n?void 0:n)||new za({enableLongStackTrace:wr(),shouldCoalesceEventChangeDetection:r})),s=[{provide:za,useValue:o}];return o.run((function(){var e=bo.create({providers:s,parent:i.injector,name:t.moduleType.name}),n=t.create(e),r=n.injector.get(yr,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return cu(i._modules,n)})),o.runOutsideAngular((function(){return o.onError.subscribe({next:function(t){r.handleError(t)}})})),function(t,e,r){try{var o=((s=n.injector.get(Ea)).runInitializers(),s.donePromise.then((function(){return ya(n.injector.get(Na,"en-US")||"en-US"),i._moduleDoBootstrap(n),n})));return Ho(o)?o.catch((function(n){throw e.runOutsideAngular((function(){return t.handleError(n)})),n})):o}catch(a){throw e.runOutsideAngular((function(){return t.handleError(a)})),a}var s}(r,o)}))}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=su({},n);return function(t,e,n){var r=new ba(n);return Promise.resolve(r)}(0,0,t).then((function(t){return e.bootstrapModuleFactory(t,r)}))}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(uu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach((function(t){return e.bootstrap(t)}));else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(Pt(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(t){return t.destroy()})),this._destroyListeners.forEach((function(t){return t()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(se(bo))},t.\u0275prov=kt({token:t,factory:t.\u0275fac}),t}();function su(t,e){return Array.isArray(e)?e.reduce(su,t):Object.assign(Object.assign({},t),e)}var au,uu=((au=function(){function t(e,n,r,i,o,s){var a=this;v(this,t),this._zone=e,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=wr(),this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run((function(){a.tick()}))}});var u=new D((function(t){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular((function(){t.next(a._stable),t.complete()}))})),c=new D((function(t){var e;a._zone.runOutsideAngular((function(){e=a._zone.onStable.subscribe((function(){za.assertNotInAngularZone(),Ba((function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,t.next(!0))}))}))}));var n=a._zone.onUnstable.subscribe((function(){za.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular((function(){t.next(!1)})))}));return function(){e.unsubscribe(),n.unsubscribe()}}));this.isStable=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Number.POSITIVE_INFINITY,i=null,o=e[e.length-1];return q(o)?(i=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(r=e.pop())):"number"==typeof o&&(r=e.pop()),null===i&&1===e.length&&e[0]instanceof D?e[0]:it(r)(ot(e,i))}(u,c.pipe((function(t){return st()((e=ft,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,lt);return r.source=t,r.subjectFactory=n,r})(t));var e})))}return g(t,[{key:"bootstrap",value:function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof Os?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(le),o=n.create(bo.NULL,[],e||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var s=o.injector.get($a,null);return s&&o.injector.get(Ja).registerApplication(o.location.nativeElement,s),this._loadComponent(o),wr()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e,r=n(this._views);try{for(r.s();!(e=r.n()).done;)e.value.detectChanges()}catch(s){r.e(s)}finally{r.f()}if(this._enforceNoNewChanges){var i,o=n(this._views);try{for(o.s();!(i=o.n()).done;)i.value.checkNoChanges()}catch(s){o.e(s)}finally{o.f()}}}catch(a){this._zone.runOutsideAngular((function(){return t._exceptionHandler.handleError(a)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;cu(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Aa,[]).concat(this._bootstrapListeners).forEach((function(e){return e(t)}))}},{key:"_unloadComponent",value:function(t){this.detachView(t.hostView),cu(this.components,t)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(t){return t.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),t}()).\u0275fac=function(t){return new(t||au)(se(za),se(xa),se(bo),se(yr),se(xs),se(Ea))},au.\u0275prov=kt({token:au,factory:au.\u0275fac}),au);function cu(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var lu=function t(){v(this,t)},hu=function t(){v(this,t)},fu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},du=function(){var t=function(){function t(e,n){v(this,t),this._compiler=e,this._config=n||fu}return g(t,[{key:"load",value:function(t){return this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var n=this,r=e(t.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),c("zn8P")(i).then((function(t){return t[o]})).then((function(t){return pu(t,i,o)})).then((function(t){return n._compiler.compileModuleAsync(t)}))}},{key:"loadFactory",value:function(t){var n=e(t.split("#"),2),r=n[0],i=n[1],o="NgFactory";return void 0===i&&(i="default",o=""),c("zn8P")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(t){return t[i+o]})).then((function(t){return pu(t,r,i)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(se(Ua),se(hu,8))},t.\u0275prov=kt({token:t,factory:t.\u0275fac}),t}();function pu(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var vu=ru(null,"core",[{provide:Oa,useValue:"unknown"},{provide:ou,deps:[bo]},{provide:Ja,deps:[]},{provide:xa,deps:[]}]),yu=[{provide:uu,useClass:uu,deps:[za,xa,bo,yr,xs,Ea]},{provide:ua,deps:[za],useFactory:function(t){var e=[];return t.onStable.subscribe((function(){for(;e.length;)e.pop()()})),function(t){e.push(t)}}},{provide:Ea,useClass:Ea,deps:[[new yt,ka]]},{provide:Ua,useClass:Ua,deps:[]},Ca,{provide:Zs,useFactory:function(){return Js},deps:[]},{provide:Xs,useFactory:function(){return ta},deps:[]},{provide:Na,useFactory:function(t){return ya(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new vt(Na),new yt,new mt]]},{provide:Pa,useValue:"USD"}],gu=function(){var t=function t(e){v(this,t)};return t.\u0275mod=Oe({type:t}),t.\u0275inj=Et({factory:function(e){return new(e||t)(se(uu))},providers:yu}),t}(),mu={apiKey:"AIzaSyDBMqDFseN0Z0x8F_BQK0j-EReqRyuvgmA",authDomain:"yogabykatie-86c47.firebaseapp.com",databaseURL:"https://yogabykatie-86c47.firebaseio.com",projectId:"yogabykatie-86c47",storageBucket:"yogabykatie-86c47.appspot.com",messagingSenderId:"748578012251",appId:"1:748578012251:web:40091804672ebe0214537e"},bu=null;function _u(){return bu}var wu,ku=new Xt("DocumentToken"),Eu=((wu=function t(){v(this,t)}).\u0275fac=function(t){return new(t||wu)},wu.\u0275prov=kt({factory:Su,token:wu,providedIn:"platform"}),wu);function Su(){return se(Tu)}var Cu,Iu=new Xt("Location Initialized"),Tu=((Cu=function(t){u(n,t);var e=l(n);function n(t){var r;return v(this,n),(r=e.call(this))._doc=t,r._init(),r}return g(n,[{key:"_init",value:function(){this.location=_u().getLocation(),this._history=_u().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return _u().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){_u().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){_u().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"pushState",value:function(t,e,n){Ou()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){Ou()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),n}(Eu)).\u0275fac=function(t){return new(t||Cu)(se(ku))},Cu.\u0275prov=kt({factory:Au,token:Cu,providedIn:"platform"}),Cu);function Ou(){return!!window.history.pushState}function Au(){return new Tu(se(ku))}function xu(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Nu(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Pu(t){return t&&"?"!==t[0]?"?"+t:t}var Du,Ru=((Du=function t(){v(this,t)}).\u0275fac=function(t){return new(t||Du)},Du.\u0275prov=kt({factory:ju,token:Du,providedIn:"root"}),Du);function ju(t){var e=se(ku).location;return new Uu(se(Eu),e&&e.origin||"")}var Lu,Mu,Vu,Fu=new Xt("appBaseHref"),Uu=((Vu=function(t){u(n,t);var e=l(n);function n(t,r){var i;if(v(this,n),(i=e.call(this))._platformLocation=t,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,h(i)}return g(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return xu(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+Pu(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+Pu(r));this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+Pu(r));this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(Ru)).\u0275fac=function(t){return new(t||Vu)(se(Eu),se(Fu,8))},Vu.\u0275prov=kt({token:Vu,factory:Vu.\u0275fac}),Vu),qu=((Mu=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this))._platformLocation=t,i._baseHref="",null!=r&&(i._baseHref=r),i}return g(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=xu(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+Pu(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+Pu(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(Ru)).\u0275fac=function(t){return new(t||Mu)(se(Eu),se(Fu,8))},Mu.\u0275prov=kt({token:Mu,factory:Mu.\u0275fac}),Mu),Bu=((Lu=function(){function t(e,n){var r=this;v(this,t),this._subject=new wa,this._urlChangeListeners=[],this._platformStrategy=e;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=Nu(Hu(i)),this._platformStrategy.onPopState((function(t){r._subject.emit({url:r.path(!0),pop:!0,state:t.state,type:t.type})}))}return g(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+Pu(e))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Hu(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Pu(e)),n)}},{key:"replaceState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Pu(e)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe((function(t){e._notifyUrlChangeListeners(t.url,t.state)})))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(t,e)}))}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}]),t}()).\u0275fac=function(t){return new(t||Lu)(se(Ru),se(Eu))},Lu.normalizeQueryParams=Pu,Lu.joinWithSlash=xu,Lu.stripTrailingSlash=Nu,Lu.\u0275prov=kt({factory:zu,token:Lu,providedIn:"root"}),Lu);function zu(){return new Bu(se(Ru),se(Eu))}function Hu(t){return t.replace(/\/index.html$/,"")}var Gu,Wu,Ku,Qu,Yu=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),Zu=function t(){v(this,t)},Xu=((Wu=function(t){u(n,t);var e=l(n);function n(t){var r;return v(this,n),(r=e.call(this)).locale=t,r}return g(n,[{key:"getPluralCategory",value:function(t,e){switch(function(t){return function(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=pa(e);if(n)return n;var r=e.split("-")[0];if(n=pa(r))return n;if("en"===r)return fa;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}(t)[va.PluralCase]}(e||this.locale)(t)){case Yu.Zero:return"zero";case Yu.One:return"one";case Yu.Two:return"two";case Yu.Few:return"few";case Yu.Many:return"many";default:return"other"}}}]),n}(Zu)).\u0275fac=function(t){return new(t||Wu)(se(Na))},Wu.\u0275prov=kt({token:Wu,factory:Wu.\u0275fac}),Wu),$u=((Gu=function(){function t(e,n,r,i){v(this,t),this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=r,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return g(t,[{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}},{key:"_applyKeyValueChanges",value:function(t){var e=this;t.forEachAddedItem((function(t){return e._toggleClass(t.key,t.currentValue)})),t.forEachChangedItem((function(t){return e._toggleClass(t.key,t.currentValue)})),t.forEachRemovedItem((function(t){t.previousValue&&e._toggleClass(t.key,!1)}))}},{key:"_applyIterableChanges",value:function(t){var e=this;t.forEachAddedItem((function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Pt(t.item));e._toggleClass(t.item,!0)})),t.forEachRemovedItem((function(t){return e._toggleClass(t.item,!1)}))}},{key:"_applyClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach((function(t){return e._toggleClass(t,!0)})):Object.keys(t).forEach((function(n){return e._toggleClass(n,!!t[n])})))}},{key:"_removeClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach((function(t){return e._toggleClass(t,!1)})):Object.keys(t).forEach((function(t){return e._toggleClass(t,!1)})))}},{key:"_toggleClass",value:function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach((function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)}))}},{key:"klass",set:function(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(xo(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}}]),t}()).\u0275fac=function(t){return new(t||Gu)(Lo(Zs),Lo(Xs),Lo(Ns),Lo(js))},Gu.\u0275dir=xe({type:Gu,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),Gu),Ju=function(){function t(e,n,r,i){v(this,t),this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}return g(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),tc=((Ku=function(){function t(e,n,r){v(this,t),this._viewContainer=e,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return g(t,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation((function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new Ju(null,e._ngForOf,-1,-1),null===i?void 0:i),s=new ec(t,o);n.push(s)}else if(null==i)e._viewContainer.remove(null===r?void 0:r);else if(null!==r){var a=e._viewContainer.get(r);e._viewContainer.move(a,i);var u=new ec(t,a);n.push(u)}}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var s=this._viewContainer.get(i);s.context.index=i,s.context.count=o,s.context.ngForOf=this._ngForOf}t.forEachIdentityChange((function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item}))}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}},{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(t){wr()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(t),". See https://angular.io/api/common/NgForOf#change-propagation for more information.")),this._trackByFn=t},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||Ku)(Lo(ra),Lo(ea),Lo(Zs))},Ku.\u0275dir=xe({type:Ku,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),Ku),ec=function t(e,n){v(this,t),this.record=e,this.view=n},nc=((Qu=function(){function t(e,n){v(this,t),this._viewContainer=e,this._context=new rc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return g(t,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){ic("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){ic("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||Qu)(Lo(ra),Lo(ea))},Qu.\u0275dir=xe({type:Qu,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),Qu),rc=function t(){v(this,t),this.$implicit=null,this.ngIf=null};function ic(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(Pt(e),"'."))}var oc,sc=((oc=function t(){v(this,t)}).\u0275mod=Oe({type:oc}),oc.\u0275inj=Et({factory:function(t){return new(t||oc)},providers:[{provide:Zu,useClass:Xu}]}),oc);function ac(t){return"server"===t}var uc,cc=((uc=function t(){v(this,t)}).\u0275prov=kt({token:uc,providedIn:"root",factory:function(){return new lc(se(ku),window,se(yr))}}),uc),lc=function(){function t(e,n,r){v(this,t),this.document=e,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return g(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){if(this.supportsScrolling()){var e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"supportScrollRestoration",value:function(){try{if(!this.window||!this.window.scrollTo)return!1;var t=hc(this.window.history)||hc(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(e){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window.scrollTo}catch(t){return!1}}}]),t}();function hc(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}var fc,dc,pc,vc,yc=function(t){u(i,t);var r=l(i);function i(){return v(this,i),r.apply(this,arguments)}return g(i,[{key:"getProperty",value:function(t,e){return t[e]}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"getValue",value:function(t){return t.value}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=gc||(gc=document.querySelector("base"))?gc.getAttribute("href"):null;return null==n?null:(e=n,fc||(fc=document.createElement("a")),fc.setAttribute("href",e),"/"===fc.pathname.charAt(0)?fc.pathname:"/"+fc.pathname)}},{key:"resetBaseElement",value:function(){gc=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return function(t,r){r=encodeURIComponent(r);var i,o=n(t.split(";"));try{for(o.s();!(i=o.n()).done;){var s=i.value,a=s.indexOf("="),u=e(-1==a?[s,""]:[s.slice(0,a),s.slice(a+1)],2),c=u[0],l=u[1];if(c.trim()===r)return decodeURIComponent(l)}}catch(h){o.e(h)}finally{o.f()}return null}(document.cookie,t)}}],[{key:"makeCurrent",value:function(){var t;t=new i,bu||(bu=t)}}]),i}(function(t){u(n,t);var e=l(n);function n(){return v(this,n),e.call(this)}return g(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function t(){v(this,t)}}())),gc=null,mc=new Xt("TRANSITION_ID"),bc=[{provide:ka,useFactory:function(t,e,n){return function(){n.get(Ea).donePromise.then((function(){var n=_u();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter((function(e){return e.getAttribute("ng-transition")===t})).forEach((function(t){return n.remove(t)}))}))}},deps:[mc,ku,bo],multi:!0}],_c=function(){function t(){v(this,t)}return g(t,[{key:"addToWindow",value:function(t){zt.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},zt.getAllAngularTestabilities=function(){return t.getAllTestabilities()},zt.getAllAngularRootElements=function(){return t.getAllRootElements()},zt.frameworkStabilizers||(zt.frameworkStabilizers=[]),zt.frameworkStabilizers.push((function(t){var e=zt.getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach((function(t){t.whenStable(i)}))}))}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?_u().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){var e;e=new t,tu=e}}]),t}(),wc=new Xt("EventManagerPlugins"),kc=((dc=function(){function t(e,n){var r=this;v(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach((function(t){return t.manager=r})),this._plugins=e.slice().reverse()}return g(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)}}]),t}()).\u0275fac=function(t){return new(t||dc)(se(wc),se(za))},dc.\u0275prov=kt({token:dc,factory:dc.\u0275fac}),dc),Ec=function(){function t(e){v(this,t),this._doc=e}return g(t,[{key:"addGlobalEventListener",value:function(t,e,n){var r=_u().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(e));return this.addEventListener(r,e,n)}}]),t}(),Sc=((vc=function(){function t(){v(this,t),this._stylesSet=new Set}return g(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach((function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}()).\u0275fac=function(t){return new(t||vc)},vc.\u0275prov=kt({token:vc,factory:vc.\u0275fac}),vc),Cc=((pc=function(t){u(n,t);var e=l(n);function n(t){var r;return v(this,n),(r=e.call(this))._doc=t,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(t.head),r}return g(n,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach((function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))}))}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach((function(n){return e._addStylesToHost(t,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(t){return _u().remove(t)}))}}]),n}(Sc)).\u0275fac=function(t){return new(t||pc)(se(ku))},pc.\u0275prov=kt({token:pc,factory:pc.\u0275fac}),pc),Ic={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Tc=/%COMP%/g;function Oc(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?Oc(t,i,n):(i=i.replace(Tc,t),n.push(i))}return n}function Ac(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var xc,Nc,Pc,Dc,Rc=((xc=function(){function t(e,n,r){v(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new jc(e)}return g(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case _e.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new Lc(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case _e.Native:case _e.ShadowDom:return new Mc(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=Oc(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||xc)(se(kc),se(Cc),se(Sa))},xc.\u0275prov=kt({token:xc,factory:xc.\u0275fac}),xc),jc=function(){function t(e){v(this,t),this.eventManager=e,this.data=Object.create(null)}return g(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(Ic[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,r){if(r){e=r+":"+e;var i=Ic[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var r=Ic[n];r?t.removeAttributeNS(r,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,r){r&Rs.DashCase?t.style.setProperty(e,n,r&Rs.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&Rs.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ac(n)):this.eventManager.addEventListener(t,e,Ac(n))}}]),t}(),Lc=function(t){u(n,t);var e=l(n);function n(t,r,i,o){var s;v(this,n),(s=e.call(this,t)).component=i;var a=Oc(o+"-"+i.id,i.styles,[]);return r.addStyles(a),s.contentAttr="_ngcontent-%COMP%".replace(Tc,o+"-"+i.id),s.hostAttr="_nghost-%COMP%".replace(Tc,o+"-"+i.id),s}return g(n,[{key:"applyToHost",value:function(t){a(p(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var r=a(p(n.prototype),"createElement",this).call(this,t,e);return a(p(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(jc),Mc=function(t){u(n,t);var e=l(n);function n(t,r,i,o){var s;v(this,n),(s=e.call(this,t)).sharedStylesHost=r,s.hostEl=i,s.component=o,s.shadowRoot=o.encapsulation===_e.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),s.sharedStylesHost.addHost(s.shadowRoot);for(var a=Oc(o.id,o.styles,[]),u=0;u<a.length;u++){var c=document.createElement("style");c.textContent=a[u],s.shadowRoot.appendChild(c)}return s}return g(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return a(p(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,r){return a(p(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,r)}},{key:"removeChild",value:function(t,e){return a(p(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(a(p(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(jc),Vc=((Nc=function(t){u(n,t);var e=l(n);function n(t){return v(this,n),e.call(this,t)}return g(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var r=this;return t.addEventListener(e,n,!1),function(){return r.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}(Ec)).\u0275fac=function(t){return new(t||Nc)(se(ku))},Nc.\u0275prov=kt({token:Nc,factory:Nc.\u0275fac}),Nc),Fc=["alt","control","meta","shift"],Uc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qc={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Bc={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},zc=((Pc=function(t){u(n,t);var e=l(n);function n(t){return v(this,n),e.call(this,t)}return g(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return _u().onAndCancel(t,i.domEventName,o)}))}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(Fc.forEach((function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")})),o+=i,0!=e.length||0===i.length)return null;var s={};return s.domEventName=r,s.fullKey=o,s}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&qc.hasOwnProperty(e)&&(e=qc[e]))}return Uc[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Fc.forEach((function(r){r!=n&&(0,Bc[r])(t)&&(e+=r+".")})),e+=n}},{key:"eventCallback",value:function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded((function(){return e(i)}))}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(Ec)).\u0275fac=function(t){return new(t||Pc)(se(ku))},Pc.\u0275prov=kt({token:Pc,factory:Pc.\u0275fac}),Pc),Hc=ru(vu,"browser",[{provide:Oa,useValue:"browser"},{provide:Ta,useValue:function(){yc.makeCurrent(),_c.init()},multi:!0},{provide:ku,useFactory:function(){return function(t){Ke=t}(document),document},deps:[]}]),Gc=[[],{provide:io,useValue:"root"},{provide:yr,useFactory:function(){return new yr},deps:[]},{provide:wc,useClass:Vc,multi:!0,deps:[ku,za,Oa]},{provide:wc,useClass:zc,multi:!0,deps:[ku]},[],{provide:Rc,useClass:Rc,deps:[kc,Cc,Sa]},{provide:Ds,useExisting:Rc},{provide:Sc,useExisting:Cc},{provide:Cc,useClass:Cc,deps:[ku]},{provide:$a,useClass:$a,deps:[za]},{provide:kc,useClass:kc,deps:[wc,za]},[]],Wc=((Dc=function(){function t(e){if(v(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return g(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:Sa,useValue:e.appId},{provide:mc,useExisting:Sa},bc]}}}]),t}()).\u0275mod=Oe({type:Dc}),Dc.\u0275inj=Et({factory:function(t){return new(t||Dc)(se(Dc,12))},providers:Gc,imports:[sc,gu]}),Dc);"undefined"!=typeof window&&window;var Kc=function t(){v(this,t)};function Qc(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:e,timings:t}}function Yc(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:t,options:e}}function Zc(t){return{type:6,styles:t,offset:null}}function Xc(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:11,selector:t,animation:e,options:n}}function $c(t){Promise.resolve(null).then(t)}var Jc=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;v(this,t),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=e+n}return g(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var t=this;$c((function(){return t._onFinish()}))}},{key:"_onStart",value:function(){this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(t){}},{key:"getPosition",value:function(){return 0}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}}]),t}(),tl=function(){function t(e){var n=this;v(this,t),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;var r=0,i=0,o=0,s=this.players.length;0==s?$c((function(){return n._onFinish()})):this.players.forEach((function(t){t.onDone((function(){++r==s&&n._onFinish()})),t.onDestroy((function(){++i==s&&n._onDestroy()})),t.onStart((function(){++o==s&&n._onStart()}))})),this.totalTime=this.players.reduce((function(t,e){return Math.max(t,e.totalTime)}),0)}return g(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach((function(t){return t.init()}))}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[])}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((function(t){return t.play()}))}},{key:"pause",value:function(){this.players.forEach((function(t){return t.pause()}))}},{key:"restart",value:function(){this.players.forEach((function(t){return t.restart()}))}},{key:"finish",value:function(){this._onFinish(),this.players.forEach((function(t){return t.finish()}))}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((function(t){return t.destroy()})),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach((function(t){return t.reset()})),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(t){var e=t*this.totalTime;this.players.forEach((function(t){var n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)}))}},{key:"getPosition",value:function(){var t=0;return this.players.forEach((function(e){var n=e.getPosition();t=Math.min(n,t)})),t}},{key:"beforeDestroy",value:function(){this.players.forEach((function(t){t.beforeDestroy&&t.beforeDestroy()}))}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}}]),t}();function el(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function nl(t){switch(t.length){case 0:return new Jc;case 1:return t[0];default:return new tl(t)}}function rl(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=[],a=[],u=-1,c=null;if(r.forEach((function(t){var n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach((function(n){var r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,s),a){case"!":a=i[n];break;case"*":a=o[n];break;default:a=e.normalizeStyleValue(n,r,a,s)}l[r]=a})),r||a.push(l),c=l,u=n})),s.length){var l="\n - ";throw new Error("Unable to animate due to the following errors:".concat(l).concat(s.join(l)))}return a}function il(t,e,n,r){switch(e){case"start":t.onStart((function(){return r(n&&ol(n,"start",t))}));break;case"done":t.onDone((function(){return r(n&&ol(n,"done",t))}));break;case"destroy":t.onDestroy((function(){return r(n&&ol(n,"destroy",t))}))}}function ol(t,e,n){var r=n.totalTime,i=sl(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function sl(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6?arguments[6]:void 0;return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function al(t,e,n){var r;return t instanceof Map?(r=t.get(e))||t.set(e,r=n):(r=t[e])||(r=t[e]=n),r}function ul(t){var e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}var cl=function(t,e){return!1},ll=function(t,e){return!1},hl=function(t,e,n){return[]},fl=el();(fl||"undefined"!=typeof Element)&&(cl=function(t,e){return t.contains(e)},ll=function(){if(fl||Element.prototype.matches)return function(t,e){return t.matches(e)};var t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?function(t,n){return e.apply(t,[n])}:ll}(),hl=function(t,e,n){var i=[];if(n)i.push.apply(i,r(t.querySelectorAll(e)));else{var o=t.querySelector(e);o&&i.push(o)}return i});var dl=null,pl=!1;function vl(t){dl||(dl=("undefined"!=typeof document?document.body:null)||{},pl=!!dl.style&&"WebkitAppearance"in dl.style);var e=!0;return dl.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(!(e=t in dl.style)&&pl)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in dl.style),e}var yl=ll,gl=cl,ml=hl;function bl(t){var e={};return Object.keys(t).forEach((function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]})),e}var _l,wl=((_l=function(){function t(){v(this,t)}return g(t,[{key:"validateStyleProperty",value:function(t){return vl(t)}},{key:"matchesElement",value:function(t,e){return yl(t,e)}},{key:"containsElement",value:function(t,e){return gl(t,e)}},{key:"query",value:function(t,e,n){return ml(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return n||""}},{key:"animate",value:function(t,e,n,r,i){return new Jc(n,r)}}]),t}()).\u0275fac=function(t){return new(t||_l)},_l.\u0275prov=kt({token:_l,factory:_l.\u0275fac}),_l),kl=function(){var t=function t(){v(this,t)};return t.NOOP=new wl,t}();function El(t){if("number"==typeof t)return t;var e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Sl(parseFloat(e[1]),e[2])}function Sl(t,e){switch(e){case"s":return 1e3*t;default:return t}}function Cl(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){var r,i=0,o="";if("string"==typeof t){var s=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===s)return e.push('The provided timing value "'.concat(t,'" is invalid.')),{duration:0,delay:0,easing:""};r=Sl(parseFloat(s[1]),s[2]);var a=s[3];null!=a&&(i=Sl(parseFloat(a),s[4]));var u=s[5];u&&(o=u)}else r=t;if(!n){var c=!1,l=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),c=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),c=!0),c&&e.splice(l,0,'The provided timing value "'.concat(t,'" is invalid.'))}return{duration:r,delay:i,easing:o}}(t,e,n)}function Il(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).forEach((function(n){e[n]=t[n]})),e}function Tl(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e)for(var r in t)n[r]=t[r];else Il(t,n);return n}function Ol(t,e,n){return n?e+":"+n+";":""}function Al(t){for(var e="",n=0;n<t.style.length;n++){var r=t.style.item(n);e+=Ol(0,r,t.style.getPropertyValue(r))}for(var i in t.style)t.style.hasOwnProperty(i)&&!i.startsWith("_")&&(e+=Ol(0,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[i]));t.setAttribute("style",e)}function xl(t,e,n){t.style&&(Object.keys(e).forEach((function(r){var i=Vl(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]})),el()&&Al(t))}function Nl(t,e){t.style&&(Object.keys(e).forEach((function(e){var n=Vl(e);t.style[n]=""})),el()&&Al(t))}function Pl(t){return Array.isArray(t)?1==t.length?t[0]:Yc(t):t}var Dl=new RegExp("{{\\s*(.+?)\\s*}}","g");function Rl(t){var e=[];if("string"==typeof t){for(var n;n=Dl.exec(t);)e.push(n[1]);Dl.lastIndex=0}return e}function jl(t,e,n){var r=t.toString(),i=r.replace(Dl,(function(t,r){var i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()}));return i==r?t:i}function Ll(t){for(var e=[],n=t.next();!n.done;)e.push(n.value),n=t.next();return e}var Ml=/-+([a-z0-9])/g;function Vl(t){return t.replace(Ml,(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e[1].toUpperCase()}))}function Fl(t,e){return 0===t||0===e}function Ul(t,e,n){var r=Object.keys(n);if(r.length&&e.length){var i=e[0],o=[];if(r.forEach((function(t){i.hasOwnProperty(t)||o.push(t),i[t]=n[t]})),o.length)for(var s=function(){var n=e[a];o.forEach((function(e){n[e]=Bl(t,e)}))},a=1;a<e.length;a++)s()}return e}function ql(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function Bl(t,e){return window.getComputedStyle(t)[e]}var zl=new Set(["true","1"]),Hl=new Set(["false","0"]);function Gl(t,e){var n=zl.has(t)||Hl.has(t),r=zl.has(e)||Hl.has(e);return function(i,o){var s="*"==t||t==i,a="*"==e||e==o;return!s&&n&&"boolean"==typeof i&&(s=i?zl.has(t):Hl.has(t)),!a&&r&&"boolean"==typeof o&&(a=o?zl.has(e):Hl.has(e)),s&&a}}var Wl=new RegExp("s*:selfs*,?","g");function Kl(t,e,n){return new Ql(t).build(e,n)}var Ql=function(){function t(e){v(this,t),this._driver=e}return g(t,[{key:"build",value:function(t,e){var n=new Yl(e);return this._resetContextStyleTimingState(n),ql(this,Pl(t),n)}},{key:"_resetContextStyleTimingState",value:function(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}},{key:"visitTrigger",value:function(t,e){var n=this,r=e.queryCount=0,i=e.depCount=0,o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach((function(t){if(n._resetContextStyleTimingState(e),0==t.type){var a=t,u=a.name;u.toString().split(/\s*,\s*/).forEach((function(t){a.name=t,o.push(n.visitState(a,e))})),a.name=u}else if(1==t.type){var c=n.visitTransition(t,e);r+=c.queryCount,i+=c.depCount,s.push(c)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")})),{type:7,name:t.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}},{key:"visitState",value:function(t,e){var n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){var i=new Set,o=r||{};if(n.styles.forEach((function(t){if(Zl(t)){var e=t;Object.keys(e).forEach((function(t){Rl(e[t]).forEach((function(t){o.hasOwnProperty(t)||i.add(t)}))}))}})),i.size){var s=Ll(i.values());e.errors.push('state("'.concat(t.name,'", ...) must define default values for all the following style substitutions: ').concat(s.join(", ")))}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}},{key:"visitTransition",value:function(t,e){e.queryCount=0,e.depCount=0;var n,r,i,o=ql(this,Pl(t.animation),e);return{type:1,matchers:(n=t.expr,r=e.errors,i=[],"string"==typeof n?n.split(/\s*,\s*/).forEach((function(t){return function(t,e,n){if(":"==t[0]){var r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(t,e){return parseFloat(e)>parseFloat(t)};case":decrement":return function(t,e){return parseFloat(e)<parseFloat(t)};default:return e.push('The transition alias value "'.concat(t,'" is not supported')),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}var i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'.concat(t,'" is not supported')),e;var o=i[1],s=i[2],a=i[3];e.push(Gl(o,a)),"<"!=s[0]||"*"==o&&"*"==a||e.push(Gl(a,o))}(t,i,r)})):i.push(n),i),animation:o,queryCount:e.queryCount,depCount:e.depCount,options:Xl(t.options)}}},{key:"visitSequence",value:function(t,e){var n=this;return{type:2,steps:t.steps.map((function(t){return ql(n,t,e)})),options:Xl(t.options)}}},{key:"visitGroup",value:function(t,e){var n=this,r=e.currentTime,i=0,o=t.steps.map((function(t){e.currentTime=r;var o=ql(n,t,e);return i=Math.max(i,e.currentTime),o}));return e.currentTime=i,{type:3,steps:o,options:Xl(t.options)}}},{key:"visitAnimate",value:function(t,e){var n,r=function(t,e){var n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return $l(Cl(t,e).duration,0,"");var r=t;if(r.split(/\s+/).some((function(t){return"{"==t.charAt(0)&&"{"==t.charAt(1)}))){var i=$l(0,0,"");return i.dynamic=!0,i.strValue=r,i}return $l((n=n||Cl(r,e)).duration,n.delay,n.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;var i=t.styles?t.styles:Zc({});if(5==i.type)n=this.visitKeyframes(i,e);else{var o=t.styles,s=!1;if(!o){s=!0;var a={};r.easing&&(a.easing=r.easing),o=Zc(a)}e.currentTime+=r.duration+r.delay;var u=this.visitStyle(o,e);u.isEmptyStep=s,n=u}return e.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}}},{key:"visitStyle",value:function(t,e){var n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}},{key:"_makeStyleAst",value:function(t,e){var n=[];Array.isArray(t.styles)?t.styles.forEach((function(t){"string"==typeof t?"*"==t?n.push(t):e.errors.push("The provided style string value ".concat(t," is not allowed.")):n.push(t)})):n.push(t.styles);var r=!1,i=null;return n.forEach((function(t){if(Zl(t)){var e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(var o in e)if(e[o].toString().indexOf("{{")>=0){r=!0;break}}})),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}},{key:"_validateStyleAst",value:function(t,e){var n=this,r=e.currentAnimateTimings,i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach((function(t){"string"!=typeof t&&Object.keys(t).forEach((function(r){if(n._driver.validateStyleProperty(r)){var s,a,u,c,l,h=e.collectedStyles[e.currentQuerySelector],f=h[r],d=!0;f&&(o!=i&&o>=f.startTime&&i<=f.endTime&&(e.errors.push('The CSS property "'.concat(r,'" that exists between the times of "').concat(f.startTime,'ms" and "').concat(f.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(i,'ms"')),d=!1),o=f.startTime),d&&(h[r]={startTime:o,endTime:i}),e.options&&(s=t[r],a=e.options,u=e.errors,c=a.params||{},(l=Rl(s)).length&&l.forEach((function(t){c.hasOwnProperty(t)||u.push("Unable to resolve the local animation param ".concat(t," in the given list of values"))})))}else e.errors.push('The provided animation property "'.concat(r,'" is not a supported CSS property for animations'))}))}))}},{key:"visitKeyframes",value:function(t,e){var n=this,r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,o=[],s=!1,a=!1,u=0,c=t.steps.map((function(t){var r=n._makeStyleAst(t,e),c=null!=r.offset?r.offset:function(t){if("string"==typeof t)return null;var e=null;if(Array.isArray(t))t.forEach((function(t){if(Zl(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}}));else if(Zl(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}return e}(r.styles),l=0;return null!=c&&(i++,l=r.offset=c),a=a||l<0||l>1,s=s||l<u,u=l,o.push(l),r}));a&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");var l=t.steps.length,h=0;i>0&&i<l?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(l-1));var f=l-1,d=e.currentTime,p=e.currentAnimateTimings,v=p.duration;return c.forEach((function(t,i){var s=h>0?i==f?1:h*i:o[i],a=s*v;e.currentTime=d+p.delay+a,p.duration=a,n._validateStyleAst(t,e),t.offset=s,r.styles.push(t)})),r}},{key:"visitReference",value:function(t,e){return{type:8,animation:ql(this,Pl(t.animation),e),options:Xl(t.options)}}},{key:"visitAnimateChild",value:function(t,e){return e.depCount++,{type:9,options:Xl(t.options)}}},{key:"visitAnimateRef",value:function(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Xl(t.options)}}},{key:"visitQuery",value:function(t,n){var r=n.currentQuerySelector,i=t.options||{};n.queryCount++,n.currentQuery=t;var o=e(function(t){var e=!!t.split(/\s*,\s*/).find((function(t){return":self"==t}));return e&&(t=t.replace(Wl,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,(function(t){return".ng-trigger-"+t.substr(1)})).replace(/:animating/g,".ng-animating"),e]}(t.selector),2),s=o[0],a=o[1];n.currentQuerySelector=r.length?r+" "+s:s,al(n.collectedStyles,n.currentQuerySelector,{});var u=ql(this,Pl(t.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:a,animation:u,originalSelector:t.selector,options:Xl(t.options)}}},{key:"visitStagger",value:function(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");var n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Cl(t.timings,e.errors,!0);return{type:12,animation:ql(this,Pl(t.animation),e),timings:n,options:null}}}]),t}(),Yl=function t(e){v(this,t),this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function Zl(t){return!Array.isArray(t)&&"object"==typeof t}function Xl(t){var e;return t?(t=Il(t)).params&&(t.params=(e=t.params)?Il(e):null):t={},t}function $l(t,e,n){return{duration:t,delay:e,easing:n}}function Jl(t,e,n,r,i,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var th=function(){function t(){v(this,t),this._map=new Map}return g(t,[{key:"consume",value:function(t){var e=this._map.get(t);return e?this._map.delete(t):e=[],e}},{key:"append",value:function(t,e){var n,i=this._map.get(t);i||this._map.set(t,i=[]),(n=i).push.apply(n,r(e))}},{key:"has",value:function(t){return this._map.has(t)}},{key:"clear",value:function(){this._map.clear()}}]),t}(),eh=new RegExp(":enter","g"),nh=new RegExp(":leave","g");function rh(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},a=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new ih).buildKeyframes(t,e,n,r,i,o,s,a,u,c)}var ih=function(){function t(){v(this,t)}return g(t,[{key:"buildKeyframes",value:function(t,e,n,r,i,o,s,a,u){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];u=u||new th;var l=new sh(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([o],null,l.errors,a),ql(this,n,l);var h=l.timelines.filter((function(t){return t.containsAnimation()}));if(h.length&&Object.keys(s).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([s],null,l.errors,a)}return h.length?h.map((function(t){return t.buildKeyframes()})):[Jl(e,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(t,e){}},{key:"visitState",value:function(t,e){}},{key:"visitTransition",value:function(t,e){}},{key:"visitAnimateChild",value:function(t,e){var n=e.subInstructions.consume(e.element);if(n){var r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}},{key:"visitAnimateRef",value:function(t,e){var n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}},{key:"_visitSubInstructions",value:function(t,e,n){var r=e.currentTimeline.currentTime,i=null!=n.duration?El(n.duration):null,o=null!=n.delay?El(n.delay):null;return 0!==i&&t.forEach((function(t){var n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)})),r}},{key:"visitReference",value:function(t,e){e.updateOptions(t.options,!0),ql(this,t.animation,e),e.previousNode=t}},{key:"visitSequence",value:function(t,e){var n=this,r=e.subContextCount,i=e,o=t.options;if(o&&(o.params||o.delay)&&((i=e.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=oh);var s=El(o.delay);i.delayNextStep(s)}t.steps.length&&(t.steps.forEach((function(t){return ql(n,t,i)})),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}},{key:"visitGroup",value:function(t,e){var n=this,r=[],i=e.currentTimeline.currentTime,o=t.options&&t.options.delay?El(t.options.delay):0;t.steps.forEach((function(s){var a=e.createSubContext(t.options);o&&a.delayNextStep(o),ql(n,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)})),r.forEach((function(t){return e.currentTimeline.mergeTimelineCollectedStyles(t)})),e.transformIntoNewTimeline(i),e.previousNode=t}},{key:"_visitTiming",value:function(t,e){if(t.dynamic){var n=t.strValue;return Cl(e.params?jl(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}},{key:"visitAnimate",value:function(t,e){var n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());var i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}},{key:"visitStyle",value:function(t,e){var n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}},{key:"visitKeyframes",value:function(t,e){var n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach((function(t){o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()})),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}},{key:"visitQuery",value:function(t,e){var n=this,r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?El(i.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=oh);var s=r,a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=a.length;var u=null;a.forEach((function(r,i){e.currentQueryIndex=i;var a=e.createSubContext(t.options,r);o&&a.delayNextStep(o),r===e.element&&(u=a.currentTimeline),ql(n,t.animation,a),a.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,a.currentTimeline.currentTime)})),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}},{key:"visitStagger",value:function(t,e){var n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),s=o*(e.currentQueryTotal-1),a=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}var u=e.currentTimeline;a&&u.delayNextStep(a);var c=u.currentTime;ql(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}]),t}(),oh={},sh=function(){function t(e,n,r,i,o,s,a,u){v(this,t),this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=oh,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new ah(this._driver,n,0),a.push(this.currentTimeline)}return g(t,[{key:"updateOptions",value:function(t,e){var n=this;if(t){var r=t,i=this.options;null!=r.duration&&(i.duration=El(r.duration)),null!=r.delay&&(i.delay=El(r.delay));var o=r.params;if(o){var s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach((function(t){e&&s.hasOwnProperty(t)||(s[t]=jl(o[t],s,n.errors))}))}}}},{key:"_copyOptions",value:function(){var t={};if(this.options){var e=this.options.params;if(e){var n=t.params={};Object.keys(e).forEach((function(t){n[t]=e[t]}))}}return t}},{key:"createSubContext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=n||this.element,o=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(t){return this.previousNode=oh,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(t,e,n){var r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new uh(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}},{key:"incrementTime",value:function(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}},{key:"delayNextStep",value:function(t){t>0&&this.currentTimeline.delayNextStep(t)}},{key:"invokeQuery",value:function(t,e,n,i,o,s){var a=[];if(i&&a.push(this.element),t.length>0){t=(t=t.replace(eh,"."+this._enterClassName)).replace(nh,"."+this._leaveClassName);var u=this._driver.query(this.element,t,1!=n);0!==n&&(u=n<0?u.slice(u.length+n,u.length):u.slice(0,n)),a.push.apply(a,r(u))}return o||0!=a.length||s.push('`query("'.concat(e,'")` returned zero elements. (Use `query("').concat(e,'", { optional: true })` if you wish to allow this.)')),a}},{key:"params",get:function(){return this.options.params}}]),t}(),ah=function(){function t(e,n,r,i){v(this,t),this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return g(t,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"delayNextStep",value:function(t){var e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}},{key:"fork",value:function(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}},{key:"_updateStyle",value:function(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(t){var e=this;t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach((function(t){e._backFill[t]=e._globalTimelineStyles[t]||"*",e._currentKeyframe[t]="*"})),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(t,e,n,r){var i=this;e&&(this._previousKeyframe.easing=e);var o=r&&r.params||{},s=function(t,e){var n,r={};return t.forEach((function(t){"*"===t?(n=n||Object.keys(e)).forEach((function(t){r[t]="*"})):Tl(t,!1,r)})),r}(t,this._globalTimelineStyles);Object.keys(s).forEach((function(t){var e=jl(s[t],o,n);i._pendingStyles[t]=e,i._localTimelineStyles.hasOwnProperty(t)||(i._backFill[t]=i._globalTimelineStyles.hasOwnProperty(t)?i._globalTimelineStyles[t]:"*"),i._updateStyle(t,e)}))}},{key:"applyStylesToKeyframe",value:function(){var t=this,e=this._pendingStyles,n=Object.keys(e);0!=n.length&&(this._pendingStyles={},n.forEach((function(n){t._currentKeyframe[n]=e[n]})),Object.keys(this._localTimelineStyles).forEach((function(e){t._currentKeyframe.hasOwnProperty(e)||(t._currentKeyframe[e]=t._localTimelineStyles[e])})))}},{key:"snapshotCurrentStyles",value:function(){var t=this;Object.keys(this._localTimelineStyles).forEach((function(e){var n=t._localTimelineStyles[e];t._pendingStyles[e]=n,t._updateStyle(e,n)}))}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"mergeTimelineCollectedStyles",value:function(t){var e=this;Object.keys(t._styleSummary).forEach((function(n){var r=e._styleSummary[n],i=t._styleSummary[n];(!r||i.time>r.time)&&e._updateStyle(n,i.value)}))}},{key:"buildKeyframes",value:function(){var t=this;this.applyStylesToKeyframe();var e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach((function(o,s){var a=Tl(o,!0);Object.keys(a).forEach((function(t){var r=a[t];"!"==r?e.add(t):"*"==r&&n.add(t)})),r||(a.offset=s/t.duration),i.push(a)}));var o=e.size?Ll(e.values()):[],s=n.size?Ll(n.values()):[];if(r){var a=i[0],u=Il(a);a.offset=0,u.offset=1,i=[a,u]}return Jl(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"properties",get:function(){var t=[];for(var e in this._currentKeyframe)t.push(e);return t}}]),t}(),uh=function(t){u(n,t);var e=l(n);function n(t,r,i,o,s,a){var u,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return v(this,n),(u=e.call(this,t,r,a.delay)).element=r,u.keyframes=i,u.preStyleProps=o,u.postStyleProps=s,u._stretchStartingKeyframe=c,u.timings={duration:a.duration,delay:a.delay,easing:a.easing},u}return g(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var t=this.keyframes,e=this.timings,n=e.delay,r=e.duration,i=e.easing;if(this._stretchStartingKeyframe&&n){var o=[],s=r+n,a=n/s,u=Tl(t[0],!1);u.offset=0,o.push(u);var c=Tl(t[0],!1);c.offset=ch(a),o.push(c);for(var l=t.length-1,h=1;h<=l;h++){var f=Tl(t[h],!1);f.offset=ch((n+f.offset*r)/s),o.push(f)}r=s,n=0,i="",t=o}return Jl(this.element,t,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}]),n}(ah);function ch(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,e-1);return Math.round(t*n)/n}var lh=function t(){v(this,t)},hh=function(t){u(n,t);var e=l(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"normalizePropertyName",value:function(t,e){return Vl(t)}},{key:"normalizeStyleValue",value:function(t,e,n,r){var i="",o=n.toString().trim();if(fh[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var s=n.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&0==s[1].length&&r.push("Please provide a CSS unit value for ".concat(t,":").concat(n))}return o+i}}]),n}(lh),fh=function(t){var e={};return t.forEach((function(t){return e[t]=!0})),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function dh(t,e,n,r,i,o,s,a,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}var ph={},vh=function(){function t(e,n,r){v(this,t),this._triggerName=e,this.ast=n,this._stateStyles=r}return g(t,[{key:"match",value:function(t,e,n,r){return function(t,e,n,r,i){return t.some((function(t){return t(e,n,r,i)}))}(this.ast.matchers,t,e,n,r)}},{key:"buildStyles",value:function(t,e,n){var r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}},{key:"build",value:function(t,e,n,r,i,o,s,a,u,c){var l=[],h=this.ast.options&&this.ast.options.params||ph,f=this.buildStyles(n,s&&s.params||ph,l),d=a&&a.params||ph,p=this.buildStyles(r,d,l),v=new Set,y=new Map,g=new Map,m="void"===r,b={params:Object.assign(Object.assign({},h),d)},_=c?[]:rh(t,e,this.ast.animation,i,o,f,p,b,u,l),w=0;if(_.forEach((function(t){w=Math.max(t.duration+t.delay,w)})),l.length)return dh(e,this._triggerName,n,r,m,f,p,[],[],y,g,w,l);_.forEach((function(t){var n=t.element,r=al(y,n,{});t.preStyleProps.forEach((function(t){return r[t]=!0}));var i=al(g,n,{});t.postStyleProps.forEach((function(t){return i[t]=!0})),n!==e&&v.add(n)}));var k=Ll(v.values());return dh(e,this._triggerName,n,r,m,f,p,_,k,y,g,w)}}]),t}(),yh=function(){function t(e,n){v(this,t),this.styles=e,this.defaultParams=n}return g(t,[{key:"buildStyles",value:function(t,e){var n={},r=Il(this.defaultParams);return Object.keys(t).forEach((function(e){var n=t[e];null!=n&&(r[e]=n)})),this.styles.styles.forEach((function(t){if("string"!=typeof t){var i=t;Object.keys(i).forEach((function(t){var o=i[t];o.length>1&&(o=jl(o,r,e)),n[t]=o}))}})),n}}]),t}(),gh=function(){function t(e,n){var r=this;v(this,t),this.name=e,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach((function(t){r.states[t.name]=new yh(t.style,t.options&&t.options.params||{})})),mh(this.states,"true","1"),mh(this.states,"false","0"),n.transitions.forEach((function(t){r.transitionFactories.push(new vh(e,t,r.states))})),this.fallbackTransition=new vh(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(t,e){return!0}],options:null,queryCount:0,depCount:0},this.states)}return g(t,[{key:"matchTransition",value:function(t,e,n,r){return this.transitionFactories.find((function(i){return i.match(t,e,n,r)}))||null}},{key:"matchStyles",value:function(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}},{key:"containsQueries",get:function(){return this.ast.queryCount>0}}]),t}();function mh(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}var bh=new th,_h=function(){function t(e,n,r){v(this,t),this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}return g(t,[{key:"register",value:function(t,e){var n=[],r=Kl(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}},{key:"_buildPlayer",value:function(t,e,n){var r=t.element,i=rl(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}},{key:"create",value:function(t,e){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],s=this._animations[t],a=new Map;if(s?(n=rh(this._driver,e,s,"ng-enter","ng-leave",{},{},i,bh,o)).forEach((function(t){var e=al(a,t.element,{});t.postStyleProps.forEach((function(t){return e[t]=null}))})):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: "+o.join("\n"));a.forEach((function(t,e){Object.keys(t).forEach((function(n){t[n]=r._driver.computeStyle(e,n,"*")}))}));var u=nl(n.map((function(t){var e=a.get(t.element);return r._buildPlayer(t,{},e)})));return this._playersById[t]=u,u.onDestroy((function(){return r.destroy(t)})),this.players.push(u),u}},{key:"destroy",value:function(t){var e=this._getPlayer(t);e.destroy(),delete this._playersById[t];var n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(t){var e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}},{key:"listen",value:function(t,e,n,r){var i=sl(e,"","","");return il(this._getPlayer(t),n,i,r),function(){}}},{key:"command",value:function(t,e,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}else this.create(t,e,r[0]||{});else this.register(t,r[0])}}]),t}(),wh=[],kh={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Eh={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Sh=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";v(this,t),this.namespaceId=n;var r,i=e&&e.hasOwnProperty("value");if(this.value=null!=(r=i?e.value:e)?r:null,i){var o=Il(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}return g(t,[{key:"absorbOptions",value:function(t){var e=t.params;if(e){var n=this.options.params;Object.keys(e).forEach((function(t){null==n[t]&&(n[t]=e[t])}))}}},{key:"params",get:function(){return this.options.params}}]),t}(),Ch=new Sh("void"),Ih=function(){function t(e,n,r){v(this,t),this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Dh(n,this._hostClassName)}return g(t,[{key:"listen",value:function(t,e,n,r){var i,o=this;if(!this._triggers.hasOwnProperty(e))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(e,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(e,'" because the provided event is undefined!'));if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(e,'" is not supported!'));var s=al(this._elementListeners,t,[]),a={name:e,phase:n,callback:r};s.push(a);var u=al(this._engine.statesByElement,t,{});return u.hasOwnProperty(e)||(Dh(t,"ng-trigger"),Dh(t,"ng-trigger-"+e),u[e]=Ch),function(){o._engine.afterFlush((function(){var t=s.indexOf(a);t>=0&&s.splice(t,1),o._triggers[e]||delete u[e]}))}}},{key:"register",value:function(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}},{key:"_getTrigger",value:function(t){var e=this._triggers[t];if(!e)throw new Error('The provided animation trigger "'.concat(t,'" has not been registered!'));return e}},{key:"trigger",value:function(t,e,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(e),s=new Oh(this.id,e,t),a=this._engine.statesByElement.get(t);a||(Dh(t,"ng-trigger"),Dh(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,a={}));var u=a[e],c=new Sh(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),a[e]=c,u||(u=Ch),"void"===c.value||u.value!==c.value){var l=al(this._engine.playersByElement,t,[]);l.forEach((function(t){t.namespaceId==r.id&&t.triggerName==e&&t.queued&&t.destroy()}));var h=o.matchTransition(u.value,c.value,t,c.params),f=!1;if(!h){if(!i)return;h=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:h,fromState:u,toState:c,player:s,isFallbackTransition:f}),f||(Dh(t,"ng-animate-queued"),s.onStart((function(){Rh(t,"ng-animate-queued")}))),s.onDone((function(){var e=r.players.indexOf(s);e>=0&&r.players.splice(e,1);var n=r._engine.playersByElement.get(t);if(n){var i=n.indexOf(s);i>=0&&n.splice(i,1)}})),this.players.push(s),l.push(s),s}if(!function(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(u.params,c.params)){var d=[],p=o.matchStyles(u.value,u.params,d),v=o.matchStyles(c.value,c.params,d);d.length?this._engine.reportError(d):this._engine.afterFlush((function(){Nl(t,p),xl(t,v)}))}}},{key:"deregister",value:function(t){var e=this;delete this._triggers[t],this._engine.statesByElement.forEach((function(e,n){delete e[t]})),this._elementListeners.forEach((function(n,r){e._elementListeners.set(r,n.filter((function(e){return e.name!=t})))}))}},{key:"clearElementCache",value:function(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);var e=this._engine.playersByElement.get(t);e&&(e.forEach((function(t){return t.destroy()})),this._engine.playersByElement.delete(t))}},{key:"_signalRemovalForInnerTriggers",value:function(t,e){var n=this,r=this._engine.driver.query(t,".ng-trigger",!0);r.forEach((function(t){if(!t.__ng_removed){var r=n._engine.fetchNamespacesByElement(t);r.size?r.forEach((function(n){return n.triggerLeaveAnimation(t,e,!1,!0)})):n.clearElementCache(t)}})),this._engine.afterFlushAnimationsDone((function(){return r.forEach((function(t){return n.clearElementCache(t)}))}))}},{key:"triggerLeaveAnimation",value:function(t,e,n,r){var i=this,o=this._engine.statesByElement.get(t);if(o){var s=[];if(Object.keys(o).forEach((function(e){if(i._triggers[e]){var n=i.trigger(t,e,"void",r);n&&s.push(n)}})),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&nl(s).onDone((function(){return i._engine.processLeaveNode(t)})),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(t){var e=this,n=this._elementListeners.get(t);if(n){var r=new Set;n.forEach((function(n){var i=n.name;if(!r.has(i)){r.add(i);var o=e._triggers[i].fallbackTransition,s=e._engine.statesByElement.get(t)[i]||Ch,a=new Sh("void"),u=new Oh(e.id,i,t);e._engine.totalQueuedPlayers++,e._queue.push({element:t,triggerName:i,transition:o,fromState:s,toState:a,player:u,isFallbackTransition:!0})}}))}}},{key:"removeNode",value:function(t,e){var n=this,r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),!this.triggerLeaveAnimation(t,e,!0)){var i=!1;if(r.totalAnimations){var o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else for(var s=t;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,e);else{var a=t.__ng_removed;a&&a!==kh||(r.afterFlush((function(){return n.clearElementCache(t)})),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}}},{key:"insertNode",value:function(t,e){Dh(t,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(t){var e=this,n=[];return this._queue.forEach((function(r){var i=r.player;if(!i.destroyed){var o=r.element,s=e._elementListeners.get(o);s&&s.forEach((function(e){if(e.name==r.triggerName){var n=sl(o,r.triggerName,r.fromState.value,r.toState.value);n._data=t,il(r.player,e.phase,n,e.callback)}})),i.markedForDestroy?e._engine.afterFlush((function(){i.destroy()})):n.push(r)}})),this._queue=[],n.sort((function(t,n){var r=t.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:e._engine.driver.containsElement(t.element,n.element)?1:-1}))}},{key:"destroy",value:function(t){this.players.forEach((function(t){return t.destroy()})),this._signalRemovalForInnerTriggers(this.hostElement,t)}},{key:"elementContainsData",value:function(t){var e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find((function(e){return e.element===t}))||e}}]),t}(),Th=function(){function t(e,n,r){v(this,t),this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(t,e){}}return g(t,[{key:"_onRemovalComplete",value:function(t,e){this.onRemovalComplete(t,e)}},{key:"createNamespace",value:function(t,e){var n=new Ih(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}},{key:"_balanceNamespaceList",value:function(t,e){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}},{key:"register",value:function(t,e){var n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}},{key:"registerTrigger",value:function(t,e,n){var r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}},{key:"destroy",value:function(t,e){var n=this;if(t){var r=this._fetchNamespace(t);this.afterFlush((function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[t];var e=n._namespaceList.indexOf(r);e>=0&&n._namespaceList.splice(e,1)})),this.afterFlushAnimationsDone((function(){return r.destroy(e)}))}}},{key:"_fetchNamespace",value:function(t){return this._namespaceLookup[t]}},{key:"fetchNamespacesByElement",value:function(t){var e=new Set,n=this.statesByElement.get(t);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=n[r[i]].namespaceId;if(o){var s=this._fetchNamespace(o);s&&e.add(s)}}return e}},{key:"trigger",value:function(t,e,n,r){if(Ah(e)){var i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}},{key:"insertNode",value:function(t,e,n,r){if(Ah(e)){var i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){var s=this._fetchNamespace(t);s&&s.insertNode(e,n)}r&&this.collectEnterElement(e)}}},{key:"collectEnterElement",value:function(t){this.collectedEnterElements.push(t)}},{key:"markElementAsDisabled",value:function(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Dh(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Rh(t,"ng-animate-disabled"))}},{key:"removeNode",value:function(t,e,n,r){if(Ah(e)){var i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){var o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,r)}}else this._onRemovalComplete(e,r)}},{key:"markElementAsRemoved",value:function(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(t,e,n,r,i){return Ah(e)?this._fetchNamespace(t).listen(e,n,r,i):function(){}}},{key:"_buildInstruction",value:function(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}},{key:"destroyInnerAnimations",value:function(t){var e=this,n=this.driver.query(t,".ng-trigger",!0);n.forEach((function(t){return e.destroyActiveAnimationsForElement(t)})),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,".ng-animating",!0)).forEach((function(t){return e.finishActiveQueriedAnimationOnElement(t)}))}},{key:"destroyActiveAnimationsForElement",value:function(t){var e=this.playersByElement.get(t);e&&e.forEach((function(t){t.queued?t.markedForDestroy=!0:t.destroy()}))}},{key:"finishActiveQueriedAnimationOnElement",value:function(t){var e=this.playersByQueriedElement.get(t);e&&e.forEach((function(t){return t.finish()}))}},{key:"whenRenderingDone",value:function(){var t=this;return new Promise((function(e){if(t.players.length)return nl(t.players).onDone((function(){return e()}));e()}))}},{key:"processLeaveNode",value:function(t){var e=this,n=t.__ng_removed;if(n&&n.setForRemoval){if(t.__ng_removed=kh,n.namespaceId){this.destroyInnerAnimations(t);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach((function(t){e.markElementAsDisabled(t,!1)}))}},{key:"flush",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((function(e,n){return t._balanceNamespaceList(e,n)})),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)Dh(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,e)}finally{for(var o=0;o<i.length;o++)i[o]()}}else for(var s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((function(t){return t()})),this._flushFns=[],this._whenQuietFns.length){var a=this._whenQuietFns;this._whenQuietFns=[],n.length?nl(n).onDone((function(){a.forEach((function(t){return t()}))})):a.forEach((function(t){return t()}))}}},{key:"reportError",value:function(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}},{key:"_flushAnimations",value:function(t,e){var n=this,i=new th,o=[],s=new Map,a=[],u=new Map,c=new Map,l=new Map,h=new Set;this.disabledNodes.forEach((function(t){h.add(t);for(var e=n.driver.query(t,".ng-animate-queued",!0),r=0;r<e.length;r++)h.add(e[r])}));var f=this.bodyNode,d=Array.from(this.statesByElement.keys()),p=Ph(d,this.collectedEnterElements),v=new Map,y=0;p.forEach((function(t,e){var n="ng-enter"+y++;v.set(e,n),t.forEach((function(t){return Dh(t,n)}))}));for(var g=[],m=new Set,b=new Set,_=0;_<this.collectedLeaveElements.length;_++){var w=this.collectedLeaveElements[_],k=w.__ng_removed;k&&k.setForRemoval&&(g.push(w),m.add(w),k.hasAnimation?this.driver.query(w,".ng-star-inserted",!0).forEach((function(t){return m.add(t)})):b.add(w))}var E=new Map,S=Ph(d,Array.from(m));S.forEach((function(t,e){var n="ng-leave"+y++;E.set(e,n),t.forEach((function(t){return Dh(t,n)}))})),t.push((function(){p.forEach((function(t,e){var n=v.get(e);t.forEach((function(t){return Rh(t,n)}))})),S.forEach((function(t,e){var n=E.get(e);t.forEach((function(t){return Rh(t,n)}))})),g.forEach((function(t){n.processLeaveNode(t)}))}));for(var C=[],I=[],T=this._namespaceList.length-1;T>=0;T--)this._namespaceList[T].drainQueuedTransitions(e).forEach((function(t){var e=t.player,r=t.element;if(C.push(e),n.collectedEnterElements.length){var s=r.__ng_removed;if(s&&s.setForMove)return void e.destroy()}var h=!f||!n.driver.containsElement(f,r),d=E.get(r),p=v.get(r),y=n._buildInstruction(t,i,p,d,h);if(y.errors&&y.errors.length)I.push(y);else{if(h)return e.onStart((function(){return Nl(r,y.fromStyles)})),e.onDestroy((function(){return xl(r,y.toStyles)})),void o.push(e);if(t.isFallbackTransition)return e.onStart((function(){return Nl(r,y.fromStyles)})),e.onDestroy((function(){return xl(r,y.toStyles)})),void o.push(e);y.timelines.forEach((function(t){return t.stretchStartingKeyframe=!0})),i.append(r,y.timelines),a.push({instruction:y,player:e,element:r}),y.queriedElements.forEach((function(t){return al(u,t,[]).push(e)})),y.preStyleProps.forEach((function(t,e){var n=Object.keys(t);if(n.length){var r=c.get(e);r||c.set(e,r=new Set),n.forEach((function(t){return r.add(t)}))}})),y.postStyleProps.forEach((function(t,e){var n=Object.keys(t),r=l.get(e);r||l.set(e,r=new Set),n.forEach((function(t){return r.add(t)}))}))}}));if(I.length){var O=[];I.forEach((function(t){O.push("@".concat(t.triggerName," has failed due to:\n")),t.errors.forEach((function(t){return O.push("- ".concat(t,"\n"))}))})),C.forEach((function(t){return t.destroy()})),this.reportError(O)}var A=new Map,x=new Map;a.forEach((function(t){var e=t.element;i.has(e)&&(x.set(e,e),n._beforeAnimationBuild(t.player.namespaceId,t.instruction,A))})),o.forEach((function(t){var e=t.element;n._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach((function(t){al(A,e,[]).push(t),t.destroy()}))}));var N=g.filter((function(t){return Lh(t,c,l)})),P=new Map;Nh(P,this.driver,b,l,"*").forEach((function(t){Lh(t,c,l)&&N.push(t)}));var D=new Map;p.forEach((function(t,e){Nh(D,n.driver,new Set(t),c,"!")})),N.forEach((function(t){var e=P.get(t),n=D.get(t);P.set(t,Object.assign(Object.assign({},e),n))}));var R=[],j=[],L={};a.forEach((function(t){var e=t.element,r=t.player,a=t.instruction;if(i.has(e)){if(h.has(e))return r.onDestroy((function(){return xl(e,a.toStyles)})),r.disabled=!0,r.overrideTotalTime(a.totalTime),void o.push(r);var u=L;if(x.size>1){for(var c=e,l=[];c=c.parentNode;){var f=x.get(c);if(f){u=f;break}l.push(c)}l.forEach((function(t){return x.set(t,u)}))}var d=n._buildAnimation(r.namespaceId,a,A,s,D,P);if(r.setRealPlayer(d),u===L)R.push(r);else{var p=n.playersByElement.get(u);p&&p.length&&(r.parentPlayer=nl(p)),o.push(r)}}else Nl(e,a.fromStyles),r.onDestroy((function(){return xl(e,a.toStyles)})),j.push(r),h.has(e)&&o.push(r)})),j.forEach((function(t){var e=s.get(t.element);if(e&&e.length){var n=nl(e);t.setRealPlayer(n)}})),o.forEach((function(t){t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()}));for(var M=0;M<g.length;M++){var V=g[M],F=V.__ng_removed;if(Rh(V,"ng-leave"),!F||!F.hasAnimation){var U=[];if(u.size){var q=u.get(V);q&&q.length&&U.push.apply(U,r(q));for(var B=this.driver.query(V,".ng-animating",!0),z=0;z<B.length;z++){var H=u.get(B[z]);H&&H.length&&U.push.apply(U,r(H))}}var G=U.filter((function(t){return!t.destroyed}));G.length?jh(this,V,G):this.processLeaveNode(V)}}return g.length=0,R.forEach((function(t){n.players.push(t),t.onDone((function(){t.destroy();var e=n.players.indexOf(t);n.players.splice(e,1)})),t.play()})),R}},{key:"elementContainsData",value:function(t,e){var n=!1,r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}},{key:"afterFlush",value:function(t){this._flushFns.push(t)}},{key:"afterFlushAnimationsDone",value:function(t){this._whenQuietFns.push(t)}},{key:"_getPreviousPlayers",value:function(t,e,n,r,i){var o=[];if(e){var s=this.playersByQueriedElement.get(t);s&&(o=s)}else{var a=this.playersByElement.get(t);if(a){var u=!i||"void"==i;a.forEach((function(t){t.queued||(u||t.triggerName==r)&&o.push(t)}))}}return(n||r)&&(o=o.filter((function(t){return!(n&&n!=t.namespaceId||r&&r!=t.triggerName)}))),o}},{key:"_beforeAnimationBuild",value:function(t,e,r){var i,o=this,s=e.element,a=e.isRemovalTransition?void 0:t,u=e.isRemovalTransition?void 0:e.triggerName,c=n(e.timelines);try{var l=function(){var t=i.value.element,n=t!==s,c=al(r,t,[]);o._getPreviousPlayers(t,n,a,u,e.toState).forEach((function(t){var e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)}))};for(c.s();!(i=c.n()).done;)l()}catch(h){c.e(h)}finally{c.f()}Nl(s,e.fromStyles)}},{key:"_buildAnimation",value:function(t,e,n,r,i,o){var s=this,a=e.triggerName,u=e.element,c=[],l=new Set,h=new Set,f=e.timelines.map((function(e){var f=e.element;l.add(f);var d=f.__ng_removed;if(d&&d.removedBeforeQueried)return new Jc(e.duration,e.delay);var p,v,y=f!==u,g=(p=(n.get(f)||wh).map((function(t){return t.getRealPlayer()})),v=[],function t(e,n){for(var r=0;r<e.length;r++){var i=e[r];i instanceof tl?t(i.players,n):n.push(i)}}(p,v),v).filter((function(t){return!!t.element&&t.element===f})),m=i.get(f),b=o.get(f),_=rl(0,s._normalizer,0,e.keyframes,m,b),w=s._buildPlayer(e,_,g);if(e.subTimeline&&r&&h.add(f),y){var k=new Oh(t,a,f);k.setRealPlayer(w),c.push(k)}return w}));c.forEach((function(t){al(s.playersByQueriedElement,t.element,[]).push(t),t.onDone((function(){return function(t,e,n){var r;if(t instanceof Map){if(r=t.get(e)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}}else if(r=t[e]){if(r.length){var o=r.indexOf(n);r.splice(o,1)}0==r.length&&delete t[e]}return r}(s.playersByQueriedElement,t.element,t)}))})),l.forEach((function(t){return Dh(t,"ng-animating")}));var d=nl(f);return d.onDestroy((function(){l.forEach((function(t){return Rh(t,"ng-animating")})),xl(u,e.toStyles)})),h.forEach((function(t){al(r,t,[]).push(d)})),d}},{key:"_buildPlayer",value:function(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Jc(t.duration,t.delay)}},{key:"queuedPlayers",get:function(){var t=[];return this._namespaceList.forEach((function(e){e.players.forEach((function(e){e.queued&&t.push(e)}))})),t}}]),t}(),Oh=function(){function t(e,n,r){v(this,t),this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new Jc,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return g(t,[{key:"setRealPlayer",value:function(t){var e=this;this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach((function(n){e._queuedCallbacks[n].forEach((function(e){return il(t,n,void 0,e)}))})),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(t){this.totalTime=t}},{key:"syncPlayerEvents",value:function(t){var e=this,n=this._player;n.triggerCallback&&t.onStart((function(){return n.triggerCallback("start")})),t.onDone((function(){return e.finish()})),t.onDestroy((function(){return e.destroy()}))}},{key:"_queueEvent",value:function(t,e){al(this._queuedCallbacks,t,[]).push(e)}},{key:"onDone",value:function(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}},{key:"onStart",value:function(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}},{key:"onDestroy",value:function(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(t){this.queued||this._player.setPosition(t)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(t){var e=this._player;e.triggerCallback&&e.triggerCallback(t)}}]),t}();function Ah(t){return t&&1===t.nodeType}function xh(t,e){var n=t.style.display;return t.style.display=null!=e?e:"none",n}function Nh(t,e,n,r,i){var o=[];n.forEach((function(t){return o.push(xh(t))}));var s=[];r.forEach((function(n,r){var o={};n.forEach((function(t){var n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=Eh,s.push(r))})),t.set(r,o)}));var a=0;return n.forEach((function(t){return xh(t,o[a++])})),s}function Ph(t,e){var n=new Map;if(t.forEach((function(t){return n.set(t,[])})),0==e.length)return n;var r=new Set(e),i=new Map;return e.forEach((function(t){var e=function t(e){if(!e)return 1;var o=i.get(e);if(o)return o;var s=e.parentNode;return o=n.has(s)?s:r.has(s)?1:t(s),i.set(e,o),o}(t);1!==e&&n.get(e).push(t)})),n}function Dh(t,e){if(t.classList)t.classList.add(e);else{var n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Rh(t,e){if(t.classList)t.classList.remove(e);else{var n=t.$$classes;n&&delete n[e]}}function jh(t,e,n){nl(n).onDone((function(){return t.processLeaveNode(e)}))}function Lh(t,e,n){var r=n.get(t);if(!r)return!1;var i=e.get(t);return i?r.forEach((function(t){return i.add(t)})):e.set(t,r),n.delete(t),!0}var Mh=function(){function t(e,n,r){var i=this;v(this,t),this.bodyNode=e,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(t,e){},this._transitionEngine=new Th(e,n,r),this._timelineEngine=new _h(e,n,r),this._transitionEngine.onRemovalComplete=function(t,e){return i.onRemovalComplete(t,e)}}return g(t,[{key:"registerTrigger",value:function(t,e,n,r,i){var o=t+"-"+r,s=this._triggerCache[o];if(!s){var a=[],u=Kl(this._driver,i,a);if(a.length)throw new Error('The animation trigger "'.concat(r,'" has failed to build due to the following errors:\n - ').concat(a.join("\n - ")));s=function(t,e){return new gh(t,e)}(r,u),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,r,s)}},{key:"register",value:function(t,e){this._transitionEngine.register(t,e)}},{key:"destroy",value:function(t,e){this._transitionEngine.destroy(t,e)}},{key:"onInsert",value:function(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}},{key:"onRemove",value:function(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}},{key:"disableAnimations",value:function(t,e){this._transitionEngine.markElementAsDisabled(t,e)}},{key:"process",value:function(t,n,r,i){if("@"==r.charAt(0)){var o=e(ul(r),2),s=o[0],a=o[1];this._timelineEngine.command(s,n,a,i)}else this._transitionEngine.trigger(t,n,r,i)}},{key:"listen",value:function(t,n,r,i,o){if("@"==r.charAt(0)){var s=e(ul(r),2),a=s[0],u=s[1];return this._timelineEngine.listen(a,n,u,o)}return this._transitionEngine.listen(t,n,r,i,o)}},{key:"flush",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(t)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}}]),t}();function Vh(t,e){var n=null,r=null;return Array.isArray(e)&&e.length?(n=Uh(e[0]),e.length>1&&(r=Uh(e[e.length-1]))):e&&(n=Uh(e)),n||r?new Fh(t,n,r):null}var Fh=function(){var t=function(){function t(e,n,r){v(this,t),this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;var i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}return g(t,[{key:"start",value:function(){this._state<1&&(this._startStyles&&xl(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(xl(this._element,this._initialStyles),this._endStyles&&(xl(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Nl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Nl(this._element,this._endStyles),this._endStyles=null),xl(this._element,this._initialStyles),this._state=3)}}]),t}();return t.initialStylesByElement=new WeakMap,t}();function Uh(t){for(var e=null,n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];qh(i)&&((e=e||{})[i]=t[i])}return e}function qh(t){return"display"===t||"position"===t}var Bh=function(){function t(e,n,r,i,o,s,a){var u=this;v(this,t),this._element=e,this._name=n,this._duration=r,this._delay=i,this._easing=o,this._fillMode=s,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(t){return u._handleCallback(t)}}return g(t,[{key:"apply",value:function(){var t,e,n;t=this._element,e="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=Qh(t,"").trim()).length&&(function(t,e){for(var n=0;n<t.length;n++)t.charAt(n)}(n),e="".concat(n,", ").concat(e)),Kh(t,"",e),Wh(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){zh(this._element,this._name,"paused")}},{key:"resume",value:function(){zh(this._element,this._name,"running")}},{key:"setPosition",value:function(t){var e=Hh(this._element,this._name);this._position=t*this._duration,Kh(this._element,"Delay","-".concat(this._position,"ms"),e)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(t){var e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),Wh(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){var n=Qh(t,"").split(","),r=Gh(n,e);r>=0&&(n.splice(r,1),Kh(t,"",n.join(",")))}(this._element,this._name))}}]),t}();function zh(t,e,n){Kh(t,"PlayState",n,Hh(t,e))}function Hh(t,e){var n=Qh(t,"");return n.indexOf(",")>0?Gh(n.split(","),e):Gh([n],e)}function Gh(t,e){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Wh(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function Kh(t,e,n,r){var i="animation"+e;if(null!=r){var o=t.style[i];if(o.length){var s=o.split(",");s[r]=n,n=s.join(",")}}t.style[i]=n}function Qh(t,e){return t.style["animation"+e]}var Yh=function(){function t(e,n,r,i,o,s,a,u){v(this,t),this.element=e,this.keyframes=n,this.animationName=r,this._duration=i,this._delay=o,this._finalStyles=a,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=i+o,this._buildStyler()}return g(t,[{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(t){this._styler.setPosition(t)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var t=this;this._styler=new Bh(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",(function(){return t.finish()}))}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}},{key:"beforeDestroy",value:function(){var t=this;this.init();var e={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach((function(r){"offset"!=r&&(e[r]=n?t._finalStyles[r]:Bl(t.element,r))}))}this.currentSnapshot=e}}]),t}(),Zh=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this)).element=t,i._startingStyles={},i.__initialized=!1,i._styles=bl(r),i}return g(n,[{key:"init",value:function(){var t=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach((function(e){t._startingStyles[e]=t.element.style[e]})),a(p(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var t=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach((function(e){return t.element.style.setProperty(e,t._styles[e])})),a(p(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var t=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach((function(e){var n=t._startingStyles[e];n?t.element.style.setProperty(e,n):t.element.style.removeProperty(e)})),this._startingStyles=null,a(p(n.prototype),"destroy",this).call(this))}}]),n}(Jc),Xh=function(){function t(){v(this,t),this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return g(t,[{key:"validateStyleProperty",value:function(t){return vl(t)}},{key:"matchesElement",value:function(t,e){return yl(t,e)}},{key:"containsElement",value:function(t,e){return gl(t,e)}},{key:"query",value:function(t,e,n){return ml(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"buildKeyframeElement",value:function(t,e,n){n=n.map((function(t){return bl(t)}));var r="@keyframes ".concat(e," {\n"),i="";n.forEach((function(t){i=" ";var e=parseFloat(t.offset);r+="".concat(i).concat(100*e,"% {\n"),i+=" ",Object.keys(t).forEach((function(e){var n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+="".concat(i,"animation-timing-function: ").concat(n,";\n")));default:return void(r+="".concat(i).concat(e,": ").concat(n,";\n"))}})),r+=i+"}\n"})),r+="}\n";var o=document.createElement("style");return o.textContent=r,o}},{key:"animate",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=arguments.length>6?arguments[6]:void 0;s&&this._notifyFaultyScrubber();var a=o.filter((function(t){return t instanceof Yh})),u={};Fl(n,r)&&a.forEach((function(t){var e=t.currentSnapshot;Object.keys(e).forEach((function(t){return u[t]=e[t]}))}));var c=function(t){var e={};return t&&(Array.isArray(t)?t:[t]).forEach((function(t){Object.keys(t).forEach((function(n){"offset"!=n&&"easing"!=n&&(e[n]=t[n])}))})),e}(e=Ul(t,e,u));if(0==n)return new Zh(t,c);var l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);var f=Vh(t,e),d=new Yh(t,e,l,n,r,i,c,f);return d.onDestroy((function(){var t;(t=h).parentNode.removeChild(t)})),d}},{key:"_notifyFaultyScrubber",value:function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}]),t}(),$h=function(){function t(e,n,r,i){v(this,t),this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}return g(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var t=this;if(!this._initialized){this._initialized=!0;var e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",(function(){return t._onFinish()}))}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(t,e,n){return t.animate(e,n)}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"setPosition",value:function(t){this.domPlayer.currentTime=t*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"beforeDestroy",value:function(){var t=this,e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach((function(n){"offset"!=n&&(e[n]=t._finished?t._finalKeyframe[n]:Bl(t.element,n))})),this.currentSnapshot=e}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}},{key:"totalTime",get:function(){return this._delay+this._duration}}]),t}(),Jh=function(){function t(){v(this,t),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(tf().toString()),this._cssKeyframesDriver=new Xh}return g(t,[{key:"validateStyleProperty",value:function(t){return vl(t)}},{key:"matchesElement",value:function(t,e){return yl(t,e)}},{key:"containsElement",value:function(t,e){return gl(t,e)}},{key:"query",value:function(t,e,n){return ml(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"overrideWebAnimationsSupport",value:function(t){this._isNativeImpl=t}},{key:"animate",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=arguments.length>6?arguments[6]:void 0;if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);var a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);var u={},c=o.filter((function(t){return t instanceof $h}));Fl(n,r)&&c.forEach((function(t){var e=t.currentSnapshot;Object.keys(e).forEach((function(t){return u[t]=e[t]}))}));var l=Vh(t,e=Ul(t,e=e.map((function(t){return Tl(t,!1)})),u));return new $h(t,e,a,l)}}]),t}();function tf(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var ef,nf=((ef=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this))._nextAnimationId=0,i._renderer=t.createRenderer(r.body,{id:"0",encapsulation:_e.None,styles:[],data:{animation:[]}}),i}return g(n,[{key:"build",value:function(t){var e=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(t)?Yc(t):t;return sf(this._renderer,null,e,"register",[n]),new rf(e,this._renderer)}}]),n}(Kc)).\u0275fac=function(t){return new(t||ef)(se(Ds),se(ku))},ef.\u0275prov=kt({token:ef,factory:ef.\u0275fac}),ef),rf=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this))._id=t,i._renderer=r,i}return g(n,[{key:"create",value:function(t,e){return new of(this._id,t,e||{},this._renderer)}}]),n}(function(){return function t(){v(this,t)}}()),of=function(){function t(e,n,r,i){v(this,t),this.id=e,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}return g(t,[{key:"_listen",value:function(t,e){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(t),e)}},{key:"_command",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return sf(this._renderer,this.element,this.id,t,n)}},{key:"onDone",value:function(t){this._listen("done",t)}},{key:"onStart",value:function(t){this._listen("start",t)}},{key:"onDestroy",value:function(t){this._listen("destroy",t)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(t){this._command("setPosition",t)}},{key:"getPosition",value:function(){return 0}}]),t}();function sf(t,e,n,r,i){return t.setProperty(e,"@@".concat(n,":").concat(r),i)}var af,uf,cf,lf=((af=function(){function t(e,n,r){v(this,t),this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(t,e){e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}return g(t,[{key:"createRenderer",value:function(t,e){var n=this,r=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){var i=this._rendererCache.get(r);return i||(i=new hf("",r,this.engine),this._rendererCache.set(r,i)),i}var o=e.id,s=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(s,t),e.data.animation.forEach((function e(r){Array.isArray(r)?r.forEach(e):n.engine.registerTrigger(o,s,t,r.name,r)})),new ff(this,s,r,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var t=this;this.promise.then((function(){t._microtaskId++}))}},{key:"scheduleListenerCallback",value:function(t,n,r){var i=this;t>=0&&t<this._microtaskId?this._zone.run((function(){return n(r)})):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then((function(){i._zone.run((function(){i._animationCallbacksBuffer.forEach((function(t){var n=e(t,2);(0,n[0])(n[1])})),i._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([n,r]))}},{key:"end",value:function(){var t=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((function(){t._scheduleCountTask(),t.engine.flush(t._microtaskId)})),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),t}()).\u0275fac=function(t){return new(t||af)(se(Ds),se(Mh),se(za))},af.\u0275prov=kt({token:af,factory:af.\u0275fac}),af),hf=function(){function t(e,n,r){v(this,t),this.namespaceId=e,this.delegate=n,this.engine=r,this.destroyNode=this.delegate.destroyNode?function(t){return n.destroyNode(t)}:null}return g(t,[{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(t,e){return this.delegate.createElement(t,e)}},{key:"createComment",value:function(t){return this.delegate.createComment(t)}},{key:"createText",value:function(t){return this.delegate.createText(t)}},{key:"appendChild",value:function(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}},{key:"insertBefore",value:function(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}},{key:"removeChild",value:function(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}},{key:"selectRootElement",value:function(t,e){return this.delegate.selectRootElement(t,e)}},{key:"parentNode",value:function(t){return this.delegate.parentNode(t)}},{key:"nextSibling",value:function(t){return this.delegate.nextSibling(t)}},{key:"setAttribute",value:function(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}},{key:"removeAttribute",value:function(t,e,n){this.delegate.removeAttribute(t,e,n)}},{key:"addClass",value:function(t,e){this.delegate.addClass(t,e)}},{key:"removeClass",value:function(t,e){this.delegate.removeClass(t,e)}},{key:"setStyle",value:function(t,e,n,r){this.delegate.setStyle(t,e,n,r)}},{key:"removeStyle",value:function(t,e,n){this.delegate.removeStyle(t,e,n)}},{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}},{key:"setValue",value:function(t,e){this.delegate.setValue(t,e)}},{key:"listen",value:function(t,e,n){return this.delegate.listen(t,e,n)}},{key:"disableAnimations",value:function(t,e){this.engine.disableAnimations(t,e)}},{key:"data",get:function(){return this.delegate.data}}]),t}(),ff=function(t){u(r,t);var n=l(r);function r(t,e,i,o){var s;return v(this,r),(s=n.call(this,e,i,o)).factory=t,s.namespaceId=e,s}return g(r,[{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}},{key:"listen",value:function(t,n,r){var i,o,s=this;if("@"==n.charAt(0)){var a,u=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t),c=n.substr(1),l="";return"@"!=c.charAt(0)&&(o=(i=c).indexOf("."),c=(a=e([i.substring(0,o),i.substr(o+1)],2))[0],l=a[1]),this.engine.listen(this.namespaceId,u,c,l,(function(t){s.factory.scheduleListenerCallback(t._data||-1,r,t)}))}return this.delegate.listen(t,n,r)}}]),r}(hf),df=((uf=function(t){u(n,t);var e=l(n);function n(t,r,i){return v(this,n),e.call(this,t.body,r,i)}return n}(Mh)).\u0275fac=function(t){return new(t||uf)(se(ku),se(kl),se(lh))},uf.\u0275prov=kt({token:uf,factory:uf.\u0275fac}),uf),pf=[{provide:kl,useFactory:function(){return"function"==typeof tf()?new Jh:new Xh}},{provide:new Xt("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:Kc,useClass:nf},{provide:lh,useFactory:function(){return new hh}},{provide:Mh,useClass:df},{provide:Ds,useFactory:function(t,e,n){return new lf(t,e,n)},deps:[Rc,Mh,za]}],vf=((cf=function t(){v(this,t)}).\u0275mod=Oe({type:cf}),cf.\u0275inj=Et({factory:function(t){return new(t||cf)},providers:pf,imports:[Wc]}),cf),yf=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i.pending=!1,i}return g(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){u(n,t);var e=l(n);function n(t,r){return v(this,n),e.call(this)}return g(n,[{key:"schedule",value:function(t){return this}}]),n}(C)),gf=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return g(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?a(p(n.prototype),"schedule",this).call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,e){return e>0||this.closed?a(p(n.prototype),"execute",this).call(this,t,e):this._execute(t,e)}},{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?a(p(n.prototype),"requestAsyncId",this).call(this,t,e,r):t.flush(this)}}]),n}(yf),mf=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;v(this,t),this.SchedulerAction=e,this.now=n}return g(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),bf=function(t){u(n,t);var e=l(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mf.now;return v(this,n),(r=e.call(this,t,(function(){return n.delegate&&n.delegate!==f(r)?n.delegate.now():i()}))).actions=[],r.active=!1,r.scheduled=void 0,r}return g(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,r):a(p(n.prototype),"schedule",this).call(this,t,e,r)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(mf),_f=new(function(t){u(n,t);var e=l(n);function n(){return v(this,n),e.apply(this,arguments)}return n}(bf))(gf),wf=_f,kf=new bf(yf);function Ef(){}function Sf(t,e,n){return function(r){return r.lift(new Cf(t,e,n))}}var Cf=function(){function t(e,n,r){v(this,t),this.nextOrObserver=e,this.error=n,this.complete=r}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new If(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),If=function(t){u(n,t);var e=l(n);function n(t,r,i,o){var s;return v(this,n),(s=e.call(this,t))._tapNext=Ef,s._tapError=Ef,s._tapComplete=Ef,s._tapError=i||Ef,s._tapComplete=o||Ef,d(r)?(s._context=f(s),s._tapNext=r):r&&(s._context=r,s._tapNext=r.next||Ef,s._tapError=r.error||Ef,s._tapComplete=r.complete||Ef),s}return g(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(O),Tf=1,Of=Promise.resolve(),Af={};function xf(t){return t in Af&&(delete Af[t],!0)}var Nf=function(t){var e=Tf++;return Af[e]=!0,Of.then((function(){return xf(e)&&t()})),e},Pf=function(t){xf(t)},Df=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return g(n,[{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?a(p(n.prototype),"requestAsyncId",this).call(this,t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=Nf(t.flush.bind(t,null))))}},{key:"recycleAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return a(p(n.prototype),"recycleAsyncId",this).call(this,t,e,r);0===t.actions.length&&(Pf(e),t.scheduled=void 0)}}]),n}(yf),Rf=new(function(t){u(n,t);var e=l(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(bf))(Df),jf=function(t){u(n,t);var e=l(n);function n(t){var r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Rf;return v(this,n),(r=e.call(this)).source=t,r.delayTime=o,r.scheduler=s,(w(i=o)||!(i-parseFloat(i)+1>=0)||o<0)&&(r.delayTime=0),s&&"function"==typeof s.schedule||(r.scheduler=Rf),r}return g(n,[{key:"_subscribe",value:function(t){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:t})}}],[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Rf;return new n(t,e,r)}},{key:"dispatch",value:function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))}}]),n}(D),Lf=function(){function t(e,n){v(this,t),this.scheduler=e,this.delay=n}return g(t,[{key:"call",value:function(t,e){return new jf(e,this.delay,this.scheduler).subscribe(t)}}]),t}(),Mf=new D((function(t){return t.complete()}));function Vf(t){return t?function(t){return new D((function(e){return t.schedule((function(){return e.complete()}))}))}(t):Mf}function Ff(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return q(r)?(e.pop(),Z(e,r)):ot(e)}var Uf,qf=((Uf=function(){function t(e,n,r){v(this,t),this.kind=e,this.value=n,this.error=r,this.hasValue="N"===e}return g(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Ff(this.value);case"E":return t=this.error,new D((function(e){return e.error(t)}));case"C":return Vf()}var t;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}()).completeNotification=new Uf("C"),Uf.undefinedValueNotification=new Uf("N",void 0),Uf);function Bf(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new zf(t,e))}}var zf=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;v(this,t),this.scheduler=e,this.delay=n}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new Hf(t,this.scheduler,this.delay))}}]),t}(),Hf=function(t){u(n,t);var e=l(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return v(this,n),(i=e.call(this,t)).scheduler=r,i.delay=o,i}return g(n,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new Gf(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(qf.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(qf.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(qf.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()}}]),n}(O),Gf=function t(e,n){v(this,t),this.notification=e,this.destination=n},Wf=c("zIRd");function Kf(){}Wf.a.registerVersion("firebase","8.0.0","app");var Qf=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_f;v(this,t),this.zone=e,this.delegate=n}return g(t,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(t,e,n){var r=this.zone;return this.delegate.schedule((function(e){var n=this;r.runGuarded((function(){t.apply(n,[e])}))}),e,n)}}]),t}(),Yf=function(){function t(e){v(this,t),this.zone=e,this.task=null}return g(t,[{key:"call",value:function(t,e){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run((function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",Kf,{},Kf,Kf)})),e.pipe(Sf({next:n,complete:n,error:n})).subscribe(t).add(n)}},{key:"unscheduleTask",value:function(){var t=this;setTimeout((function(){null!=t.task&&"scheduled"===t.task.state&&(t.task.invoke(),t.task=null)}),10)}}]),t}(),Zf=function t(e){v(this,t),this.ngZone=e,this.outsideAngular=e.runOutsideAngular((function(){return new Qf(Zone.current)})),this.insideAngular=e.run((function(){return new Qf(Zone.current,kf)}))};function Xf(t){return function(e){return(e=e.lift(new Yf(t.ngZone))).pipe(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new Lf(t,e))}}(t.outsideAngular),Bf(t.insideAngular))}}var $f=["ngOnDestroy"],Jf=new Xt("angularfire2.app.options"),td=new Xt("angularfire2.app.nameOrConfig"),ed=new Vs("6.0.4");function nd(t,e,n){var r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",Wf.a.apps.filter((function(t){return t&&t.name===r.name}))[0]||e.runOutsideAngular((function(){return Wf.a.initializeApp(t,r)}))}var rd,id={provide:function t(){v(this,t)},useFactory:nd,deps:[Jf,za,[new yt,td]]},od=((rd=function(){function t(e){v(this,t),Wf.a.registerVersion("angularfire",ed.full,e.toString()),Wf.a.registerVersion("angular",Fs.full)}return g(t,null,[{key:"initializeApp",value:function(e,n){return{ngModule:t,providers:[{provide:Jf,useValue:e},{provide:td,useValue:n}]}}}]),t}()).\u0275mod=Oe({type:rd}),rd.\u0275inj=Et({factory:function(t){return new(t||rd)(se(Oa))},providers:[id]}),rd),sd=function(t){u(n,t);var e=l(n);function n(t){var r;return v(this,n),(r=e.call(this))._value=t,r}return g(n,[{key:"_subscribe",value:function(t){var e=a(p(n.prototype),"_subscribe",this).call(this,t);return e&&!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new L;return this._value}},{key:"next",value:function(t){a(p(n.prototype),"next",this).call(this,this._value=t)}},{key:"value",get:function(){return this.getValue()}}]),n}(F),ad=function(t){u(n,t);var e=l(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(O),ud=function(t){u(n,t);var e=l(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this)).parent=t,o.outerValue=r,o.outerIndex=i,o.index=0,o}return g(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(O);function cd(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new ud(t,n,r);if(!i.closed)return e instanceof D?e.subscribe(i):Y(e)(i)}var ld={},hd=function(){function t(e){v(this,t),this.resultSelector=e}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new fd(t,this.resultSelector))}}]),t}(),fd=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return g(n,[{key:"_next",value:function(t){this.values.push(ld),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++)this.add(cd(this,t[n],void 0,n))}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n){var r=this.values,i=this.toRespond?r[n]===ld?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(ad),dd=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}();function pd(t){return new D((function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?X(n):Vf()).subscribe(e)}))}function vd(){return it(1)}function yd(t,e){return function(n){return n.lift(new gd(t,e))}}var gd=function(){function t(e,n){v(this,t),this.predicate=e,this.thisArg=n}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new md(t,this.predicate,this.thisArg))}}]),t}(),md=function(t){u(n,t);var e=l(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this,t)).predicate=r,o.thisArg=i,o.count=0,o}return g(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(O),bd=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();function _d(t){return function(e){return 0===t?Vf():e.lift(new wd(t))}}var wd=function(){function t(e){if(v(this,t),this.total=e,this.total<0)throw new bd}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new kd(t,this.total))}}]),t}(),kd=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).total=r,i.ring=new Array,i.count=0,i}return g(n,[{key:"_next",value:function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()}}]),n}(O);function Ed(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Id;return function(e){return e.lift(new Sd(t))}}var Sd=function(){function t(e){v(this,t),this.errorFactory=e}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new Cd(t,this.errorFactory))}}]),t}(),Cd=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).errorFactory=r,i.hasValue=!1,i}return g(n,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}]),n}(O);function Id(){return new dd}function Td(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new Od(t))}}var Od=function(){function t(e){v(this,t),this.defaultValue=e}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new Ad(t,this.defaultValue))}}]),t}(),Ad=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).defaultValue=r,i.isEmpty=!0,i}return g(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(O);function xd(t,e){return"function"==typeof e?function(n){return n.pipe(xd((function(n,r){return X(t(n,r)).pipe(B((function(t,i){return e(n,t,r,i)})))})))}:function(e){return e.lift(new Nd(t))}}var Nd=function(){function t(e){v(this,t),this.project=e}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new Pd(t,this.project))}}]),t}(),Pd=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).project=r,i.index=0,i}return g(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=this.innerSubscription;e&&e.unsubscribe();var n=new $(this),r=this.destination;r.add(n),this.innerSubscription=tt(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||a(p(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&a(p(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t){this.destination.next(t)}}]),n}(J);function Dd(t){return function(e){return 0===t?Vf():e.lift(new Rd(t))}}var Rd=function(){function t(e){if(v(this,t),this.total=e,this.total<0)throw new bd}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new jd(t,this.total))}}]),t}(),jd=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).total=r,i.count=0,i}return g(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(O);function Ld(){return vd()(Ff.apply(void 0,arguments))}function Md(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Vd(t,e,n))}}var Vd=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];v(this,t),this.accumulator=e,this.seed=n,this.hasSeed=r}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new Fd(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),Fd=function(t){u(n,t);var e=l(n);function n(t,r,i,o){var s;return v(this,n),(s=e.call(this,t)).accumulator=r,s._seed=i,s.hasSeed=o,s.index=0,s}return g(n,[{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)}},{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}}]),n}(O);function Ud(t){return function(e){var n=new qd(t),r=e.lift(n);return n.caught=r}}var qd=function(){function t(e){v(this,t),this.selector=e}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new Bd(t,this.selector,this.caught))}}]),t}(),Bd=function(t){u(n,t);var e=l(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this,t)).selector=r,o.caught=i,o}return g(n,[{key:"error",value:function(t){if(!this.isStopped){var e;try{e=this.selector(t,this.caught)}catch(o){return void a(p(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new $(this);this.add(r);var i=tt(e,r);i!==r&&this.add(i)}}}]),n}(J);function zd(t,e){return et(t,e,1)}function Hd(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?yd((function(e,n){return t(e,n,r)})):N,Dd(1),n?Td(e):Ed((function(){return new dd})))}}var Gd=function(){function t(e){v(this,t),this.callback=e}return g(t,[{key:"call",value:function(t,e){return e.subscribe(new Wd(t,this.callback))}}]),t}(),Wd=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).add(new C(r)),i}return n}(O),Kd=function t(e,n){v(this,t),this.id=e,this.url=n},Qd=function(t){u(n,t);var e=l(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return v(this,n),(i=e.call(this,t,r)).navigationTrigger=o,i.restoredState=s,i}return g(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Kd),Yd=function(t){u(n,t);var e=l(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this,t,r)).urlAfterRedirects=i,o}return g(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(Kd),Zd=function(t){u(n,t);var e=l(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this,t,r)).reason=i,o}return g(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Kd),Xd=function(t){u(n,t);var e=l(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this,t,r)).error=i,o}return g(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(Kd),$d=function(t){u(n,t);var e=l(n);function n(t,r,i,o){var s;return v(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s}return g(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Kd),Jd=function(t){u(n,t);var e=l(n);function n(t,r,i,o){var s;return v(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s}return g(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Kd),tp=function(t){u(n,t);var e=l(n);function n(t,r,i,o,s){var a;return v(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a.shouldActivate=s,a}return g(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(Kd),ep=function(t){u(n,t);var e=l(n);function n(t,r,i,o){var s;return v(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s}return g(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Kd),np=function(t){u(n,t);var e=l(n);function n(t,r,i,o){var s;return v(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s}return g(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Kd),rp=function(){function t(e){v(this,t),this.route=e}return g(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),ip=function(){function t(e){v(this,t),this.route=e}return g(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),op=function(){function t(e){v(this,t),this.snapshot=e}return g(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),sp=function(){function t(e){v(this,t),this.snapshot=e}return g(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),ap=function(){function t(e){v(this,t),this.snapshot=e}return g(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),up=function(){function t(e){v(this,t),this.snapshot=e}return g(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),cp=function(){function t(e,n,r){v(this,t),this.routerEvent=e,this.position=n,this.anchor=r}return g(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),lp=function(){function t(e){v(this,t),this.params=e||{}}return g(t,[{key:"has",value:function(t){return Object.prototype.hasOwnProperty.call(this.params,t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function hp(t){return new lp(t)}function fp(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function dp(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function pp(t,e){var n,r=Object.keys(t),i=Object.keys(e);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!vp(t[n=r[o]],e[n]))return!1;return!0}function vp(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;var n=r(t).sort(),i=r(e).sort();return n.every((function(t,e){return i[e]===t}))}return t===e}function yp(t){return Array.prototype.concat.apply([],t)}function gp(t){return t.length>0?t[t.length-1]:null}function mp(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function bp(t){return Go(t)?t:Ho(t)?X(Promise.resolve(t)):Ff(t)}function _p(t,e,n){return n?function(t,e){return pp(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Sp(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every((function(n){return vp(t[n],e[n])}))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!Sp(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Sp(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!t(n.children[o],r.children[o]))return!1}return!0}var s=i.slice(0,n.segments.length),a=i.slice(n.segments.length);return!!Sp(n.segments,s)&&!!n.children.primary&&e(n.children.primary,r,a)}(e,n,n.segments)}(t.root,e.root)}var wp=function(){function t(e,n,r){v(this,t),this.root=e,this.queryParams=n,this.fragment=r}return g(t,[{key:"toString",value:function(){return Op.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=hp(this.queryParams)),this._queryParamMap}}]),t}(),kp=function(){function t(e,n){var r=this;v(this,t),this.segments=e,this.children=n,this.parent=null,mp(n,(function(t,e){return t.parent=r}))}return g(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return Ap(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),t}(),Ep=function(){function t(e,n){v(this,t),this.path=e,this.parameters=n}return g(t,[{key:"toString",value:function(){return jp(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=hp(this.parameters)),this._parameterMap}}]),t}();function Sp(t,e){return t.length===e.length&&t.every((function(t,n){return t.path===e[n].path}))}function Cp(t,e){var n=[];return mp(t.children,(function(t,r){"primary"===r&&(n=n.concat(e(t,r)))})),mp(t.children,(function(t,r){"primary"!==r&&(n=n.concat(e(t,r)))})),n}var Ip=function t(){v(this,t)},Tp=function(){function t(){v(this,t)}return g(t,[{key:"parse",value:function(t){var e=new Up(t);return new wp(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){return"".concat("/"+function t(e,n){if(!e.hasChildren())return Ap(e);if(n){var r=e.children.primary?t(e.children.primary,!1):"",i=[];return mp(e.children,(function(e,n){"primary"!==n&&i.push("".concat(n,":").concat(t(e,!1)))})),i.length>0?"".concat(r,"(").concat(i.join("//"),")"):r}var o=Cp(e,(function(n,r){return"primary"===r?[t(e.children.primary,!1)]:["".concat(r,":").concat(t(n,!1))]}));return 1===Object.keys(e.children).length&&null!=e.children.primary?"".concat(Ap(e),"/").concat(o[0]):"".concat(Ap(e),"/(").concat(o.join("//"),")")}(t.root,!0)).concat((e=t.queryParams,n=Object.keys(e).map((function(t){var n=e[t];return Array.isArray(n)?n.map((function(e){return"".concat(Np(t),"=").concat(Np(e))})).join("&"):"".concat(Np(t),"=").concat(Np(n))})),n.length?"?"+n.join("&"):"")).concat("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"");var e,n}}]),t}(),Op=new Tp;function Ap(t){return t.segments.map((function(t){return jp(t)})).join("/")}function xp(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Np(t){return xp(t).replace(/%3B/gi,";")}function Pp(t){return xp(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dp(t){return decodeURIComponent(t)}function Rp(t){return Dp(t.replace(/\+/g,"%20"))}function jp(t){return"".concat(Pp(t.path)).concat((e=t.parameters,Object.keys(e).map((function(t){return";".concat(Pp(t),"=").concat(Pp(e[t]))})).join("")));var e}var Lp=/^[^\/()?;=#]+/;function Mp(t){var e=t.match(Lp);return e?e[0]:""}var Vp=/^[^=?&#]+/,Fp=/^[^?&#]+/,Up=function(){function t(e){v(this,t),this.url=e,this.remaining=e}return g(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new kp([],{}):new kp([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new kp(t,e)),n}},{key:"parseSegment",value:function(){var t=Mp(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new Ep(Dp(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=Mp(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=Mp(this.remaining);r&&(n=r,this.capture(n))}t[Dp(e)]=Dp(n)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(Vp);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=function(t){var e=t.match(Fp);return e?e[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=Rp(e),o=Rp(n);if(t.hasOwnProperty(i)){var s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Mp(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");var o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new kp([],o),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),qp=function(){function t(e){v(this,t),this._root=e}return g(t,[{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=Bp(t,this._root);return e?e.children.map((function(t){return t.value})):[]}},{key:"firstChild",value:function(t){var e=Bp(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=zp(t,this._root);return e.length<2?[]:e[e.length-2].children.map((function(t){return t.value})).filter((function(e){return e!==t}))}},{key:"pathFromRoot",value:function(t){return zp(t,this._root).map((function(t){return t.value}))}},{key:"root",get:function(){return this._root.value}}]),t}();function Bp(t,e){if(t===e.value)return e;var r,i=n(e.children);try{for(i.s();!(r=i.n()).done;){var o=Bp(t,r.value);if(o)return o}}catch(s){i.e(s)}finally{i.f()}return null}function zp(t,e){if(t===e.value)return[e];var r,i=n(e.children);try{for(i.s();!(r=i.n()).done;){var o=zp(t,r.value);if(o.length)return o.unshift(e),o}}catch(s){i.e(s)}finally{i.f()}return[]}var Hp=function(){function t(e,n){v(this,t),this.value=e,this.children=n}return g(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function Gp(t){var e={};return t&&t.children.forEach((function(t){return e[t.value.outlet]=t})),e}var Wp=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).snapshot=r,$p(f(i),t),i}return g(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(qp);function Kp(t,e){var n=function(t,e){var n=new Zp([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Xp("",new Hp(n,[]))}(t,e),r=new sd([new Ep("",{})]),i=new sd({}),o=new sd({}),s=new sd({}),a=new sd(""),u=new Qp(r,i,s,a,o,"primary",e,n.root);return u.snapshot=n.root,new Wp(new Hp(u,[]),n)}var Qp=function(){function t(e,n,r,i,o,s,a,u){v(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=u}return g(t,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(B((function(t){return hp(t)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(B((function(t){return hp(t)})))),this._queryParamMap}}]),t}();function Yp(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(t){return t.reduce((function(t,e){return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var Zp=function(){function t(e,n,r,i,o,s,a,u,c,l,h){v(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=h}return g(t,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(t){return t.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=hp(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=hp(this.queryParams)),this._queryParamMap}}]),t}(),Xp=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,r)).url=t,$p(f(i),r),i}return g(n,[{key:"toString",value:function(){return Jp(this._root)}}]),n}(qp);function $p(t,e){e.value._routerState=t,e.children.forEach((function(e){return $p(t,e)}))}function Jp(t){var e=t.children.length>0?" { ".concat(t.children.map(Jp).join(", ")," } "):"";return"".concat(t.value).concat(e)}function tv(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,pp(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),pp(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!pp(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),pp(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function ev(t,e){var n,r;return pp(t.params,e.params)&&Sp(n=t.url,r=e.url)&&n.every((function(t,e){return pp(t.parameters,r[e].parameters)}))&&!(!t.parent!=!e.parent)&&(!t.parent||ev(t.parent,e.parent))}function nv(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function rv(t,e,n,r,i){var o={};return r&&mp(r,(function(t,e){o[e]=Array.isArray(t)?t.map((function(t){return""+t})):""+t})),new wp(n.root===t?e:function t(e,n,r){var i={};return mp(e.children,(function(e,o){i[o]=e===n?r:t(e,n,r)})),new kp(e.segments,i)}(n.root,t,e),o,i)}var iv=function(){function t(e,n,r){if(v(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&nv(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find((function(t){return"object"==typeof t&&null!=t&&t.outlets}));if(i&&i!==gp(r))throw new Error("{outlets:{}} has to be the last command")}return g(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),ov=function t(e,n,r){v(this,t),this.segmentGroup=e,this.processChildren=n,this.index=r};function sv(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function av(t,e,n){if(t||(t=new kp([],{})),0===t.segments.length&&t.hasChildren())return uv(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var s=t.segments[i],a=sv(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!fv(a,u,s))return o;r+=2}else{if(!fv(a,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new kp(t.segments.slice(0,r.pathIndex),{});return o.children.primary=new kp(t.segments.slice(r.pathIndex),t.children),uv(o,0,i)}return r.match&&0===i.length?new kp(t.segments,{}):r.match&&!t.hasChildren()?cv(t,e,n):r.match?uv(t,0,i):cv(t,e,n)}function uv(t,e,n){if(0===n.length)return new kp(t.segments,{});var r=function(t){return"object"==typeof t[0]&&null!==t[0]&&t[0].outlets?t[0].outlets:{primary:t}}(n),i={};return mp(r,(function(n,r){null!==n&&(i[r]=av(t.children[r],e,n))})),mp(t.children,(function(t,e){void 0===r[e]&&(i[e]=t)})),new kp(t.segments,i)}function cv(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){if("object"==typeof n[i]&&null!==n[i]&&void 0!==n[i].outlets){var o=lv(n[i].outlets);return new kp(r,o)}if(0===i&&nv(n[0]))r.push(new Ep(t.segments[e].path,n[0])),i++;else{var s=sv(n[i]),a=i<n.length-1?n[i+1]:null;s&&a&&nv(a)?(r.push(new Ep(s,hv(a))),i+=2):(r.push(new Ep(s,{})),i++)}}return new kp(r,{})}function lv(t){var e={};return mp(t,(function(t,n){null!==t&&(e[n]=cv(new kp([],{}),0,t))})),e}function hv(t){var e={};return mp(t,(function(t,n){return e[n]=""+t})),e}function fv(t,e,n){return t==n.path&&pp(e,n.parameters)}var dv=function(){function t(e,n,r,i){v(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}return g(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),tv(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var r=this,i=Gp(e);t.children.forEach((function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]})),mp(i,(function(t,e){r.deactivateRouteAndItsChildren(t,n)}))}},{key:"deactivateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var i=Gp(t),o=t.value.component?r.children:e;mp(i,(function(t,e){return n.deactivateRouteAndItsChildren(t,o)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(t,e,n){var r=this,i=Gp(e);t.children.forEach((function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new up(t.value.snapshot))})),t.children.length&&this.forwardEvent(new sp(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(tv(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){var s=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),pv(a.route)}else{var u=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;s.attachRef=null,s.route=r,s.resolver=c,s.outlet&&s.outlet.activateWith(r,c),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function pv(t){tv(t.value),t.children.forEach(pv)}var vv=function t(e,n){v(this,t),this.routes=e,this.module=n};function yv(t){return"function"==typeof t}function gv(t){return t instanceof wp}var mv=Symbol("INITIAL_VALUE");function bv(){return xd((function(t){return(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=void 0,i=void 0;return q(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&w(e[0])&&(e=e[0]),ot(e,i).lift(new hd(r))}).apply(void 0,r(t.map((function(t){return t.pipe(Dd(1),function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return q(r)?(e.pop(),function(t){return Ld(e,t,r)}):function(t){return Ld(e,t)}}(mv))})))).pipe(Md((function(t,e){var n=!1;return e.reduce((function(t,r,i){if(t!==mv)return t;if(r===mv&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||gv(r))return r}return t}),t)}),mv),yd((function(t){return t!==mv})),B((function(t){return gv(t)?t:!0===t})),Dd(1))}))}var _v=function t(e){v(this,t),this.segmentGroup=e||null},wv=function t(e){v(this,t),this.urlTree=e};function kv(t){return new D((function(e){return e.error(new _v(t))}))}function Ev(t){return new D((function(e){return e.error(new wv(t))}))}function Sv(t){return new D((function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))}))}var Cv=function(){function t(e,n,r,i,o){v(this,t),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(le)}return g(t,[{key:"apply",value:function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(B((function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)}))).pipe(Ud((function(e){if(e instanceof wv)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof _v)throw t.noMatchError(e);throw e})))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(B((function(n){return e.createUrlTree(n,t.queryParams,t.fragment)}))).pipe(Ud((function(t){if(t instanceof _v)throw e.noMatchError(t);throw t})))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var r=t.segments.length>0?new kp([],{primary:t}):t;return new wp(r,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(B((function(t){return new kp([],t)}))):this.expandSegment(t,n,e,n.segments,r,!0)}},{key:"expandChildren",value:function(t,e,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Ff({});var o=[],s=[],a={};return mp(n,(function(n,i){var u,c,l=(u=i,c=n,r.expandSegmentGroup(t,e,c,u)).pipe(B((function(t){return a[i]=t})));"primary"===i?o.push(l):s.push(l)})),Ff.apply(null,o.concat(s)).pipe(vd(),function(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?yd((function(e,n){return t(e,n,r)})):N,_d(1),n?Td(e):Ed((function(){return new dd})))}}(),B((function(){return a})))}(n.children)}},{key:"expandSegment",value:function(t,e,n,i,o,s){var a=this;return Ff.apply(void 0,r(n)).pipe(zd((function(r){return a.expandSegmentAgainstRoute(t,e,n,r,i,o,s).pipe(Ud((function(t){if(t instanceof _v)return Ff(null);throw t})))})),Hd((function(t){return!!t})),Ud((function(t,n){if(t instanceof dd||"EmptyError"===t.name){if(a.noLeftoversInUrl(e,i,o))return Ff(new kp([],{}));throw new _v(e)}throw t})))}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,r,i,o,s){return Av(r)!==o?kv(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):kv(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Ev(o):this.lineralizeSegments(n,o).pipe(et((function(n){var o=new kp(n,{});return i.expandSegment(t,o,e,n,r,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){var s=this,a=Iv(e,r,i),u=a.matched,c=a.consumedSegments,l=a.lastChild,h=a.positionalParamSegments;if(!u)return kv(e);var f=this.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?Ev(f):this.lineralizeSegments(r,f).pipe(et((function(r){return s.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(t,e,r,i){var o=this;if("**"===r.path)return r.loadChildren?this.configLoader.load(t.injector,r).pipe(B((function(t){return r._loadedConfig=t,new kp(i,{})}))):Ff(new kp(i,{}));var s=Iv(e,r,i),a=s.matched,u=s.consumedSegments,c=s.lastChild;if(!a)return kv(e);var l=i.slice(c);return this.getChildConfig(t,r,i).pipe(et((function(t){var r=t.module,i=t.routes,s=function(t,e,r,i){return r.length>0&&function(t,e,n){return n.some((function(n){return Ov(t,e,n)&&"primary"!==Av(n)}))}(t,r,i)?{segmentGroup:Tv(new kp(e,function(t,e){var r={};r.primary=e;var i,o=n(t);try{for(o.s();!(i=o.n()).done;){var s=i.value;""===s.path&&"primary"!==Av(s)&&(r[Av(s)]=new kp([],{}))}}catch(a){o.e(a)}finally{o.f()}return r}(i,new kp(r,t.children)))),slicedSegments:[]}:0===r.length&&function(t,e,n){return n.some((function(n){return Ov(t,e,n)}))}(t,r,i)?{segmentGroup:Tv(new kp(t.segments,function(t,e,r,i){var o,s={},a=n(r);try{for(a.s();!(o=a.n()).done;){var u=o.value;Ov(t,e,u)&&!i[Av(u)]&&(s[Av(u)]=new kp([],{}))}}catch(c){a.e(c)}finally{a.f()}return Object.assign(Object.assign({},i),s)}(t,r,i,t.children))),slicedSegments:r}:{segmentGroup:t,slicedSegments:r}}(e,u,l,i),a=s.segmentGroup,c=s.slicedSegments;return 0===c.length&&a.hasChildren()?o.expandChildren(r,i,a).pipe(B((function(t){return new kp(u,t)}))):0===i.length&&0===c.length?Ff(new kp(u,{})):o.expandSegment(r,a,i,c,"primary",!0).pipe(B((function(t){return new kp(u.concat(t.segments),t.children)})))})))}},{key:"getChildConfig",value:function(t,e,n){var r=this;return e.children?Ff(new vv(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Ff(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(et((function(n){return n?r.configLoader.load(t.injector,e).pipe(B((function(t){return e._loadedConfig=t,t}))):function(t){return new D((function(e){return e.error(fp("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))}))}(e)}))):Ff(new vv([],t))}},{key:"runCanLoadGuards",value:function(t,e,n){var r=this,i=e.canLoad;return i&&0!==i.length?Ff(i.map((function(r){var i,o=t.get(r);if(function(t){return t&&yv(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!yv(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return bp(i)}))).pipe(bv(),Sf((function(t){if(gv(t)){var e=fp('Redirecting to "'.concat(r.urlSerializer.serialize(t),'"'));throw e.url=t,e}})),B((function(t){return!0===t}))):Ff(!0)}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Ff(n);if(r.numberOfChildren>1||!r.children.primary)return Sv(t.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new wp(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return mp(t,(function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t})),n}},{key:"createSegmentGroup",value:function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),s={};return mp(e.children,(function(e,o){s[o]=i.createSegmentGroup(t,e,n,r)})),new kp(o,s)}},{key:"createSegments",value:function(t,e,n,r){var i=this;return e.map((function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)}))}},{key:"findPosParam",value:function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return r}},{key:"findOrReturn",value:function(t,e){var r,i=0,o=n(e);try{for(o.s();!(r=o.n()).done;){var s=r.value;if(s.path===t.path)return e.splice(i),s;i++}}catch(a){o.e(a)}finally{o.f()}return t}}]),t}();function Iv(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||dp)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Tv(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new kp(t.segments.concat(e.segments),e.children)}return t}function Ov(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Av(t){return t.outlet||"primary"}var xv=function t(e){v(this,t),this.path=e,this.route=this.path[this.path.length-1]},Nv=function t(e,n){v(this,t),this.component=e,this.route=n};function Pv(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Dv(t,e,n){var r=Gp(t),i=t.value;mp(r,(function(t,r){Dv(t,i.component?e?e.children.getContext(r):null:e,n)})),n.canDeactivateChecks.push(new Nv(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Rv(t,e){return null!==t&&e&&e(new ap(t)),Ff(!0)}function jv(t,e){return null!==t&&e&&e(new op(t)),Ff(!0)}function Lv(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?Ff(r.map((function(r){return pd((function(){var i,o=Pv(r,e,n);if(function(t){return t&&yv(t.canActivate)}(o))i=bp(o.canActivate(e,t));else{if(!yv(o))throw new Error("Invalid CanActivate guard");i=bp(o(e,t))}return i.pipe(Hd())}))}))).pipe(bv()):Ff(!0)}function Mv(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map((function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)})).filter((function(t){return null!==t})).map((function(e){return pd((function(){return Ff(e.guards.map((function(i){var o,s=Pv(i,e.node,n);if(function(t){return t&&yv(t.canActivateChild)}(s))o=bp(s.canActivateChild(r,t));else{if(!yv(s))throw new Error("Invalid CanActivateChild guard");o=bp(s(r,t))}return o.pipe(Hd())}))).pipe(bv())}))}));return Ff(i).pipe(bv())}var Vv=function t(){v(this,t)},Fv=function(){function t(e,n,r,i,o,s){v(this,t),this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=s}return g(t,[{key:"recognize",value:function(){try{var t=Bv(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new Zp([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Hp(n,e),i=new Xp(this.url,r);return this.inheritParamsAndData(i._root),Ff(i)}catch(o){return new D((function(t){return t.error(o)}))}}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,r=Yp(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach((function(t){return e.inheritParamsAndData(t)}))}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){var n,r=this,i=Cp(e,(function(e,n){return r.processSegmentGroup(t,e,n)}));return n={},i.forEach((function(t){var e=n[t.value.outlet];if(e){var r=e.url.map((function(t){return t.toString()})).join("/"),i=t.value.url.map((function(t){return t.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(i,"'."))}n[t.value.outlet]=t.value})),i.sort((function(t,e){return"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)})),i}},{key:"processSegment",value:function(t,e,r,i){var o,s=n(t);try{for(s.s();!(o=s.n()).done;){var a=o.value;try{return this.processSegmentAgainstRoute(a,e,r,i)}catch(u){if(!(u instanceof Vv))throw u}}}catch(c){s.e(c)}finally{s.f()}if(this.noLeftoversInUrl(e,r,i))return[];throw new Vv}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"processSegmentAgainstRoute",value:function(t,e,n,r){if(t.redirectTo)throw new Vv;if((t.outlet||"primary")!==r)throw new Vv;var i,o=[],s=[];if("**"===t.path){var a=n.length>0?gp(n).parameters:{};i=new Zp(n,a,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Gv(t),r,t.component,t,Uv(e),qv(e)+n.length,Wv(t))}else{var u=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Vv;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||dp)(n,t,e);if(!r)throw new Vv;var i={};mp(r.posParams,(function(t,e){i[e]=t.path}));var o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=u.consumedSegments,s=n.slice(u.lastChild),i=new Zp(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Gv(t),r,t.component,t,Uv(e),qv(e)+o.length,Wv(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),l=Bv(e,o,s,c,this.relativeLinkResolution),h=l.segmentGroup,f=l.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(c,h);return[new Hp(i,d)]}if(0===c.length&&0===f.length)return[new Hp(i,[])];var p=this.processSegment(c,h,f,"primary");return[new Hp(i,p)]}}]),t}();function Uv(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function qv(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Bv(t,e,r,i,o){if(r.length>0&&function(t,e,n){return n.some((function(n){return zv(t,e,n)&&"primary"!==Hv(n)}))}(t,r,i)){var s=new kp(e,function(t,e,r,i){var o={};o.primary=i,i._sourceSegment=t,i._segmentIndexShift=e.length;var s,a=n(r);try{for(a.s();!(s=a.n()).done;){var u=s.value;if(""===u.path&&"primary"!==Hv(u)){var c=new kp([],{});c._sourceSegment=t,c._segmentIndexShift=e.length,o[Hv(u)]=c}}}catch(l){a.e(l)}finally{a.f()}return o}(t,e,i,new kp(r,t.children)));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===r.length&&function(t,e,n){return n.some((function(n){return zv(t,e,n)}))}(t,r,i)){var a=new kp(t.segments,function(t,e,r,i,o,s){var a,u={},c=n(i);try{for(c.s();!(a=c.n()).done;){var l=a.value;if(zv(t,r,l)&&!o[Hv(l)]){var h=new kp([],{});h._sourceSegment=t,h._segmentIndexShift="legacy"===s?t.segments.length:e.length,u[Hv(l)]=h}}}catch(f){c.e(f)}finally{c.f()}return Object.assign(Object.assign({},o),u)}(t,e,r,i,t.children,o));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:r}}var u=new kp(t.segments,t.children);return u._sourceSegment=t,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:r}}function zv(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Hv(t){return t.outlet||"primary"}function Gv(t){return t.data||{}}function Wv(t){return t.resolve||{}}function Kv(t){return function(e){return e.pipe(xd((function(e){var n=t(e);return n?X(n).pipe(B((function(){return e}))):X([e])})))}}var Qv,Yv=function(t){u(n,t);var e=l(n);function n(){return v(this,n),e.apply(this,arguments)}return n}(function(){function t(){v(this,t)}return g(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}()),Zv=((Qv=function t(){v(this,t)}).\u0275fac=function(t){return new(t||Qv)},Qv.\u0275cmp=Se({type:Qv,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&Bo(0,"router-outlet")},directives:function(){return[by]},encapsulation:2}),Qv);function Xv(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var r=t[n];$v(r,Jv(e,r))}}function $v(t,e){if(!t)throw new Error("\n      Invalid configuration of route '".concat(e,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(t))throw new Error("Invalid configuration of route '".concat(e,"': Array cannot be specified"));if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error("Invalid configuration of route '".concat(e,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and children cannot be used together"));if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and loadChildren cannot be used together"));if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': children and loadChildren cannot be used together"));if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and component cannot be used together"));if(t.path&&t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': path and matcher cannot be used together"));if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': routes must have either a path or a matcher specified"));if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '".concat(e,"': path cannot start with a slash"));if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(e,'", redirectTo: "').concat(t.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '".concat(e,"': pathMatch can only be set to 'prefix' or 'full'"));t.children&&Xv(t.children,e)}function Jv(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function ty(t){var e=t.children&&t.children.map(ty),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Zv),n}var ey=new Xt("ROUTES"),ny=function(){function t(e,n,r,i){v(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return g(t,[{key:"load",value:function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(B((function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new vv(yp(i.injector.get(ey)).map(ty),i)})))}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?X(this.loader.load(t)):bp(t()).pipe(et((function(t){return t instanceof he?Ff(t):X(e.compiler.compileModuleAsync(t))})))}}]),t}(),ry=function t(){v(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new iy,this.attachRef=null},iy=function(){function t(){v(this,t),this.contexts=new Map}return g(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new ry,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),oy=function(){function t(){v(this,t)}return g(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function sy(t){throw t}function ay(t,e,n){return e.parse("/")}function uy(t,e){return Ff(null)}var cy,ly,hy,fy=((hy=function(){function t(e,n,r,i,o,s,a,u){var c=this;v(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new F,this.errorHandler=sy,this.malformedUriErrorHandler=ay,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:uy,afterPreactivation:uy},this.urlHandlingStrategy=new oy,this.routeReuseStrategy=new Yv,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(le),this.console=o.get(xa);var l=o.get(za);this.isNgZoneEnabled=l instanceof za,this.resetConfig(u),this.currentUrlTree=new wp(new kp([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ny(s,a,(function(t){return c.triggerEvent(new rp(t))}),(function(t){return c.triggerEvent(new ip(t))})),this.routerState=Kp(this.currentUrlTree,this.rootComponentType),this.transitions=new sd({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return g(t,[{key:"setupNavigations",value:function(t){var e=this,r=this.events;return t.pipe(yd((function(t){return 0!==t.id})),B((function(t){return Object.assign(Object.assign({},t),{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})})),xd((function(t){var i,o,s,a,u=!1,c=!1;return Ff(t).pipe(Sf((function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign(Object.assign({},e.lastSuccessfulNavigation),{previousNavigation:null}):null}})),xd((function(t){var n,i,o,s,a=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||a)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Ff(t).pipe(xd((function(t){var n=e.transitions.getValue();return r.next(new Qd(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==e.transitions.getValue()?Mf:[t]})),xd((function(t){return Promise.resolve(t)})),(n=e.ngModule.injector,i=e.configLoader,o=e.urlSerializer,s=e.config,function(t){return t.pipe(xd((function(t){return function(t,e,n,r,i){return new Cv(t,e,n,r,i).apply()}(n,i,o,t.extractedUrl,s).pipe(B((function(e){return Object.assign(Object.assign({},t),{urlAfterRedirects:e})})))})))}),Sf((function(t){e.currentNavigation=Object.assign(Object.assign({},e.currentNavigation),{finalUrl:t.urlAfterRedirects})})),function(t,n,r,i,o){return function(r){return r.pipe(et((function(r){return function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new Fv(t,e,n,r,i,o).recognize()}(t,n,r.urlAfterRedirects,(s=r.urlAfterRedirects,e.serializeUrl(s)),i,o).pipe(B((function(t){return Object.assign(Object.assign({},r),{targetSnapshot:t})})));var s})))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),Sf((function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),Sf((function(t){var n=new $d(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);r.next(n)})));if(a&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var u=t.id,c=t.extractedUrl,l=t.source,h=t.restoredState,f=t.extras,d=new Qd(u,e.serializeUrl(c),l,h);r.next(d);var p=Kp(c,e.rootComponentType).snapshot;return Ff(Object.assign(Object.assign({},t),{targetSnapshot:p,urlAfterRedirects:c,extras:Object.assign(Object.assign({},f),{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Mf})),Kv((function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,s=t.extras,a=s.skipLocationChange,u=s.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!a,replaceUrl:!!u})})),Sf((function(t){var n=new Jd(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),B((function(t){return Object.assign(Object.assign({},t),{guards:(n=t.targetSnapshot,r=t.currentSnapshot,i=e.rootContexts,o=n._root,function t(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},s=Gp(n);return e.children.forEach((function(e){!function(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},s=e.value,a=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){var c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Sp(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Sp(t.url,e.url)||!pp(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ev(t,e)||!pp(t.queryParams,e.queryParams);case"paramsChange":default:return!ev(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new xv(i)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?u?u.children:null:r,i,o),c&&u&&u.outlet&&u.outlet.isActivated&&o.canDeactivateChecks.push(new Nv(u.outlet.component,a))}else a&&Dv(n,u,o),o.canActivateChecks.push(new xv(i)),t(e,null,s.component?u?u.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]})),mp(s,(function(t,e){return Dv(t,r.getContext(e),o)})),o}(o,r?r._root:null,i,[o.value]))});var n,r,i,o})),function(t,e){return function(n){return n.pipe(et((function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,s=o.canActivateChecks,a=o.canDeactivateChecks;return 0===a.length&&0===s.length?Ff(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return X(t).pipe(et((function(t){return function(t,e,n,r,i){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Ff(o.map((function(o){var s,a=Pv(o,e,i);if(function(t){return t&&yv(t.canDeactivate)}(a))s=bp(a.canDeactivate(t,e,n,r));else{if(!yv(a))throw new Error("Invalid CanDeactivate guard");s=bp(a(t,e,n,r))}return s.pipe(Hd())}))).pipe(bv()):Ff(!0)}(t.component,t.route,n,e,r)})),Hd((function(t){return!0!==t}),!0))}(a,r,i,t).pipe(et((function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return X(e).pipe(zd((function(e){return X([jv(e.route.parent,r),Rv(e.route,r),Mv(t,e.path,n),Lv(t,e.route,n)]).pipe(vd(),Hd((function(t){return!0!==t}),!0))})),Hd((function(t){return!0!==t}),!0))}(r,s,t,e):Ff(n)})),B((function(t){return Object.assign(Object.assign({},n),{guardsResult:t})})))})))}}(e.ngModule.injector,(function(t){return e.triggerEvent(t)})),Sf((function(t){if(gv(t.guardsResult)){var n=fp('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}})),Sf((function(t){var n=new tp(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(n)})),yd((function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var n=new Zd(t.id,e.serializeUrl(t.extractedUrl),"");return r.next(n),t.resolve(!1),!1}return!0})),Kv((function(t){if(t.guards.canActivateChecks.length)return Ff(t).pipe(Sf((function(t){var n=new ep(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),xd((function(t){var n,i,o=!1;return Ff(t).pipe((n=e.paramsInheritanceStrategy,i=e.ngModule.injector,function(t){return t.pipe(et((function(t){var e=t.targetSnapshot,r=t.guards.canActivateChecks;if(!r.length)return Ff(t);var o=0;return X(r).pipe(zd((function(t){return function(t,e,n,r){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return Ff({});var o={};return X(i).pipe(et((function(i){return function(t,e,n,r){var i=Pv(t,e,r);return bp(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Sf((function(t){o[i]=t})))})),_d(1),et((function(){return Object.keys(o).length===i.length?Ff(o):Mf})))}(t._resolve,t,e,r).pipe(B((function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Yp(t,n).resolve),null})))}(t.route,e,n,i)})),Sf((function(){return o++})),_d(1),et((function(e){return o===r.length?Ff(t):Mf})))})))}),Sf({next:function(){return o=!0},complete:function(){if(!o){var n=new Zd(t.id,e.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");r.next(n),t.resolve(!1)}}}))})),Sf((function(t){var n=new np(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})))})),Kv((function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,s=t.extras,a=s.skipLocationChange,u=s.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!a,replaceUrl:!!u})})),B((function(t){var r=function(t,e,r){var i=function t(e,r,i){if(i&&e.shouldReuseRoute(r.value,i.value.snapshot)){var o=i.value;o._futureSnapshot=r.value;var s=function(e,r,i){return r.children.map((function(r){var o,s=n(i.children);try{for(s.s();!(o=s.n()).done;){var a=o.value;if(e.shouldReuseRoute(a.value.snapshot,r.value))return t(e,r,a)}}catch(u){s.e(u)}finally{s.f()}return t(e,r)}))}(e,r,i);return new Hp(o,s)}var a=e.retrieve(r.value);if(a){var u=a.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(r,u),u}var c,l=new Qp(new sd((c=r.value).url),new sd(c.params),new sd(c.queryParams),new sd(c.fragment),new sd(c.data),c.outlet,c.component,c),h=r.children.map((function(n){return t(e,n)}));return new Hp(l,h)}(t,e._root,r?r._root:void 0);return new Wp(i,e)}(e.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:r})})),Sf((function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),(o=e.rootContexts,s=e.routeReuseStrategy,a=function(t){return e.triggerEvent(t)},B((function(t){return new dv(s,t.targetRouterState,t.currentRouterState,a).activate(o),t}))),Sf({next:function(){u=!0},complete:function(){u=!0}}),(i=function(){if(!u&&!c){e.resetUrlToCurrentUrlTree();var n=new Zd(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));r.next(n),t.resolve(!1)}e.currentNavigation=null},function(t){return t.lift(new Gd(i))}),Ud((function(n){if(c=!0,(a=n)&&a.ngNavigationCancelingError){var i=gv(n.url);i||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new Zd(t.id,e.serializeUrl(t.extractedUrl),n.message);r.next(o),i?setTimeout((function(){var r=e.urlHandlingStrategy.merge(n.url,e.rawUrlTree);return e.scheduleNavigation(r,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})}),0):t.resolve(!1)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var s=new Xd(t.id,e.serializeUrl(t.extractedUrl),n);r.next(s);try{t.resolve(e.errorHandler(n))}catch(u){t.reject(u)}}var a;return Mf})))})))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(e){var n=t.extractLocationChangeInfoFromEvent(e);t.shouldScheduleNavigation(t.lastLocationChangeInfo,n)&&setTimeout((function(){var e=n.source,r=n.state,i=n.urlTree,o={replaceUrl:!0};if(r){var s=Object.assign({},r);delete s.navigationId,0!==Object.keys(s).length&&(o.state=s)}t.scheduleNavigation(i,e,r,o)}),0),t.lastLocationChangeInfo=n})))}},{key:"extractLocationChangeInfoFromEvent",value:function(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}},{key:"shouldScheduleNavigation",value:function(t,e){if(!t)return!0;var n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){Xv(t),this.config=t.map(ty),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.relativeTo,i=e.queryParams,o=e.fragment,s=e.preserveQueryParams,a=e.queryParamsHandling,u=e.preserveFragment;wr()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:o,h=null;if(a)switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=s?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,i,o){if(0===n.length)return rv(e.root,e.root,e,i,o);var s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new iv(!0,0,t);var e=0,n=!1,i=t.reduce((function(t,i,o){if("object"==typeof i&&null!=i){if(i.outlets){var s={};return mp(i.outlets,(function(t,e){s[e]="string"==typeof t?t.split("/"):t})),[].concat(r(t),[{outlets:s}])}if(i.segmentPath)return[].concat(r(t),[i.segmentPath])}return"string"!=typeof i?[].concat(r(t),[i]):0===o?(i.split("/").forEach((function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))})),t):[].concat(r(t),[i])}),[]);return new iv(n,e,i)}(n);if(s.toRoot())return rv(e.root,new kp([],{}),e,i,o);var a=function(t,e,n){if(t.isAbsolute)return new ov(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){var r=n.snapshot._urlSegment;return new ov(r,r===e.root,0)}var i=nv(t.commands[0])?0:1;return function(t,e,n){for(var r=t,i=e,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new ov(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(s,e,t),u=a.processChildren?uv(a.segmentGroup,a.index,s.commands):av(a.segmentGroup,a.index,s.commands);return rv(a.segmentGroup,u,e,i,o)}(c,this.currentUrlTree,t,h,l)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};wr()&&this.isNgZoneEnabled&&!za.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=gv(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){if(gv(t))return _p(this.currentUrlTree,t,e);var n=this.parseUrl(t);return _p(this.currentUrlTree,n,e)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce((function(e,n){var r=t[n];return null!=r&&(e[n]=r),e}),{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe((function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new Yd(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)}),(function(e){t.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(t,e,n,r,i){var o,s,a,u=this.getTransition(),c="imperative"!==e&&"imperative"===(null==u?void 0:u.source),l=(this.lastSuccessfulId===u.id||this.currentNavigation?u.rawUrl:u.urlAfterRedirects).toString()===t.toString();if(c&&l)return Promise.resolve(!0);i?(o=i.resolve,s=i.reject,a=i.promise):a=new Promise((function(t,e){o=t,s=e}));var h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:s,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch((function(t){return Promise.reject(t)}))}},{key:"setBrowserUrl",value:function(t,e,n,r){var i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),t}()).\u0275fac=function(t){return new(t||hy)(se(ro),se(Ip),se(iy),se(Bu),se(bo),se(lu),se(Ua),se(void 0))},hy.\u0275prov=kt({token:hy,factory:hy.\u0275fac}),hy),dy=((ly=function(){function t(e,n,r,i,o){v(this,t),this.router=e,this.route=n,this.commands=[],this.onChanges=new F,null==r&&i.setAttribute(o.nativeElement,"tabindex","0")}return g(t,[{key:"ngOnChanges",value:function(t){this.onChanges.next(this)}},{key:"onClick",value:function(){var t={skipLocationChange:vy(this.skipLocationChange),replaceUrl:vy(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}},{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"preserveQueryParams",set:function(t){wr()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:vy(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:vy(this.preserveFragment)})}}]),t}()).\u0275fac=function(t){return new(t||ly)(Lo(fy),Lo(Qp),Mo("tabindex"),Lo(js),Lo(Ns))},ly.\u0275dir=xe({type:ly,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&Wo("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[Be]}),ly),py=((cy=function(){function t(e,n,r){var i=this;v(this,t),this.router=e,this.route=n,this.locationStrategy=r,this.commands=[],this.onChanges=new F,this.subscription=e.events.subscribe((function(t){t instanceof Yd&&i.updateTargetUrlAndHref()}))}return g(t,[{key:"ngOnChanges",value:function(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var o={skipLocationChange:vy(this.skipLocationChange),replaceUrl:vy(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"preserveQueryParams",set:function(t){wr()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:vy(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:vy(this.preserveFragment)})}}]),t}()).\u0275fac=function(t){return new(t||cy)(Lo(fy),Lo(Qp),Lo(Ru))},cy.\u0275dir=xe({type:cy,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&Wo("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)})),2&t&&(bs("href",e.href,Cr),Do("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[Be]}),cy);function vy(t){return""===t||!!t}var yy,gy,my,by=((yy=function(){function t(e,n,r,i,o){v(this,t),this.parentContexts=e,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new wa,this.deactivateEvents=new wa,this.name=i||"primary",e.onChildOutletCreated(this.name,this)}return g(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new _y(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),t}()).\u0275fac=function(t){return new(t||yy)(Lo(iy),Lo(ra),Lo(xs),Mo("name"),Lo(eo))},yy.\u0275dir=xe({type:yy,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),yy),_y=function(){function t(e,n,r){v(this,t),this.route=e,this.childContexts=n,this.parent=r}return g(t,[{key:"get",value:function(t,e){return t===Qp?this.route:t===iy?this.childContexts:this.parent.get(t,e)}}]),t}(),wy=function t(){v(this,t)},ky=function(){function t(){v(this,t)}return g(t,[{key:"preload",value:function(t,e){return Ff(null)}}]),t}(),Ey=((my=function(){function t(e,n,r,i,o){v(this,t),this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=new ny(n,r,(function(t){return e.triggerEvent(new rp(t))}),(function(t){return e.triggerEvent(new ip(t))}))}return g(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(yd((function(t){return t instanceof Yd})),zd((function(){return t.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var t=this.injector.get(le);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var r,i=[],o=n(e);try{for(o.s();!(r=o.n()).done;){var s=r.value;if(s.loadChildren&&!s.canLoad&&s._loadedConfig){var a=s._loadedConfig;i.push(this.processRoutes(a.module,a.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(t,s)):s.children&&i.push(this.processRoutes(t,s.children))}}catch(u){o.e(u)}finally{o.f()}return X(i).pipe(it(),B((function(t){})))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,(function(){return n.loader.load(t.injector,e).pipe(et((function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)})))}))}}]),t}()).\u0275fac=function(t){return new(t||my)(se(fy),se(lu),se(Ua),se(bo),se(wy))},my.\u0275prov=kt({token:my,factory:my.\u0275fac}),my),Sy=((gy=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};v(this,t),this.router=e,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return g(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof Qd?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Yd&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof cp&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new cp(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||gy)(se(fy),se(cc),se(void 0))},gy.\u0275prov=kt({token:gy,factory:gy.\u0275fac}),gy),Cy=new Xt("ROUTER_CONFIGURATION"),Iy=new Xt("ROUTER_FORROOT_GUARD"),Ty=[Bu,{provide:Ip,useClass:Tp},{provide:fy,useFactory:function(t,e,n,r,i,o,s){var a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,l=new fy(null,t,e,n,r,i,o,yp(s));if(u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),a.errorHandler&&(l.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(l.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){var h=_u();l.events.subscribe((function(t){h.logGroup("Router Event: "+t.constructor.name),h.log(t.toString()),h.log(t),h.logGroupEnd()}))}return a.onSameUrlNavigation&&(l.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(l.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(l.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(l.relativeLinkResolution=a.relativeLinkResolution),l},deps:[Ip,iy,Bu,bo,lu,Ua,ey,Cy,[function(){return function t(){v(this,t)}}(),new yt],[function(){return function t(){v(this,t)}}(),new yt]]},iy,{provide:Qp,useFactory:function(t){return t.routerState.root},deps:[fy]},{provide:lu,useClass:du},Ey,ky,function(){function t(){v(this,t)}return g(t,[{key:"preload",value:function(t,e){return e().pipe(Ud((function(){return Ff(null)})))}}]),t}(),{provide:Cy,useValue:{enableTracing:!1}}];function Oy(){return new nu("Router",fy)}var Ay,xy=((Ay=function(){function t(e,n){v(this,t)}return g(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[Ty,Ry(e),{provide:Iy,useFactory:Dy,deps:[[fy,new yt,new mt]]},{provide:Cy,useValue:n||{}},{provide:Ru,useFactory:Py,deps:[Eu,[new vt(Fu),new yt],Cy]},{provide:Sy,useFactory:Ny,deps:[fy,cc,Cy]},{provide:wy,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:ky},{provide:nu,multi:!0,useFactory:Oy},[Ly,{provide:ka,multi:!0,useFactory:My,deps:[Ly]},{provide:Uy,useFactory:Vy,deps:[Ly]},{provide:Aa,multi:!0,useExisting:Uy}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[Ry(e)]}}}]),t}()).\u0275mod=Oe({type:Ay}),Ay.\u0275inj=Et({factory:function(t){return new(t||Ay)(se(Iy,8),se(fy,8))}}),Ay);function Ny(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Sy(t,e,n)}function Py(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new qu(t,e):new Uu(t,e)}function Dy(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Ry(t){return[{provide:_o,multi:!0,useValue:t},{provide:ey,multi:!0,useValue:t}]}var jy,Ly=((jy=function(){function t(e){v(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new F}return g(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(Iu,Promise.resolve(null)).then((function(){var e=null,n=new Promise((function(t){return e=t})),r=t.injector.get(fy),i=t.injector.get(Cy);if(t.isLegacyDisabled(i)||t.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(i.initialNavigation,"'"));r.hooks.afterPreactivation=function(){return t.initNavigation?Ff(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(Cy),n=this.injector.get(Ey),r=this.injector.get(Sy),i=this.injector.get(fy),o=this.injector.get(uu);t===o.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}},{key:"isLegacyDisabled",value:function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}]),t}()).\u0275fac=function(t){return new(t||jy)(se(bo))},jy.\u0275prov=kt({token:jy,factory:jy.\u0275fac}),jy);function My(t){return t.appInitializer.bind(t)}function Vy(t){return t.bootstrapListener.bind(t)}var Fy,Uy=new Xt("Router Initializer"),qy=((Fy=function(){function t(){v(this,t)}return g(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Fy)},Fy.\u0275cmp=Se({type:Fy,selectors:[["app-about"]],decls:11,vars:0,consts:[[1,"container"],[1,"card"],[1,"blank-space"]],template:function(t,e){1&t&&(Uo(0,"div",0),Uo(1,"div",1),Uo(2,"h4"),vs(3," About Katie "),qo(),Uo(4,"p"),vs(5," I was drawn to yoga to try something new, to become more flexible and to be comfortable in my own body. Before yoga, I was a competitive swimmer and being accustomed to the routine, fitness and family aspect, I found some of these elements on the mat. "),qo(),Uo(6,"p"),vs(7," Yoga has given me the space to build strength and stretch it out. Each class can bring a new challenge, take me to my edge or create the new limit. Yoga inspires me to continuously learn, grow and develop on and off my mat. "),qo(),Uo(8,"p"),vs(9," My classes will guide you through creative, unique and challenging sequences that welcome the space to build even more heat and excitement. Every class will have its own unique theme intertwined to match the physical movements and breath work. Storytelling, humor, a little sweat and the bliss of relaxation perfectly balances out the class. Come prepared to move, step outside your comfort zone and explore. "),qo(),qo(),Bo(10,"div",2),qo())},styles:["p[_ngcontent-%COMP%]{margin:8px 0}h4[_ngcontent-%COMP%]{color:#9370db;display:block;margin:8px auto 0}"]}),Fy);function By(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}var zy,Hy=function(t){u(n,t);var e=l(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return v(this,n),(t=e.call(this)).scheduler=o,t._events=[],t._infiniteTimeWindow=!1,t._bufferSize=r<1?1:r,t._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(t._infiniteTimeWindow=!0,t.next=t.nextInfiniteTimeWindow):t.next=t.nextTimeWindow,t}return g(n,[{key:"nextInfiniteTimeWindow",value:function(t){if(!this.isStopped){var e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}a(p(n.prototype),"next",this).call(this,t)}},{key:"nextTimeWindow",value:function(t){this.isStopped||(this._events.push(new Gy(this._getNow(),t)),this._trimBufferThenGetEvents()),a(p(n.prototype),"next",this).call(this,t)}},{key:"_subscribe",value:function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new L;if(this.isStopped||this.hasError?e=C.EMPTY:(this.observers.push(t),e=new M(this,t)),i&&t.add(t=new Hf(t,i)),n)for(var s=0;s<o&&!t.closed;s++)t.next(r[s]);else for(var a=0;a<o&&!t.closed;a++)t.next(r[a].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e}},{key:"_getNow",value:function(){return(this.scheduler||wf).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}]),n}(F),Gy=function t(e,n){v(this,t),this.time=e,this.value=n},Wy=((zy=function t(e,n,i,o){v(this,t);var s,a,u=new Zf(o),l=Xf(u),h=Ff(void 0).pipe(Bf(u.outsideAngular),xd((function(){return o.runOutsideAngular((function(){return c.e(5).then(c.bind(null,"6nsN"))}))})),B((function(){return nd(e,o,n)})),B((function(t){return o.runOutsideAngular((function(){return t.auth()}))})),(a=(s={bufferSize:1,refCount:!1})&&"object"==typeof s?s:{bufferSize:s,windowTime:void 0,refCount:!1,scheduler:void 0},function(t){return t.lift(function(t){var e,n,r=t.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,o=t.windowTime,s=void 0===o?Number.POSITIVE_INFINITY:o,a=t.refCount,u=t.scheduler,c=0,l=!1,h=!1;return function(t){var r;c++,!e||l?(l=!1,e=new Hy(i,s,u),r=e.subscribe(this),n=t.subscribe({next:function(t){e.next(t)},error:function(t){l=!0,e.error(t)},complete:function(){h=!0,n=void 0,e.complete()}})):r=e.subscribe(this),this.add((function(){c--,r.unsubscribe(),n&&!h&&a&&0===c&&(n.unsubscribe(),n=void 0,e=void 0)}))}}(a))}));return ac(i)?this.authState=this.user=this.idToken=this.idTokenResult=Ff(null):(h.pipe(Hd()).subscribe(),this.authState=h.pipe(xd((function(t){return t.getRedirectResult().then((function(){return t}),(function(){return t}))})),xd((function(t){return o.runOutsideAngular((function(){return new D(t.onAuthStateChanged.bind(t))}))})),l),this.user=h.pipe(xd((function(t){return t.getRedirectResult().then((function(){return t}),(function(){return t}))})),xd((function(t){return o.runOutsideAngular((function(){return new D(t.onIdTokenChanged.bind(t))}))})),l),this.idToken=this.user.pipe(xd((function(t){return t?X(t.getIdToken()):Ff(null)}))),this.idTokenResult=this.user.pipe(xd((function(t){return t?X(t.getIdTokenResult()):Ff(null)})))),function(t,e,n){return new Proxy(t,{get:function(i,o){return n.runOutsideAngular((function(){if(t[o])return t[o];if($f.includes(o))return function(){};var i=e.toPromise().then((function(t){var e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then((function(t){return n.run((function(){return t}))})):n.run((function(){return e}))}));return new Proxy((function(){}),{get:function(t,e){return i[e]},apply:function(t,e,n){return i.then((function(t){return t&&t.apply(void 0,r(n))}))}})}))}})}(this,h,o)}).\u0275fac=function(t){return new(t||zy)(se(Jf),se(td,8),se(Oa),se(za))},zy.\u0275prov=kt({factory:function(){return new zy(se(Jf),se(td,8),se(Oa),se(za))},token:zy,providedIn:"any"}),zy);function Ky(t,e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kf;return new D((function(n){var r;return null!=e?e.schedule((function(){r=t.onSnapshot(n)})):r=t.onSnapshot(n),function(){null!=r&&r()}}))}(t,e)}function Qy(t,e){return Ky(t,e).pipe(B((function(t){return{payload:t,type:"query"}})))}function Yy(t,e){return Qy(t,e).pipe(B((function(t){return t.payload.docChanges().map((function(t){return{type:t.type,payload:t}}))})))}function Zy(t,e,n){return Qy(t,n).pipe(B((function(t){return t.payload.docChanges()})),Md((function(t,n){return function(t,e,n){return e.forEach((function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))})),t}(t,n,e)}),[]),B((function(t){return t.map((function(t){return{type:t.type,payload:t}}))})))}function Xy(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}c("xsWp");var $y=function(){function e(t,n,r){v(this,e),this.ref=t,this.query=n,this.afs=r}return g(e,[{key:"stateChanges",value:function(t){return t&&0!==t.length?Yy(this.query,this.afs.schedulers.outsideAngular).pipe(B((function(e){return e.filter((function(e){return t.indexOf(e.type)>-1}))})),yd((function(t){return t.length>0})),this.afs.keepUnstableUntilFirst):Yy(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(Md((function(t,e){return[].concat(r(t),r(e))}),[]))}},{key:"snapshotChanges",value:function(t){var e=Xy(t);return Zy(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Qy(this.query,this.afs.schedulers.outsideAngular).pipe(B((function(n){return n.payload.docs.map((function(n){return e.idField?Object.assign(Object.assign({},n.data()),t({},e.idField,n.id)):n.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return X(this.query.get(t)).pipe(Bf(this.afs.schedulers.insideAngular))}},{key:"add",value:function(t){return this.ref.add(t)}},{key:"doc",value:function(t){return new Jy(this.ref.doc(t),this.afs)}}]),e}(),Jy=function(){function t(e,n){v(this,t),this.ref=e,this.afs=n}return g(t,[{key:"set",value:function(t,e){return this.ref.set(t,e)}},{key:"update",value:function(t){return this.ref.update(t)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(t,e){var n=og(this.ref.collection(t),e),r=n.ref,i=n.query;return new $y(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return Ky(this.ref,this.afs.schedulers.outsideAngular).pipe(B((function(t){return{payload:t,type:"value"}}))).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){return this.snapshotChanges().pipe(B((function(t){return t.payload.data()})))}},{key:"get",value:function(t){return X(this.ref.get(t)).pipe(Bf(this.afs.schedulers.insideAngular))}}]),t}(),tg=function(){function t(e,n){v(this,t),this.query=e,this.afs=n}return g(t,[{key:"stateChanges",value:function(t){return t&&0!==t.length?Yy(this.query,this.afs.schedulers.outsideAngular).pipe(B((function(e){return e.filter((function(e){return t.indexOf(e.type)>-1}))})),yd((function(t){return t.length>0})),this.afs.keepUnstableUntilFirst):Yy(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(Md((function(t,e){return[].concat(r(t),r(e))}),[]))}},{key:"snapshotChanges",value:function(t){var e=Xy(t);return Zy(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){return Qy(this.query,this.afs.schedulers.outsideAngular).pipe(B((function(t){return t.payload.docs.map((function(t){return t.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return X(this.query.get(t)).pipe(Bf(this.afs.schedulers.insideAngular))}}]),t}(),eg=c("xsWp"),ng=new Xt("angularfire2.enableFirestorePersistence"),rg=new Xt("angularfire2.firestore.persistenceSettings"),ig=new Xt("angularfire2.firestore.settings");function og(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};return{query:e(t),ref:t}}var sg,ag,ug=((ag=function(){function t(e,n,r,i,o,s,a){var u=this;v(this,t),this.schedulers=new Zf(s),this.keepUnstableUntilFirst=Xf(this.schedulers),this.firestore=s.runOutsideAngular((function(){var t=nd(e,s,n);"registerFirestore"in eg&&eg.registerFirestore(Wf.a);var r=t.firestore();return i&&r.settings(i),r})),this.persistenceEnabled$=r&&!ac(o)?s.runOutsideAngular((function(){try{return X(u.firestore.enablePersistence(a||void 0).then((function(){return!0}),(function(){return!1})))}catch(t){return Ff(!1)}})):Ff(!1)}return g(t,[{key:"collection",value:function(t,e){var n=og("string"==typeof t?this.firestore.collection(t):t,e),r=n.ref,i=n.query,o=this.schedulers.ngZone.run((function(){return r}));return new $y(o,i,this)}},{key:"collectionGroup",value:function(t,e){var n=e||function(t){return t},r=this.firestore.collectionGroup(t);return new tg(n(r),this)}},{key:"doc",value:function(t){var e;e="string"==typeof t?this.firestore.doc(t):t;var n=this.schedulers.ngZone.run((function(){return e}));return new Jy(n,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),t}()).\u0275fac=function(t){return new(t||ag)(se(Jf),se(td,8),se(ng,8),se(ig,8),se(Oa),se(za),se(rg,8))},ag.\u0275prov=kt({factory:function(){return new ag(se(Jf),se(td,8),se(ng,8),se(ig,8),se(Oa),se(za),se(rg,8))},token:ag,providedIn:"any"}),ag),cg=((sg=function(){function t(e,n,r){var i=this;v(this,t),this.router=e,this.afAuth=n,this.afs=r,this.user=this.afAuth.authState.pipe(xd((function(t){return t?i.afs.doc("users/"+t.uid).valueChanges():Ff(null)})))}return g(t,[{key:"getAttendee",value:function(t){return this.afs.collection("users").doc(t).valueChanges()}},{key:"generateClassUid",value:function(){return this.afs.createId()}},{key:"getScheduledClasses",value:function(){return this.afs.collection("classes",(function(t){return t.orderBy("datetime")})).valueChanges()}},{key:"getClassByUid",value:function(t){return this.afs.collection("classes").doc(t).valueChanges()}},{key:"login",value:function(t){return By(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.afAuth.signInWithEmailAndPassword(t.email,t.password);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"logout",value:function(){return this.afAuth.signOut()}},{key:"register",value:function(t){return By(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.afAuth.createUserWithEmailAndPassword(t.email,t.password).then((function(e){var r={uid:e.user.uid,email:e.user.email,classes:[],admin:!1};n.afs.collection("users").doc(r.uid).set(r,{merge:!0}).then((function(e){n.login(t)}))}));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"joinClass",value:function(t){return By(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,r,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.afAuth.currentUser;case 2:(n=e.sent)?(r=n.uid,this.afs.firestore.runTransaction((function(e){return By(i,void 0,void 0,regeneratorRuntime.mark((function n(){var i,o,s,a,u,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=this.afs.firestore.collection("users").doc(r),n.next=3,i.get();case 3:return o=n.sent,s=this.afs.firestore.collection("schedules").doc(t),n.next=7,s.get();case 7:return a=n.sent,n.next=10,o.get("classes");case 10:return(u=n.sent).includes(t)||u.push(t),e.update(i,{classes:u}),n.next=14,a.get("recipients");case 14:(c=n.sent).includes(r)||c.push(r),e.update(s,{recipients:c});case 16:case"end":return n.stop()}}),n,this)})))}))):this.router.navigate(["home"]);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"leaveClass",value:function(t){return By(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,r,i,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Date,e.next=3,this.afs.firestore.collection("schedules").where("emailTime",">=",n).where("sent","==",!1).get();case 3:return r=e.sent,console.log(r.docChanges()[0].doc.data()),e.next=7,this.afAuth.currentUser;case 7:i=e.sent.uid,this.afs.firestore.runTransaction((function(e){return By(o,void 0,void 0,regeneratorRuntime.mark((function n(){var r,o,s,a,u,c,l,h;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=this.afs.firestore.collection("users").doc(i),n.next=3,r.get();case 3:return o=n.sent,s=this.afs.firestore.collection("schedules").doc(t),n.next=7,s.get();case 7:return a=n.sent,n.next=10,o.get("classes");case 10:return(u=n.sent).includes(t)&&(c=u.indexOf(t),u.splice(c,1)),e.update(r,{classes:u}),n.next=15,a.get("recipients");case 15:(l=n.sent).includes(i)&&(h=l.indexOf(i),l.splice(h,1)),e.update(s,{recipients:l});case 18:case"end":return n.stop()}}),n,this)})))}));case 9:case"end":return e.stop()}}),e,this)})))}},{key:"addClass",value:function(t){var e=this,n={emailTime:new Date(t.datetime.getTime()-36e5),recipients:[],sent:!1};return this.afs.firestore.runTransaction((function(r){return By(e,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.set(this.afs.firestore.collection("schedules").doc(t.uid),n,{merge:!0}),r.set(this.afs.firestore.collection("classes").doc(t.uid),t,{merge:!0});case 1:case"end":return e.stop()}}),e,this)})))}))}},{key:"updateClass",value:function(t){var e=this,n={emailTime:new Date(t.datetime.getTime()-36e5)};return this.afs.firestore.runTransaction((function(r){return By(e,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.set(this.afs.firestore.collection("schedules").doc(t.uid),n,{merge:!0}),r.set(this.afs.firestore.collection("classes").doc(t.uid),t,{merge:!0});case 1:case"end":return e.stop()}}),e,this)})))}))}},{key:"deleteClass",value:function(t){return this.afs.collection("classes").doc(t).delete()}},{key:"userIsAuthenticated",value:function(){return By(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.afAuth.currentUser;case 2:return t.abrupt("return",!!t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"getScheduleData",value:function(t){return this.afs.collection("schedules").doc(t).valueChanges()}},{key:"getUserByUid",value:function(t){return this.afs.collection("users").doc(t).valueChanges()}},{key:"deleteUser",value:function(){return By(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.afAuth.currentUser;case 2:return e=t.sent,n=e.uid,t.abrupt("return",this.afs.firestore.runTransaction((function(t){return By(r,void 0,void 0,regeneratorRuntime.mark((function t(){var r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.afs.collection("schedules").get().forEach((function(t){t.docChanges().forEach((function(t){var e=t.doc.id,i=t.doc.data().recipients;if(i.includes(n)){var o=i.indexOf(n);i.splice(o,1)}r.afs.collection("schedules").doc(e).set({recipients:i},{merge:!0})}))})),this.afs.collection("users").doc(n).delete(),e.delete();case 1:case"end":return t.stop()}}),t,this)})))})));case 5:case"end":return t.stop()}}),t,this)})))}}]),t}()).\u0275fac=function(t){return new(t||sg)(se(fy),se(Wy),se(ug))},sg.\u0275prov=kt({token:sg,factory:sg.\u0275fac,providedIn:"root"}),sg);function lg(t,e){return new D((function(n){var r=t.length;if(0!==r)for(var i=new Array(r),o=0,s=0,a=function(a){var u=X(t[a]),c=!1;n.add(u.subscribe({next:function(t){c||(c=!0,s++),i[a]=t},error:function(t){return n.error(t)},complete:function(){++o!==r&&c||(s===r&&n.next(e?e.reduce((function(t,e,n){return t[e]=i[n],t}),{}):i),n.complete())}}))},u=0;u<r;u++)a(u);else n.complete()}))}var hg,fg,dg,pg,vg,yg,gg,mg=new Xt("NgValueAccessor"),bg={provide:mg,useExisting:jt((function(){return _g})),multi:!0},_g=((hg=function(){function t(e,n){v(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return g(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||hg)(Lo(js),Lo(Ns))},hg.\u0275dir=xe({type:hg,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&Wo("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[Ts([bg])]}),hg),wg={provide:mg,useExisting:jt((function(){return Eg})),multi:!0},kg=new Xt("CompositionEventMode"),Eg=((pg=function(){function t(e,n,r){var i;v(this,t),this._renderer=e,this._elementRef=n,this._compositionMode=r,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=_u()?_u().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return g(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_handleInput",value:function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}]),t}()).\u0275fac=function(t){return new(t||pg)(Lo(js),Lo(Ns),Lo(kg,8))},pg.\u0275dir=xe({type:pg,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&Wo("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[Ts([wg])]}),pg),Sg=((dg=function(){function t(){v(this,t)}return g(t,[{key:"reset",value:function(t){this.control&&this.control.reset(t)}},{key:"hasError",value:function(t,e){return!!this.control&&this.control.hasError(t,e)}},{key:"getError",value:function(t,e){return this.control?this.control.getError(t,e):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),t}()).\u0275fac=function(t){return new(t||dg)},dg.\u0275dir=xe({type:dg}),dg),Cg=((fg=function(t){u(n,t);var e=l(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(Sg)).\u0275fac=function(t){return Ig(t||fg)},fg.\u0275dir=xe({type:fg,features:[Eo]}),fg),Ig=(vg=Cg,dt((function(){for(var t=vg.prototype.constructor,e=t[Yt]||fr(t),n=Object.prototype,r=Object.getPrototypeOf(vg.prototype).constructor;r&&r!==n;){var i=r[Yt]||fr(r);if(i&&i!==e)return i;r=Object.getPrototypeOf(r)}return function(t){return new t}}))),Tg=function(t){u(n,t);var e=l(n);function n(){var t;return v(this,n),(t=e.apply(this,arguments))._parent=null,t.name=null,t.valueAccessor=null,t._rawValidators=[],t._rawAsyncValidators=[],t}return g(n,[{key:"validator",get:function(){}},{key:"asyncValidator",get:function(){}}]),n}(Sg),Og=function(){function t(e){v(this,t),this._cd=e}return g(t,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),t}(),Ag=((gg=function(t){u(n,t);var e=l(n);function n(t){return v(this,n),e.call(this,t)}return n}(Og)).\u0275fac=function(t){return new(t||gg)(Lo(Tg,2))},gg.\u0275dir=xe({type:gg,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&rs("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[Eo]}),gg),xg=((yg=function(t){u(n,t);var e=l(n);function n(t){return v(this,n),e.call(this,t)}return n}(Og)).\u0275fac=function(t){return new(t||yg)(Lo(Cg,2))},yg.\u0275dir=xe({type:yg,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&rs("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[Eo]}),yg);function Ng(t){return null==t||0===t.length}function Pg(t){return null!=t&&"number"==typeof t.length}var Dg=new Xt("NgValidators"),Rg=new Xt("NgAsyncValidators"),jg=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Lg=function(){function t(){v(this,t)}return g(t,null,[{key:"min",value:function(t){return function(e){if(Ng(e.value)||Ng(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}},{key:"max",value:function(t){return function(e){if(Ng(e.value)||Ng(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}},{key:"required",value:function(t){return Ng(t.value)?{required:!0}:null}},{key:"requiredTrue",value:function(t){return!0===t.value?null:{required:!0}}},{key:"email",value:function(t){return Ng(t.value)||jg.test(t.value)?null:{email:!0}}},{key:"minLength",value:function(t){return function(e){return Ng(e.value)||!Pg(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}}},{key:"maxLength",value:function(t){return function(e){return Pg(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}}},{key:"pattern",value:function(e){return e?("string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(Ng(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}):t.nullValidator;var n,r}},{key:"nullValidator",value:function(t){return null}},{key:"compose",value:function(t){if(!t)return null;var e=t.filter(Mg);return 0==e.length?null:function(t){return Fg(Ug(t,e))}}},{key:"composeAsync",value:function(t){if(!t)return null;var e=t.filter(Mg);return 0==e.length?null:function(t){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){var i=e[0];if(w(i))return lg(i,null);if(k(i)&&Object.getPrototypeOf(i)===Object.prototype){var o=Object.keys(i);return lg(o.map((function(t){return i[t]})),o)}}if("function"==typeof e[e.length-1]){var s=e.pop();return lg(e=1===e.length&&w(e[0])?e[0]:e,null).pipe(B((function(t){return s.apply(void 0,r(t))})))}return lg(e,null)}(Ug(t,e).map(Vg)).pipe(B(Fg))}}}]),t}();function Mg(t){return null!=t}function Vg(t){var e=Ho(t)?X(t):t;return Go(e),e}function Fg(t){var e={};return t.forEach((function(t){e=null!=t?Object.assign(Object.assign({},e),t):e})),0===Object.keys(e).length?null:e}function Ug(t,e){return e.map((function(e){return e(t)}))}function qg(t){return t.map((function(t){return function(t){return!t.validate}(t)?t:function(e){return t.validate(e)}}))}var Bg,zg,Hg,Gg,Wg={provide:mg,useExisting:jt((function(){return Kg})),multi:!0},Kg=((Bg=function(){function t(e,n){v(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return g(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||Bg)(Lo(js),Lo(Ns))},Bg.\u0275dir=xe({type:Bg,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&Wo("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[Ts([Wg])]}),Bg),Qg={provide:mg,useExisting:jt((function(){return Zg})),multi:!0},Yg=((Hg=function(){function t(){v(this,t),this._accessors=[]}return g(t,[{key:"add",value:function(t,e){this._accessors.push([t,e])}},{key:"remove",value:function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}},{key:"select",value:function(t){var e=this;this._accessors.forEach((function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)}))}},{key:"_isSameGroup",value:function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}]),t}()).\u0275fac=function(t){return new(t||Hg)},Hg.\u0275prov=kt({token:Hg,factory:Hg.\u0275fac}),Hg),Zg=((zg=function(){function t(e,n,r,i){v(this,t),this._renderer=e,this._elementRef=n,this._registry=r,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return g(t,[{key:"ngOnInit",value:function(){this._control=this._injector.get(Tg),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}}},{key:"fireUncheck",value:function(t){this.writeValue(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_checkName",value:function(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}]),t}()).\u0275fac=function(t){return new(t||zg)(Lo(js),Lo(Ns),Lo(Yg),Lo(bo))},zg.\u0275dir=xe({type:zg,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&Wo("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Ts([Qg])]}),zg),Xg={provide:mg,useExisting:jt((function(){return $g})),multi:!0},$g=((Gg=function(){function t(e,n){v(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return g(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||Gg)(Lo(js),Lo(Ns))},Gg.\u0275dir=xe({type:Gg,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&Wo("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[Ts([Xg])]}),Gg),Jg={provide:mg,useExisting:jt((function(){return rm})),multi:!0};function tm(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}var em,nm,rm=((nm=function(){function t(e,n){v(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=Object.is}return g(t,[{key:"writeValue",value:function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=tm(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r),t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}},{key:"compareWith",set:function(t){this._compareWith=t}}]),t}()).\u0275fac=function(t){return new(t||nm)(Lo(js),Lo(Ns))},nm.\u0275dir=xe({type:nm,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&Wo("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[Ts([Jg])]}),nm),im=((em=function(){function t(e,n,r){v(this,t),this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}return g(t,[{key:"_setElementValue",value:function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(tm(this.id,t)),this._select.writeValue(this._select.value))}},{key:"value",set:function(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}}]),t}()).\u0275fac=function(t){return new(t||em)(Lo(Ns),Lo(js),Lo(rm,9))},em.\u0275dir=xe({type:em,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),em),om={provide:mg,useExisting:jt((function(){return cm})),multi:!0};function sm(t,e){return null==t?""+e:("string"==typeof e&&(e="'".concat(e,"'")),e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}var am,um,cm=((um=function(){function t(e,n){v(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=Object.is}return g(t,[{key:"writeValue",value:function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var r=t.map((function(t){return n._getOptionId(t)}));e=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){var r=[];if(void 0!==n.selectedOptions)for(var i=n.selectedOptions,o=0;o<i.length;o++){var s=i.item(o),a=e._getOptionValue(s.value);r.push(a)}else for(var u=n.options,c=0;c<u.length;c++){var l=u.item(c);if(l.selected){var h=e._getOptionValue(l.value);r.push(h)}}e.value=r,t(r)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r)._value,t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}},{key:"compareWith",set:function(t){this._compareWith=t}}]),t}()).\u0275fac=function(t){return new(t||um)(Lo(js),Lo(Ns))},um.\u0275dir=xe({type:um,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&Wo("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[Ts([om])]}),um),lm=((am=function(){function t(e,n,r){v(this,t),this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}return g(t,[{key:"_setElementValue",value:function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}},{key:"_setSelected",value:function(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(t){null!=this._select&&(this._value=t,this._setElementValue(sm(this.id,t)),this._select.writeValue(this._select.value))}},{key:"value",set:function(t){this._select?(this._value=t,this._setElementValue(sm(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}}]),t}()).\u0275fac=function(t){return new(t||am)(Lo(Ns),Lo(js),Lo(cm,9))},am.\u0275dir=xe({type:am,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),am);function hm(t,e){return[].concat(r(e.path),[t])}function fm(t,e){t.validator=Lg.compose([t.validator,e.validator]),t.asyncValidator=Lg.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange((function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&dm(t,e)}))}(t,e),function(t,e){t.registerOnChange((function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)}))}(t,e),function(t,e){e.valueAccessor.registerOnTouched((function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&dm(t,e),"submit"!==t.updateOn&&t.markAsTouched()}))}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange((function(t){e.valueAccessor.setDisabledState(t)})),e._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))})),e._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))}))}function dm(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function pm(t,e){t.validator=Lg.compose([t.validator,e.validator]),t.asyncValidator=Lg.composeAsync([t.asyncValidator,e.asyncValidator])}function vm(t){return null!=t?Lg.compose(qg(t)):null}function ym(t){return null!=t?Lg.composeAsync(qg(t)):null}function gm(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}var mm=[_g,$g,Kg,rm,cm,Zg];function bm(t,e){if(!e)return null;Array.isArray(e);var n=void 0,r=void 0,i=void 0;return e.forEach((function(t){var e;t.constructor===Eg?n=t:(e=t,mm.some((function(t){return e.constructor===t}))?r=t:i=t)})),i||r||n||null}function _m(t){return(Sm(t)?t.validators:t)||null}function wm(t){return Array.isArray(t)?vm(t):t||null}function km(t,e){return(Sm(e)?e.asyncValidators:t)||null}function Em(t){return Array.isArray(t)?ym(t):t||null}function Sm(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var Cm,Im,Tm,Om,Am,xm,Nm,Pm,Dm,Rm,jm=function(){function t(e,n){v(this,t),this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=wm(this._rawValidators),this._composedAsyncValidatorFn=Em(this._rawAsyncValidators)}return g(t,[{key:"setValidators",value:function(t){this._rawValidators=t,this._composedValidatorFn=wm(t)}},{key:"setAsyncValidators",value:function(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Em(t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(t){return t.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(t){t.markAsUntouched({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"markAsDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}},{key:"markAsPristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(t){t.markAsPristine({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"markAsPending",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(e){e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))})),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!0)}))}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild((function(e){e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!1)}))}},{key:"_updateAncestors",value:function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(t){this._parent=t}},{key:"updateValueAndValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(e){return e._updateTreeValidity(t)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t){var e=this;if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;var n=Vg(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){e._hasOwnPendingAsyncValidator=!1,e.setErrors(n,{emitEvent:t})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}},{key:"setErrors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}},{key:"get",value:function(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;var r=t;return e.forEach((function(t){r=r instanceof Mm?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Vm&&r.at(t)||null})),r}(this,t)}},{key:"getError",value:function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}},{key:"hasError",value:function(t,e){return!!this.getError(t,e)}},{key:"_updateControlsErrors",value:function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}},{key:"_initObservables",value:function(){this.valueChanges=new wa,this.statusChanges=new wa}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls((function(e){return e.status===t}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(t){return t.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(t){return t.touched}))}},{key:"_updatePristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"_isBoxedValue",value:function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){Sm(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"validator",get:function(){return this._composedValidatorFn},set:function(t){this._rawValidators=this._composedValidatorFn=t}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}}]),t}(),Lm=function(t){u(n,t);var e=l(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return v(this,n),(t=e.call(this,_m(i),km(o,i)))._onChange=[],t._applyFormState(r),t._setUpdateStrategy(i),t.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),t._initObservables(),t}return g(n,[{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(t){return t(e.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(t,e)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(t){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(t){this._onChange.push(t)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(t){this._onDisabledChange.push(t)}},{key:"_forEachChild",value:function(t){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}]),n}(jm),Mm=function(t){u(n,t);var e=l(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this,_m(r),km(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return g(n,[{key:"registerControl",value:function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}},{key:"addControl",value:function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),Object.keys(t).forEach((function(r){e._throwIfControlMissing(r),e.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(r){e.controls[r]&&e.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(t,e,n){return t[n]=e instanceof Lm?e.value:e.getRawValue(),t}))}},{key:"_syncPendingControls",value:function(){var t=this._reduceChildren(!1,(function(t,e){return!!e._syncPendingControls()||t}));return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: ".concat(t,"."))}},{key:"_forEachChild",value:function(t){var e=this;Object.keys(this.controls).forEach((function(n){return t(e.controls[n],n)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(t){for(var e=0,n=Object.keys(this.controls);e<n.length;e++){var r=n[e],i=this.controls[r];if(this.contains(r)&&t(i))return!0}return!1}},{key:"_reduceValue",value:function(){var t=this;return this._reduceChildren({},(function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e}))}},{key:"_reduceChildren",value:function(t,e){var n=t;return this._forEachChild((function(t,r){n=e(n,t,r)})),n}},{key:"_allControlsDisabled",value:function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}(jm),Vm=function(t){u(r,t);var e=l(r);function r(t,n,i){var o;return v(this,r),(o=e.call(this,_m(n),km(i,n))).controls=t,o._initObservables(),o._setUpdateStrategy(n),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return g(r,[{key:"at",value:function(t){return this.controls[t]}},{key:"push",value:function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}},{key:"removeAt",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),this.updateValueAndValidity()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),t.forEach((function(t,r){e._throwIfControlMissing(r),e.at(r).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.forEach((function(t,r){e.at(r)&&e.at(r).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this.controls.map((function(t){return t instanceof Lm?t.value:t.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(t){return t._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var t=this.controls.reduce((function(t,e){return!!e._syncPendingControls()||t}),!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}},{key:"_forEachChild",value:function(t){this.controls.forEach((function(e,n){t(e,n)}))}},{key:"_updateValue",value:function(){var t=this;this.value=this.controls.filter((function(e){return e.enabled||t.disabled})).map((function(t){return t.value}))}},{key:"_anyControls",value:function(t){return this.controls.some((function(e){return e.enabled&&t(e)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){return t._registerControl(e)}))}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var t,e=n(this.controls);try{for(e.s();!(t=e.n()).done;){if(t.value.enabled)return!1}}catch(r){e.e(r)}finally{e.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),r}(jm),Fm={provide:Tg,useExisting:jt((function(){return qm}))},Um=Promise.resolve(null),qm=((Im=function(t){u(n,t);var e=l(n);function n(t,r,i,o){var s;return v(this,n),(s=e.call(this)).control=new Lm,s._registered=!1,s.update=new wa,s._parent=t,s._rawValidators=r||[],s._rawAsyncValidators=i||[],s.valueAccessor=bm(0,o),s}return g(n,[{key:"ngOnChanges",value:function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),gm(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){fm(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}},{key:"_updateValue",value:function(t){var e=this;Um.then((function(){e.control.setValue(t,{emitViewToModelChange:!1})}))}},{key:"_updateDisabled",value:function(t){var e=this,n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;Um.then((function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()}))}},{key:"path",get:function(){return this._parent?hm(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return vm(this._rawValidators)}},{key:"asyncValidator",get:function(){return ym(this._rawAsyncValidators)}}]),n}(Tg)).\u0275fac=function(t){return new(t||Im)(Lo(Cg,9),Lo(Dg,10),Lo(Rg,10),Lo(mg,10))},Im.\u0275dir=xe({type:Im,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ts([Fm]),Eo,Be]}),Im),Bm=((Cm=function t(){v(this,t)}).\u0275fac=function(t){return new(t||Cm)},Cm.\u0275dir=xe({type:Cm,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),Cm),zm=new Xt("NgModelWithFormControlWarning"),Hm={provide:Cg,useExisting:jt((function(){return Gm}))},Gm=((Tm=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this))._validators=t,i._asyncValidators=r,i.submitted=!1,i.directives=[],i.form=null,i.ngSubmit=new wa,i}return g(n,[{key:"ngOnChanges",value:function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}},{key:"addControl",value:function(t){var e=this.form.get(t.path);return fm(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){var e,n,r;e=this.directives,n=t,(r=e.indexOf(n))>-1&&e.splice(r,1)}},{key:"addFormGroup",value:function(t){var e=this.form.get(t.path);pm(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(t){}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"addFormArray",value:function(t){var e=this.form.get(t.path);pm(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(t){}},{key:"getFormArray",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){this.form.get(t.path).setValue(e)}},{key:"onSubmit",value:function(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach((function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})),this.ngSubmit.emit(t),!1;var e}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_updateDomValue",value:function(){var t=this;this.directives.forEach((function(e){var n=t.form.get(e.path);e.control!==n&&(function(t,e){var n=function(){};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),e._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),e._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),t&&t._clearChangeFns()}(e.control,e),n&&fm(n,e),e.control=n)})),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var t=this;this.form._registerOnCollectionChange((function(){return t._updateDomValue()})),this._oldForm&&this._oldForm._registerOnCollectionChange((function(){})),this._oldForm=this.form}},{key:"_updateValidators",value:function(){var t=vm(this._validators);this.form.validator=Lg.compose([this.form.validator,t]);var e=ym(this._asyncValidators);this.form.asyncValidator=Lg.composeAsync([this.form.asyncValidator,e])}},{key:"_checkFormPresent",value:function(){}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}}]),n}(Cg)).\u0275fac=function(t){return new(t||Tm)(Lo(Dg,10),Lo(Rg,10))},Tm.\u0275dir=xe({type:Tm,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&Wo("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ts([Hm]),Eo,Be]}),Tm),Wm={provide:Tg,useExisting:jt((function(){return Km}))},Km=((Om=function(t){u(n,t);var e=l(n);function n(t,r,i,o,s){var a;return v(this,n),(a=e.call(this))._ngModelWarningConfig=s,a._added=!1,a.update=new wa,a._ngModelWarningSent=!1,a._parent=t,a._rawValidators=r||[],a._rawAsyncValidators=i||[],a.valueAccessor=bm(0,o),a}return g(n,[{key:"ngOnChanges",value:function(t){var e,r;this._added||this._setUpControl(),gm(t,this.viewModel)&&(e=n,r=this._ngModelWarningConfig,wr()&&"never"!==r&&((null!==r&&"once"!==r||e._ngModelWarningSentOnce)&&("always"!==r||this._ngModelWarningSent)||(e._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_checkParentType",value:function(){}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}},{key:"isDisabled",set:function(t){}},{key:"path",get:function(){return hm(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return vm(this._rawValidators)}},{key:"asyncValidator",get:function(){return ym(this._rawAsyncValidators)}}]),n}(Tg)).\u0275fac=function(t){return new(t||Om)(Lo(Cg,13),Lo(Dg,10),Lo(Rg,10),Lo(mg,10),Lo(zm,8))},Om.\u0275dir=xe({type:Om,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ts([Wm]),Eo,Be]}),Om._ngModelWarningSentOnce=!1,Om),Qm={provide:Dg,useExisting:jt((function(){return Ym})),multi:!0},Ym=((Dm=function(){function t(){v(this,t),this._required=!1}return g(t,[{key:"validate",value:function(t){return this.required?Lg.required(t):null}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}},{key:"required",get:function(){return this._required},set:function(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()}}]),t}()).\u0275fac=function(t){return new(t||Dm)},Dm.\u0275dir=xe({type:Dm,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&Do("required",e.required?"":null)},inputs:{required:"required"},features:[Ts([Qm])]}),Dm),Zm=((Pm=function t(){v(this,t)}).\u0275mod=Oe({type:Pm}),Pm.\u0275inj=Et({factory:function(t){return new(t||Pm)}}),Pm),Xm=((Nm=function(){function t(){v(this,t)}return g(t,[{key:"group",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(t),r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new Mm(n,{asyncValidators:i,updateOn:o,validators:r})}},{key:"control",value:function(t,e,n){return new Lm(t,e,n)}},{key:"array",value:function(t,e,n){var r=this,i=t.map((function(t){return r._createControl(t)}));return new Vm(i,e,n)}},{key:"_reduceControls",value:function(t){var e=this,n={};return Object.keys(t).forEach((function(r){n[r]=e._createControl(t[r])})),n}},{key:"_createControl",value:function(t){return t instanceof Lm||t instanceof Mm||t instanceof Vm?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}]),t}()).\u0275fac=function(t){return new(t||Nm)},Nm.\u0275prov=kt({token:Nm,factory:Nm.\u0275fac}),Nm),$m=((xm=function t(){v(this,t)}).\u0275mod=Oe({type:xm}),xm.\u0275inj=Et({factory:function(t){return new(t||xm)},providers:[Yg],imports:[Zm]}),xm),Jm=((Am=function(){function t(){v(this,t)}return g(t,null,[{key:"withConfig",value:function(e){return{ngModule:t,providers:[{provide:zm,useValue:e.warnOnNgModelWithFormControl}]}}}]),t}()).\u0275mod=Oe({type:Am}),Am.\u0275inj=Et({factory:function(t){return new(t||Am)},providers:[Xm,Yg],imports:[Zm]}),Am),tb=function(){function t(e,n){var r=this;v(this,t),this.dismissed=!1,this.message=e,this.style=n||"info",setTimeout((function(){return r.dismissed=!0}),1e4)}return g(t,[{key:"dismiss",value:function(){this.dismissed=!0}}]),t}(),eb=((Rm=function(){function t(){v(this,t),this.messages=[]}return g(t,[{key:"createMessage",value:function(t,e){this.messages.push(new tb(t,e))}}]),t}()).\u0275fac=function(t){return new(t||Rm)},Rm.\u0275prov=kt({token:Rm,factory:Rm.\u0275fac,providedIn:"root"}),Rm);function nb(t,e){1&t&&(Uo(0,"i",4),vs(1,"add"),qo())}function rb(t,e){1&t&&(Uo(0,"i",4),vs(1,"keyboard_arrow_up"),qo())}function ib(t,e){if(1&t&&(Uo(0,"option",25),vs(1),qo()),2&t){var n=e.$implicit,r=e.index;Vo("value",Yo(2).dates[r]),Br(1),gs(" ",n," ")}}function ob(t,e){if(1&t&&(Uo(0,"option",25),vs(1),qo()),2&t){var n=e.$implicit,r=e.index;Vo("value",Yo(2).months[r].index),Br(1),gs(" ",n.name," ")}}function sb(t,e){if(1&t&&(Uo(0,"option",25),vs(1),qo()),2&t){var n=e.$implicit,r=e.index;Vo("value",Yo(2).years[r]),Br(1),gs(" ",n," ")}}function ab(t,e){if(1&t&&(Uo(0,"option",25),vs(1),qo()),2&t){var n=e.$implicit,r=e.index;Vo("value",Yo(2).hours[r]),Br(1),gs(" ",n," ")}}function ub(t,e){if(1&t&&(Uo(0,"option",25),vs(1),qo()),2&t){var n=e.$implicit,r=e.index;Vo("value",Yo(2).mins[r].value),Br(1),gs(" ",n.name," ")}}function cb(t,e){if(1&t&&(Uo(0,"div",26),Uo(1,"span",26),vs(2),qo(),qo()),2&t){var n=Yo(2);Br(2),ys(n.errorMessage)}}function lb(t,e){if(1&t){var n=zo();Uo(0,"div",5),Uo(1,"form",6),Wo("ngSubmit",(function(){hn(n);var t=Yo();return t.onSubmit(t.addClassForm.value)})),Uo(2,"fieldset"),Uo(3,"div",7),Bo(4,"input",8),qo(),Uo(5,"div",7),Bo(6,"input",9),qo(),Uo(7,"div",7),Bo(8,"input",10),qo(),Uo(9,"div",7),Bo(10,"input",11),qo(),Uo(11,"div",7),Bo(12,"input",12),qo(),Uo(13,"div",13),Uo(14,"label"),vs(15,"Date"),qo(),Uo(16,"div",14),Uo(17,"div"),Uo(18,"select",15),jo(19,ib,2,2,"option",16),qo(),qo(),Uo(20,"p",17),vs(21,"/"),qo(),Uo(22,"div"),Uo(23,"select",18),jo(24,ob,2,2,"option",16),qo(),qo(),Uo(25,"p",17),vs(26,"/"),qo(),Uo(27,"div"),Uo(28,"select",19),jo(29,sb,2,2,"option",16),qo(),qo(),qo(),qo(),Uo(30,"div",13),Uo(31,"label"),vs(32,"Time"),qo(),Uo(33,"div",14),Uo(34,"div"),Uo(35,"select",20),jo(36,ab,2,2,"option",16),qo(),qo(),Uo(37,"p",17),vs(38,":"),qo(),Uo(39,"div"),Uo(40,"select",21),jo(41,ub,2,2,"option",16),qo(),qo(),qo(),qo(),qo(),Uo(42,"div",22),Bo(43,"input",23),jo(44,cb,3,1,"div",24),qo(),qo(),qo()}if(2&t){var r=Yo();Br(1),Vo("formGroup",r.addClassForm),Br(18),Vo("ngForOf",r.dates),Br(5),Vo("ngForOf",r.months),Br(5),Vo("ngForOf",r.years),Br(7),Vo("ngForOf",r.hours),Br(5),Vo("ngForOf",r.mins),Br(2),Vo("disabled",!r.addClassForm.valid),Br(1),Vo("ngIf",r.errorMessage)}}var hb,fb,db=function(t){return{card:!0,"add-class-card":!0,opened:t}},pb=((fb=function(){function t(e,n,r){v(this,t),this.fire=e,this.formBuilder=n,this.flash=r,this.addClassForm=this.formBuilder.group({name:[null,[Lg.required]],zoomLink:[null,[Lg.required]],zoomId:[null,[Lg.required]],spotifyLink:[null,[Lg.required]],description:[null],dateYear:[null,[Lg.required]],dateMonth:[null,[Lg.required]],dateDate:[null,[Lg.required]],timeHour:[null,[Lg.required]],timeMins:[null,[Lg.required]]})}return g(t,[{key:"ngOnInit",value:function(){this.years=this.getYears(),this.months=this.getMonths(),this.dates=this.getDates(),this.hours=this.getHours(),this.mins=this.getMins()}},{key:"toggleOpen",value:function(){this.opened=!this.opened,this.errorMessage=""}},{key:"getYears",value:function(){return[2020,2021,2022]}},{key:"getMonths",value:function(){return[{name:"Jan",index:0},{name:"Feb",index:1},{name:"Mar",index:2},{name:"Apr",index:3},{name:"May",index:4},{name:"Jun",index:5},{name:"Jul",index:6},{name:"Aug",index:7},{name:"Sep",index:8},{name:"Oct",index:9},{name:"Nov",index:10},{name:"Dec",index:11}]}},{key:"getDates",value:function(){return[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31]}},{key:"getHours",value:function(){return[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]}},{key:"getMins",value:function(){return[{name:"00",value:0},{name:"15",value:15},{name:"30",value:30},{name:"45",value:45}]}},{key:"onSubmit",value:function(t){var e=this,n=new Date,r=new Date(t.dateYear,t.dateMonth,t.dateDate,t.timeHour,t.timeMins);if(n<r){var i={uid:this.fire.generateClassUid(),zoomLink:t.zoomLink,zoomId:t.zoomId,spotifyLink:t.spotifyLink,description:t.description,name:t.name,datetime:r,estTime:r.toString()};this.fire.addClass(i).then((function(){e.flash.createMessage("Sucessfully added class!","success"),e.addClassForm.reset(),e.toggleOpen()})).catch((function(t){e.flash.createMessage("Something went wrong, please try again!","danger"),e.errorMessage=t.message}))}else this.flash.createMessage("Something went wrong, please try again!","danger"),this.errorMessage="Cannot create a class in the past!"}}]),t}()).\u0275fac=function(t){return new(t||fb)(Lo(cg),Lo(Xm),Lo(eb))},fb.\u0275cmp=Se({type:fb,selectors:[["app-add-class-widget"]],decls:8,vars:6,consts:[[3,"ngClass","click"],[1,"primary-color"],["class","material-icons icon",4,"ngIf"],["class","add-class-content",4,"ngIf"],[1,"material-icons","icon"],[1,"add-class-content"],[3,"formGroup","ngSubmit"],[1,"field"],["id","name","name","name","formControlName","name","placeholder","Class Name","required",""],["id","zoomLink","name","zoomLink","formControlName","zoomLink","placeholder","Zoom Link","required",""],["id","zoomId","name","zoomId","formControlName","zoomId","placeholder","Zoom ID","required",""],["id","spotifyLink","name","spotifyLink","formControlName","spotifyLink","placeholder","Spotify Link","required",""],["id","description","name","description","formControlName","description","placeholder","Class Description (Optional)"],[1,"field","select-field"],[1,"select-field"],["formControlName","dateDate","id","dateDate","required",""],[3,"value",4,"ngFor","ngForOf"],[1,"separator"],["formControlName","dateMonth","id","dateMonth","required",""],["formControlName","dateYear","id","dateYear","placeholder","2020","required",""],["formControlName","timeHour","id","timeHour","required",""],["formControlName","timeMins","id","timeMins","required",""],[1,"submit"],["id","submit","name","submit","type","submit","value","Add Class",1,"button",3,"disabled"],["class","errors",4,"ngIf"],[3,"value"],[1,"errors"]],template:function(t,e){1&t&&(Uo(0,"div",0),Wo("click",(function(){return e.toggleOpen()})),Uo(1,"div"),Uo(2,"h4",1),vs(3,"Add New Class"),qo(),qo(),Uo(4,"div"),jo(5,nb,2,0,"i",2),jo(6,rb,2,0,"i",2),qo(),qo(),jo(7,lb,45,8,"div",3)),2&t&&(Vo("ngClass",_a(4,db,e.opened)),Br(5),Vo("ngIf",!e.opened),Br(1),Vo("ngIf",e.opened),Br(1),Vo("ngIf",e.opened))},directives:[$u,nc,Bm,xg,Gm,Eg,Ag,Km,Ym,rm,tc,im,lm],styles:[".add-class-card[_ngcontent-%COMP%]{background-color:#9370db;color:#fff;cursor:pointer;margin-bottom:0}.add-class-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#fff}.add-class-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{background-color:hsla(0,0%,100%,.2)}.add-class-content[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 0 10px 1px rgba(0,0,0,.5);border-radius:0 0 5px 5px;padding:8px 16px;margin:0 0 16px;max-width:95vw}.opened[_ngcontent-%COMP%]{background-color:rgba(147,112,216,.6);color:#9370db;margin-bottom:0}"]}),fb),vb=((hb=function(){function t(){v(this,t),this.closeEvent=new wa,this.deleteClassEvent=new wa}return g(t,[{key:"ngOnInit",value:function(){}},{key:"close",value:function(){this.closeEvent.emit(!0)}},{key:"deleteClass",value:function(){this.deleteClassEvent.emit(!0)}}]),t}()).\u0275fac=function(t){return new(t||hb)},hb.\u0275cmp=Se({type:hb,selectors:[["app-delete-prompt-widget"]],outputs:{closeEvent:"closeEvent",deleteClassEvent:"deleteClassEvent"},decls:10,vars:0,consts:[["id","grey",1,"grey","fadeIn"],[1,"form-container"],[1,"card","form"],[1,"submit"],[1,"button","button-danger",3,"click"],[1,"button",3,"click"]],template:function(t,e){1&t&&(Uo(0,"div",0),Uo(1,"div",1),Uo(2,"div",2),Uo(3,"p"),vs(4,"Are you sure you want to delete this class?"),qo(),Uo(5,"div",3),Uo(6,"a",4),Wo("click",(function(){return e.deleteClass()})),vs(7,"Delete"),qo(),Uo(8,"a",5),Wo("click",(function(){return e.close()})),vs(9,"Cancel"),qo(),qo(),qo(),qo(),qo())},styles:[""]}),hb);function yb(t,e){1&t&&(Uo(0,"i",5),vs(1,"keyboard_arrow_down"),qo())}function gb(t,e){1&t&&(Uo(0,"i",5),vs(1,"keyboard_arrow_up"),qo())}function mb(t,e){if(1&t&&(Uo(0,"option",30),vs(1),qo()),2&t){var n=e.$implicit,r=e.index;Vo("value",Yo(2).months[r].index),Br(1),gs(" ",n.name," ")}}function bb(t,e){if(1&t&&(Uo(0,"option",30),vs(1),qo()),2&t){var n=e.$implicit,r=e.index;Vo("value",Yo(2).dates[r]),Br(1),gs(" ",n," ")}}function _b(t,e){if(1&t&&(Uo(0,"option",30),vs(1),qo()),2&t){var n=e.$implicit,r=e.index;Vo("value",Yo(2).years[r]),Br(1),gs(" ",n," ")}}function wb(t,e){if(1&t&&(Uo(0,"option",30),vs(1),qo()),2&t){var n=e.$implicit,r=e.index;Vo("value",Yo(2).hours[r]),Br(1),gs(" ",n," ")}}function kb(t,e){if(1&t&&(Uo(0,"option",30),vs(1),qo()),2&t){var n=e.$implicit,r=e.index;Vo("value",Yo(2).mins[r].value),Br(1),gs(" ",n.name," ")}}function Eb(t,e){if(1&t&&(Uo(0,"div",31),Uo(1,"span",31),vs(2),qo(),qo()),2&t){var n=Yo(2);Br(2),ys(n.errorMessage)}}function Sb(t,e){1&t&&(Uo(0,"li"),vs(1," None "),qo())}function Cb(t,e){if(1&t&&(Uo(0,"li"),vs(1),qo()),2&t){var n=e.$implicit;Br(1),gs(" ",n," ")}}function Ib(t,e){if(1&t){var n=zo();Uo(0,"div",6),Uo(1,"div",7),Uo(2,"fieldset"),Uo(3,"div",8),Uo(4,"input",9),Wo("ngModelChange",(function(t){return hn(n),Yo().updateName=t})),qo(),qo(),Uo(5,"div",8),Uo(6,"input",10),Wo("ngModelChange",(function(t){return hn(n),Yo().updateZoomLink=t})),qo(),qo(),Uo(7,"div",8),Uo(8,"input",11),Wo("ngModelChange",(function(t){return hn(n),Yo().updateZoomId=t})),qo(),qo(),Uo(9,"div",8),Uo(10,"input",12),Wo("ngModelChange",(function(t){return hn(n),Yo().updateSpotifyLink=t})),qo(),qo(),Uo(11,"div",8),Uo(12,"input",13),Wo("ngModelChange",(function(t){return hn(n),Yo().updateDescription=t})),qo(),qo(),Uo(13,"div",14),Uo(14,"label"),vs(15,"Date"),qo(),Uo(16,"div",15),Uo(17,"div"),Uo(18,"select",16),Wo("ngModelChange",(function(t){return hn(n),Yo().updateDateMonth=t})),jo(19,mb,2,2,"option",17),qo(),qo(),Uo(20,"p",18),vs(21,"/"),qo(),Uo(22,"div"),Uo(23,"select",19),Wo("ngModelChange",(function(t){return hn(n),Yo().updateDateDate=t})),jo(24,bb,2,2,"option",17),qo(),qo(),Uo(25,"p",18),vs(26,"/"),qo(),Uo(27,"div"),Uo(28,"select",20),Wo("ngModelChange",(function(t){return hn(n),Yo().updateDateYear=t})),jo(29,_b,2,2,"option",17),qo(),qo(),qo(),qo(),Uo(30,"div",14),Uo(31,"label"),vs(32,"Time"),qo(),Uo(33,"div",15),Uo(34,"div"),Uo(35,"select",21),Wo("ngModelChange",(function(t){return hn(n),Yo().updateTimeHour=t})),jo(36,wb,2,2,"option",17),qo(),qo(),Uo(37,"p",18),vs(38,":"),qo(),Uo(39,"div"),Uo(40,"select",22),Wo("ngModelChange",(function(t){return hn(n),Yo().updateTimeMins=t})),jo(41,kb,2,2,"option",17),qo(),qo(),qo(),qo(),qo(),Uo(42,"div",23),Uo(43,"a",24),Wo("click",(function(){return hn(n),Yo().updateClass()})),vs(44,"Update Class"),qo(),Uo(45,"a",25),Wo("click",(function(){return hn(n),Yo().toggleDeletePrompt()})),vs(46,"Delete Class"),qo(),qo(),jo(47,Eb,3,1,"div",26),qo(),Uo(48,"div",27),Uo(49,"label"),vs(50),qo(),Uo(51,"ul"),jo(52,Sb,2,0,"li",28),jo(53,Cb,2,1,"li",29),qo(),qo(),qo()}if(2&t){var r=Yo();Br(4),Vo("ngModel",r.updateName),Br(2),Vo("ngModel",r.updateZoomLink),Br(2),Vo("ngModel",r.updateZoomId),Br(2),Vo("ngModel",r.updateSpotifyLink),Br(2),Vo("ngModel",r.updateDescription),Br(6),Vo("ngModel",r.updateDateMonth),Br(1),Vo("ngForOf",r.months),Br(4),Vo("ngModel",r.updateDateDate),Br(1),Vo("ngForOf",r.dates),Br(4),Vo("ngModel",r.updateDateYear),Br(1),Vo("ngForOf",r.years),Br(6),Vo("ngModel",r.updateTimeHour),Br(1),Vo("ngForOf",r.hours),Br(4),Vo("ngModel",r.updateTimeMins),Br(1),Vo("ngForOf",r.mins),Br(6),Vo("ngIf",r.errorMessage),Br(3),gs("Attendees (",r.attendees.length,")"),Br(2),Vo("ngIf",0==r.attendees.length),Br(1),Vo("ngForOf",r.attendees)}}function Tb(t,e){if(1&t){var n=zo();Uo(0,"app-delete-prompt-widget",32),Wo("closeEvent",(function(){return hn(n),Yo().toggleDeletePrompt()}))("deleteClassEvent",(function(){return hn(n),Yo().deleteClass()})),qo()}}var Ob,Ab=function(t){return{card:!0,"admin-card":!0,opened:t}},xb=((Ob=function(){function t(e){v(this,t),this.fire=e,this.deletePrompt=!1,this.attendees=[]}return g(t,[{key:"ngOnInit",value:function(){this.years=this.getYears(),this.months=this.getMonths(),this.dates=this.getDates(),this.hours=this.getHours(),this.mins=this.getMins(),this.setDateTime(),this.getAttendees()}},{key:"getAttendees",value:function(){var t=this;this.fire.getScheduleData(this.class.uid).subscribe((function(e){e.recipients.forEach((function(e){t.fire.getUserByUid(e).subscribe((function(e){t.attendees.push(e.email)}))}))}))}},{key:"setDateTime",value:function(){var t=this;this.fire.getClassByUid(this.class.uid).subscribe((function(e){var n=["Sun","Mon","Tues","Wed","Thurs","Fri","Sat"][e.datetime.toDate().getDay()],r=e.datetime.toDate().getDate(),i=e.datetime.toDate().getMonth(),o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][i],s=e.datetime.toDate().getFullYear();t.date="".concat(n,", ").concat(o," ").concat(r,", ").concat(s);var a,u=e.datetime.toDate().getHours(),c=e.datetime.toDate().getMinutes();t.updateName=e.name,t.updateZoomLink=e.zoomLink,t.updateZoomId=e.zoomId,t.updateSpotifyLink=e.spotifyLink,t.updateDescription=e.description,t.updateDateYear=s,t.updateDateMonth=i,t.updateDateDate=r,t.updateTimeHour=u,t.updateTimeMins=c,c=1==c.toString().length?"0"+c:c.toString(),u>12?(u-=12,a="PM"):a=12==u?"Noon":24==u?"Midnight":"AM",t.time="".concat(u,":").concat(c," ").concat(a)}))}},{key:"toggleOpen",value:function(){this.opened=!this.opened}},{key:"toggleDeletePrompt",value:function(){this.deletePrompt=!this.deletePrompt}},{key:"updateClass",value:function(){var t=new Date,e=new Date(this.updateDateYear,this.updateDateMonth,this.updateDateDate,this.updateTimeHour,this.updateTimeMins);if(t<e){var n={uid:this.class.uid,name:this.updateName,description:this.updateDescription,datetime:e,estTime:e.toString(),zoomId:this.updateZoomId,zoomLink:this.updateZoomLink,spotifyLink:this.updateSpotifyLink};this.fire.updateClass(n)}else this.errorMessage="You cannot have a class in the past!"}},{key:"deleteClass",value:function(){this.fire.deleteClass(this.class.uid)}},{key:"getYears",value:function(){return[2020,2021,2022]}},{key:"getMonths",value:function(){return[{name:"Jan",index:0},{name:"Feb",index:1},{name:"Mar",index:2},{name:"Apr",index:3},{name:"May",index:4},{name:"Jun",index:5},{name:"Jul",index:6},{name:"Aug",index:7},{name:"Sep",index:8},{name:"Oct",index:9},{name:"Nov",index:10},{name:"Dec",index:11}]}},{key:"getDates",value:function(){return[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31]}},{key:"getHours",value:function(){return[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]}},{key:"getMins",value:function(){return[{name:"00",value:0},{name:"15",value:15},{name:"30",value:30},{name:"45",value:45}]}}]),t}()).\u0275fac=function(t){return new(t||Ob)(Lo(cg))},Ob.\u0275cmp=Se({type:Ob,selectors:[["app-admin-class-widget"]],inputs:{class:"class"},decls:11,vars:9,consts:[[3,"ngClass","click"],[1,"primary-color"],["class","material-icons icon",4,"ngIf"],["class","admin-content",4,"ngIf"],[3,"closeEvent","deleteClassEvent",4,"ngIf"],[1,"material-icons","icon"],[1,"admin-content"],[1,"half"],[1,"field"],["id","name","placeholder","Class Name",3,"ngModel","ngModelChange"],["id","zoomLink","placeholder","Zoom Link",3,"ngModel","ngModelChange"],["id","zoomId","placeholder","Zoom Id",3,"ngModel","ngModelChange"],["id","spotifyLink","placeholder","Spotify Link",3,"ngModel","ngModelChange"],["id","description","placeholder","Description",3,"ngModel","ngModelChange"],[1,"field","select-field"],[1,"select-field"],["id","dateMonth",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"separator"],["id","dateDate",3,"ngModel","ngModelChange"],["id","dateYear",3,"ngModel","ngModelChange"],["id","timeHour",3,"ngModel","ngModelChange"],["id","timeMins",3,"ngModel","ngModelChange"],[1,"submit"],[1,"button",3,"click"],[1,"button","button-danger",3,"click"],["class","errors",4,"ngIf"],[1,"half","attendees"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"value"],[1,"errors"],[3,"closeEvent","deleteClassEvent"]],template:function(t,e){1&t&&(Uo(0,"div",0),Wo("click",(function(){return e.toggleOpen()})),Uo(1,"div"),Uo(2,"h4",1),vs(3),qo(),Uo(4,"p"),vs(5),qo(),qo(),Uo(6,"div"),jo(7,yb,2,0,"i",2),jo(8,gb,2,0,"i",2),qo(),qo(),jo(9,Ib,54,19,"div",3),jo(10,Tb,1,0,"app-delete-prompt-widget",4)),2&t&&(Vo("ngClass",_a(7,Ab,e.opened)),Br(3),ys(e.class.name),Br(2),ys(e.date+" ("+e.time+")"),Br(2),Vo("ngIf",!e.opened),Br(1),Vo("ngIf",e.opened),Br(1),Vo("ngIf",e.opened),Br(1),Vo("ngIf",e.deletePrompt))},directives:[$u,nc,Eg,Ag,qm,rm,tc,im,lm,vb],styles:[".opened[_ngcontent-%COMP%]{background-color:rgba(147,112,216,.3);color:#fff;margin-bottom:0}.admin-card[_ngcontent-%COMP%]{cursor:pointer}.admin-content[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 0 10px 1px rgba(0,0,0,.5);border-radius:0 0 5px 5px;padding:8px 16px;margin:0 0 16px;max-width:95vw;display:flex;justify-content:center;flex-wrap:wrap}.attendees[_ngcontent-%COMP%]{list-style-type:none}.attendees[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}.attendees[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none}"]}),Ob);function Nb(t,e){1&t&&Bo(0,"app-admin-class-widget"),2&t&&is(e.$implicit)}var Pb,Db=((Pb=function(){function t(e){v(this,t),this.fire=e,this.classes=[]}return g(t,[{key:"ngOnInit",value:function(){this.classObservable()}},{key:"classObservable",value:function(){var t=this;this.fire.getScheduledClasses().subscribe((function(e){t.classes=[],e.map((function(e){if(new Date<e.datetime.toDate()){var n={uid:e.uid,name:e.name,description:e.description,datetime:e.datetime};t.classes.includes(n)||t.classes.push(n)}}))}))}}]),t}()).\u0275fac=function(t){return new(t||Pb)(Lo(cg))},Pb.\u0275cmp=Se({type:Pb,selectors:[["app-admin"]],decls:6,vars:1,consts:[[1,"container"],[3,"class",4,"ngFor","ngForOf"],[1,"blank-space"]],template:function(t,e){1&t&&(Uo(0,"div",0),Uo(1,"div"),Bo(2,"app-add-class-widget"),qo(),Uo(3,"div"),jo(4,Nb,1,2,"app-admin-class-widget",1),qo(),Bo(5,"div",2),qo()),2&t&&(Br(4),Vo("ngForOf",e.classes))},directives:[pb,tc,xb],styles:[""]}),Pb),Rb=function(t){return{button:!0,joined:t}};function jb(t,e){if(1&t){var n=zo();Uo(0,"a",4),Wo("click",(function(){return hn(n),Yo().joinClass()})),vs(1),qo()}if(2&t){var r=Yo();Vo("ngClass",_a(2,Rb,r.joined)),Br(1),ys(r.joinMessage)}}function Lb(t,e){if(1&t){var n=zo();Uo(0,"a",4),Wo("click",(function(){return hn(n),Yo().leaveClass()})),vs(1,"Attending"),qo()}if(2&t){var r=Yo();Vo("ngClass",_a(1,Rb,r.joined))}}var Mb,Vb=((Mb=function(){function t(e,n){v(this,t),this.fire=e,this.flash=n,this.toggleLoginEvent=new wa}return g(t,[{key:"ngOnInit",value:function(){this.userObservable(),this.setDateTime()}},{key:"userObservable",value:function(){var t=this;this.fire.user.subscribe((function(e){t.joinMessage=e?"Join Class":"Log In To Join",e&&(t.userUid=e.uid,t.scheduleObserver())}))}},{key:"scheduleObserver",value:function(){var t=this;this.fire.getScheduleData(this.class.uid).subscribe((function(e){e&&(t.joined=!!e.recipients.includes(t.userUid))}))}},{key:"setDateTime",value:function(){var t=this;this.fire.getClassByUid(this.class.uid).subscribe((function(e){var n=["Sun","Mon","Tues","Wed","Thurs","Fri","Sat"][e.datetime.toDate().getDay()],r=e.datetime.toDate().getDate(),i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.datetime.toDate().getMonth()],o=e.datetime.toDate().getFullYear();t.date="".concat(n,", ").concat(i," ").concat(r,", ").concat(o);var s,a=e.datetime.toDate().getHours(),u=e.datetime.toDate().getMinutes();1==u.toString().length&&(u="0"+u),a>12?(a-=12,s="PM"):s=12==a?"Noon":24==a?"Midnight":"AM",t.time="".concat(a,":").concat(u," ").concat(s)}))}},{key:"toggleJoined",value:function(){this.joined=!this.joined}},{key:"joinClass",value:function(){var t=this;this.fire.userIsAuthenticated().then((function(e){e?t.fire.joinClass(t.class.uid).then((function(e){t.flash.createMessage("Successfully joined class. You should recieve an email 45 minutes before the class is scheduled to begin. If you do not, check your junk folder and then contact Katie!","success")})).catch((function(e){t.flash.createMessage("Something went wrong, please try again!","danger")})):(t.toggleLoginEvent.emit(!0),t.flash.createMessage("You must be logged in to join a class!"))}))}},{key:"leaveClass",value:function(){var t=this;this.fire.leaveClass(this.class.uid).then((function(e){t.flash.createMessage("Successfully left class.","success")})).catch((function(e){t.flash.createMessage("Something went wrong, please try again!","danger")}))}}]),t}()).\u0275fac=function(t){return new(t||Mb)(Lo(cg),Lo(eb))},Mb.\u0275cmp=Se({type:Mb,selectors:[["app-public-class-widget"]],inputs:{class:"class"},outputs:{toggleLoginEvent:"toggleLoginEvent"},decls:11,vars:5,consts:[[1,"card"],[1,"primary-color"],[1,"muted"],[3,"ngClass","click",4,"ngIf"],[3,"ngClass","click"]],template:function(t,e){1&t&&(Uo(0,"div",0),Uo(1,"div"),Uo(2,"h4",1),vs(3),qo(),Uo(4,"p",2),vs(5),qo(),Uo(6,"p"),vs(7),qo(),qo(),Uo(8,"div"),jo(9,jb,2,4,"a",3),jo(10,Lb,2,3,"a",3),qo(),qo()),2&t&&(Br(3),ys(e.class.name),Br(2),ys(e.class.description),Br(2),ys(e.date+" ("+e.time+")"),Br(2),Vo("ngIf",!e.joined),Br(1),Vo("ngIf",e.joined))},directives:[nc,$u],styles:[".joined[_ngcontent-%COMP%]{background-color:#9370db;color:#fff}"]}),Mb);function Fb(t,e){if(1&t&&(Uo(0,"div",12),Uo(1,"span",12),vs(2),qo(),qo()),2&t){var n=Yo();Br(2),ys(n.errorMessage)}}var Ub,qb=((Ub=function(){function t(e,n,r){v(this,t),this.fire=e,this.formBuilder=n,this.flash=r,this.closeLoginEvent=new wa,this.toggleLoginRegister=new wa,this.loginForm=this.formBuilder.group({email:"",password:""})}return g(t,[{key:"ngOnInit",value:function(){}},{key:"close",value:function(){var t=this;document.getElementById("grey").classList.add("fadeOut"),setTimeout((function(){return t.closeLoginEvent.emit(!1)}),1e3)}},{key:"onSubmit",value:function(t){var e=this;this.fire.login(t).then((function(t){e.close(),e.flash.createMessage("Successfully logged in.","success")})).catch((function(t){console.log(t),e.errorMessage=t.message,e.flash.createMessage("Failed to log in.","danger")})),this.loginForm.reset()}},{key:"goToRegister",value:function(){return this.toggleLoginRegister.emit(!0)}}]),t}()).\u0275fac=function(t){return new(t||Ub)(Lo(cg),Lo(Xm),Lo(eb))},Ub.\u0275cmp=Se({type:Ub,selectors:[["app-login-widget"]],outputs:{closeLoginEvent:"closeLoginEvent",toggleLoginRegister:"toggleLoginRegister"},decls:18,vars:2,consts:[["id","grey",1,"grey","fadeIn"],[1,"form-container"],[1,"card","form"],[1,"material-icons","close-icon",3,"click"],[3,"formGroup","ngSubmit"],[1,"field"],["id","email","name","email","formControlName","email","placeholder","Email"],["id","password","name","password","type","password","formControlName","password","placeholder","Password"],["id","submit","name","submit","type","submit","value","Log In",1,"button","submit"],["class","errors",4,"ngIf"],[1,"muted"],[3,"click"],[1,"errors"]],template:function(t,e){1&t&&(Uo(0,"div",0),Uo(1,"div",1),Uo(2,"div",2),Uo(3,"i",3),Wo("click",(function(){return e.close()})),vs(4,"close"),qo(),Uo(5,"form",4),Wo("ngSubmit",(function(){return e.onSubmit(e.loginForm.value)})),Uo(6,"fieldset"),Uo(7,"div",5),Bo(8,"input",6),qo(),Uo(9,"div",5),Bo(10,"input",7),qo(),qo(),Bo(11,"input",8),jo(12,Fb,3,1,"div",9),Uo(13,"div"),Uo(14,"p",10),vs(15,"Need an account? "),Uo(16,"a",11),Wo("click",(function(){return e.goToRegister()})),vs(17,"Register!"),qo(),qo(),qo(),qo(),qo(),qo(),qo()),2&t&&(Br(5),Vo("formGroup",e.loginForm),Br(7),Vo("ngIf",e.errorMessage))},directives:[Bm,xg,Gm,Eg,Ag,Km,nc],styles:[""]}),Ub);function Bb(t,e){if(1&t&&(Uo(0,"div",13),Uo(1,"span",13),vs(2),qo(),qo()),2&t){var n=Yo();Br(2),ys(n.errorMessage)}}var zb,Hb=((zb=function(){function t(e,n,r){v(this,t),this.fire=e,this.formBuilder=n,this.flash=r,this.closeRegisterEvent=new wa,this.toggleLoginRegister=new wa,this.registerForm=this.formBuilder.group({email:"",password:"",confirm:""})}return g(t,[{key:"ngOnInit",value:function(){}},{key:"close",value:function(){var t=this;document.getElementById("grey").classList.add("fadeOut"),setTimeout((function(){return t.closeRegisterEvent.emit(!1)}),1e3)}},{key:"onSubmit",value:function(t){var e=this;t.password==t.confirm?(this.fire.register(t).then((function(n){e.fire.login(t).then((function(t){e.close(),e.flash.createMessage("Successfully logged in.","success")})).catch((function(t){console.log(t),e.errorMessage=t.message,e.flash.createMessage("Failed to log in.","danger")}))})).catch((function(t){console.log(t),e.errorMessage=t.message,e.flash.createMessage("Something went wrong, please try again!","danger")})),this.registerForm.reset()):(this.errorMessage="The passwords did not match!",this.flash.createMessage("Something went wrong, please try again!","danger"))}},{key:"goToLogin",value:function(){return this.toggleLoginRegister.emit(!0)}}]),t}()).\u0275fac=function(t){return new(t||zb)(Lo(cg),Lo(Xm),Lo(eb))},zb.\u0275cmp=Se({type:zb,selectors:[["app-register-widget"]],outputs:{closeRegisterEvent:"closeRegisterEvent",toggleLoginRegister:"toggleLoginRegister"},decls:20,vars:2,consts:[["id","grey",1,"grey","fadeIn"],[1,"form-container"],[1,"card","form"],[1,"material-icons","close-icon",3,"click"],[3,"formGroup","ngSubmit"],[1,"field"],["id","email","name","email","formControlName","email","placeholder","Email"],["id","password","name","password","type","password","formControlName","password","placeholder","Password"],["id","confirm","name","confirm","type","password","formControlName","confirm","placeholder","Confirm Password"],["id","submit","name","submit","type","submit","value","Register and Log In",1,"button","submit"],["class","errors",4,"ngIf"],[1,"muted"],[3,"click"],[1,"errors"]],template:function(t,e){1&t&&(Uo(0,"div",0),Uo(1,"div",1),Uo(2,"div",2),Uo(3,"i",3),Wo("click",(function(){return e.close()})),vs(4,"close"),qo(),Uo(5,"form",4),Wo("ngSubmit",(function(){return e.onSubmit(e.registerForm.value)})),Uo(6,"fieldset"),Uo(7,"div",5),Bo(8,"input",6),qo(),Uo(9,"div",5),Bo(10,"input",7),qo(),Uo(11,"div",5),Bo(12,"input",8),qo(),qo(),Bo(13,"input",9),jo(14,Bb,3,1,"div",10),Uo(15,"div"),Uo(16,"p",11),vs(17,"Already have an account? "),Uo(18,"a",12),Wo("click",(function(){return e.goToLogin()})),vs(19,"Log In!"),qo(),qo(),qo(),qo(),qo(),qo(),qo()),2&t&&(Br(5),Vo("formGroup",e.registerForm),Br(9),Vo("ngIf",e.errorMessage))},directives:[Bm,xg,Gm,Eg,Ag,Km,nc],styles:[""]}),zb);function Gb(t,e){if(1&t){var n=zo();Uo(0,"app-public-class-widget",5),Wo("toggleLoginEvent",(function(){return hn(n),Yo().toggleLogin()})),qo()}2&t&&is(e.$implicit)}function Wb(t,e){if(1&t){var n=zo();Uo(0,"app-login-widget",6),Wo("closeLoginEvent",(function(){return hn(n),Yo().toggleLogin()}))("toggleLoginRegister",(function(){return hn(n),Yo().toggleLoginRegister()})),qo()}}function Kb(t,e){if(1&t){var n=zo();Uo(0,"app-register-widget",7),Wo("closeRegisterEvent",(function(){return hn(n),Yo().toggleRegister()}))("toggleLoginRegister",(function(){return hn(n),Yo().toggleLoginRegister()})),qo()}}var Qb,Yb=((Qb=function(){function t(e){v(this,t),this.fire=e,this.classes=[],this.loginWidget=!1,this.registerWidget=!1}return g(t,[{key:"ngOnInit",value:function(){this.classObservable()}},{key:"classObservable",value:function(){var t=this;this.fire.getScheduledClasses().subscribe((function(e){t.classes=[],e.map((function(e){var n=new Date;if(new Date(n.getTime()+36e5)<e.datetime.toDate()){var r={uid:e.uid,name:e.name,description:e.description,datetime:e.datetime};t.classes.includes(r)||t.classes.push(r)}}))}))}},{key:"toggleLogin",value:function(){this.loginWidget=!this.loginWidget}},{key:"toggleRegister",value:function(){this.registerWidget=!this.registerWidget}},{key:"toggleLoginRegister",value:function(){this.toggleLogin(),this.toggleRegister()}},{key:"login",value:function(){return this.loginWidget=!0}},{key:"register",value:function(){return this.registerWidget=!0}}]),t}()).\u0275fac=function(t){return new(t||Qb)(Lo(cg))},Qb.\u0275cmp=Se({type:Qb,selectors:[["app-classes"]],decls:5,vars:3,consts:[[1,"container"],[3,"class","toggleLoginEvent",4,"ngFor","ngForOf"],[1,"blank-space"],[3,"closeLoginEvent","toggleLoginRegister",4,"ngIf"],[3,"closeRegisterEvent","toggleLoginRegister",4,"ngIf"],[3,"toggleLoginEvent"],[3,"closeLoginEvent","toggleLoginRegister"],[3,"closeRegisterEvent","toggleLoginRegister"]],template:function(t,e){1&t&&(Uo(0,"div",0),jo(1,Gb,1,2,"app-public-class-widget",1),Bo(2,"div",2),qo(),jo(3,Wb,1,0,"app-login-widget",3),jo(4,Kb,1,0,"app-register-widget",4)),2&t&&(Br(1),Vo("ngForOf",e.classes),Br(2),Vo("ngIf",e.loginWidget),Br(1),Vo("ngIf",e.registerWidget))},directives:[tc,nc,Vb,qb,Hb],styles:[""]}),Qb);function Zb(t,e){if(1&t){var n=zo();Uo(0,"div"),Uo(1,"h2"),vs(2,"Free Remote Yoga Classes"),qo(),Uo(3,"div",4),Uo(4,"p"),vs(5,"Log in to get started!"),qo(),Uo(6,"div",5),Uo(7,"a",6),Wo("click",(function(){return hn(n),Yo().login()})),vs(8,"Log In"),qo(),Uo(9,"a",7),Wo("click",(function(){return hn(n),Yo().register()})),vs(10,"Register"),qo(),qo(),qo(),qo()}}function Xb(t,e){1&t&&Bo(0,"app-public-class-widget"),2&t&&is(e.$implicit)}var $b=function(t){return[t]};function Jb(t,e){if(1&t&&(Uo(0,"div"),Uo(1,"h2"),vs(2,"Next Scheduled Class:"),qo(),jo(3,Xb,1,2,"app-public-class-widget",8),qo()),2&t){var n=Yo();Br(3),Vo("ngForOf",_a(1,$b,n.classes[0]))}}function t_(t,e){if(1&t){var n=zo();Uo(0,"app-login-widget",9),Wo("closeLoginEvent",(function(){return hn(n),Yo().toggleLogin()}))("toggleLoginRegister",(function(){return hn(n),Yo().toggleLoginRegister()})),qo()}}function e_(t,e){if(1&t){var n=zo();Uo(0,"app-register-widget",10),Wo("closeRegisterEvent",(function(){return hn(n),Yo().toggleRegister()}))("toggleLoginRegister",(function(){return hn(n),Yo().toggleLoginRegister()})),qo()}}var n_,r_,i_,o_,s_,a_=((n_=function(){function t(e){v(this,t),this.fire=e,this.classes=[],this.loginWidget=!1,this.registerWidget=!1}return g(t,[{key:"ngOnInit",value:function(){this.userObservable(),this.classObservable()}},{key:"userObservable",value:function(){var t=this;this.fire.user.subscribe((function(e){t.userAuthenticated=!!e}))}},{key:"classObservable",value:function(){var t=this;this.fire.getScheduledClasses().subscribe((function(e){t.classes=[],e.map((function(e){var n=new Date;if(new Date(n.getTime()+36e5)<e.datetime.toDate()){var r={uid:e.uid,name:e.name,description:e.description,datetime:e.datetime};t.classes.includes(r)||t.classes.push(r)}}))}))}},{key:"toggleLogin",value:function(){this.loginWidget=!this.loginWidget}},{key:"toggleRegister",value:function(){this.registerWidget=!this.registerWidget}},{key:"toggleLoginRegister",value:function(){this.toggleLogin(),this.toggleRegister()}},{key:"login",value:function(){return this.loginWidget=!0}},{key:"register",value:function(){return this.registerWidget=!0}}]),t}()).\u0275fac=function(t){return new(t||n_)(Lo(cg))},n_.\u0275cmp=Se({type:n_,selectors:[["app-home"]],decls:5,vars:4,consts:[[1,"container"],[4,"ngIf"],[3,"closeLoginEvent","toggleLoginRegister",4,"ngIf"],[3,"closeRegisterEvent","toggleLoginRegister",4,"ngIf"],[1,"button-card"],[1,"button-container"],[1,"button","button-primary",3,"click"],[1,"button","button-secondary",3,"click"],[3,"class",4,"ngFor","ngForOf"],[3,"closeLoginEvent","toggleLoginRegister"],[3,"closeRegisterEvent","toggleLoginRegister"]],template:function(t,e){1&t&&(Uo(0,"div",0),jo(1,Zb,11,0,"div",1),jo(2,Jb,4,3,"div",1),qo(),jo(3,t_,1,0,"app-login-widget",2),jo(4,e_,1,0,"app-register-widget",3)),2&t&&(Br(1),Vo("ngIf",!e.userAuthenticated),Br(1),Vo("ngIf",e.userAuthenticated),Br(1),Vo("ngIf",e.loginWidget),Br(1),Vo("ngIf",e.registerWidget))},directives:[nc,tc,Vb,qb,Hb],styles:[".button-card[_ngcontent-%COMP%]{display:inline-block;background-color:#fff;box-shadow:0 0 10px 1px rgba(0,0,0,.5);border-radius:3px;padding:16px;margin:16px 0}.button-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{margin:8px 8px 0;display:inline-block}"]}),n_),u_=[{path:"",component:a_},{path:"home",component:a_},{path:"about",component:qy},{path:"classes",component:Yb},{path:"admin",component:Db,canActivate:[(r_=function(){function t(e,n,r){v(this,t),this.fire=e,this.router=n,this.flash=r}return g(t,[{key:"canActivate",value:function(t,e){var n=this;return this.fire.user.pipe(B((function(t){return t?t.admin:null})),Sf((function(t){t||(n.flash.createMessage("You must be logged in as an admin to access the admin page!","danger"),n.router.navigate(["classes"]))})))}}]),t}(),r_.\u0275fac=function(t){return new(t||r_)(se(cg),se(fy),se(eb))},r_.\u0275prov=kt({token:r_,factory:r_.\u0275fac,providedIn:"root"}),r_)]}],c_=((i_=function t(){v(this,t)}).\u0275mod=Oe({type:i_}),i_.\u0275inj=Et({factory:function(t){return new(t||i_)},imports:[[xy.forRoot(u_)],xy]}),i_),l_={type:7,name:"fadeAnimation",definitions:[function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:t,animation:e,options:n}}("* => *",[Xc(":enter",[Zc({opacity:0})],{optional:!0}),Xc(":leave",[Zc({opacity:1}),Qc("0.5s",Zc({opacity:0}))],{optional:!0}),Xc(":enter",[Zc({opacity:0}),Qc("0.5s",Zc({opacity:1}))],{optional:!0})])],options:{}},h_=((s_=function(){function t(){v(this,t),this.selectedPage=this.getPageName()?this.getPageName():"home"}return g(t,[{key:"ngOnInit",value:function(){this.titleAnimation()}},{key:"getPageName",value:function(){return window.location.pathname.substring(1)}},{key:"select",value:function(t){var e=this;this.selectedPage=t,"home"!=this.selectedPage&&this.hideTitle(),setTimeout((function(){e.titleAnimation()}),500)}},{key:"titleAnimation",value:function(){var t=screen.width;document.getElementById("spacer").style.height=t>=500&&"home"==this.selectedPage?"20vh":"0px",this.hideTitle();var e=document.getElementById("links").clientHeight.toString();document.getElementById("nav-container").style.height="home"==this.selectedPage?"100%":e+"px",document.getElementById("nav-bar").style.height="home"==this.selectedPage?"auto":e+"px"}},{key:"hideTitle",value:function(){document.getElementById("title").style.opacity="home"==this.selectedPage?"1":"0"}}]),t}()).\u0275fac=function(t){return new(t||s_)},s_.\u0275cmp=Se({type:s_,selectors:[["app-nav-bar"]],decls:18,vars:3,consts:[["id","nav-container"],["id","spacer"],["id","nav-bar"],["id","links"],["routerLink","classes",3,"ngClass","click"],["routerLink","home",3,"ngClass","click"],["routerLink","about",3,"ngClass","click"],["id","title"]],template:function(t,e){1&t&&(Uo(0,"nav",0),Bo(1,"div",1),Uo(2,"div",2),Uo(3,"ul",3),Uo(4,"li"),Uo(5,"a",4),Wo("click",(function(){return e.select("classes")})),Uo(6,"span"),vs(7,"Classes"),qo(),qo(),qo(),Uo(8,"li"),Uo(9,"a",5),Wo("click",(function(){return e.select("home")})),Uo(10,"span"),vs(11,"Home"),qo(),qo(),qo(),Uo(12,"li"),Uo(13,"a",6),Wo("click",(function(){return e.select("about")})),Uo(14,"span"),vs(15,"About"),qo(),qo(),qo(),qo(),Uo(16,"h1",7),vs(17,"Yoga By Katie"),qo(),qo(),qo()),2&t&&(Br(5),Vo("ngClass","classes"==e.selectedPage?"selected":"none"),Br(4),Vo("ngClass","home"==e.selectedPage?"selected":"none"),Br(4),Vo("ngClass","about"==e.selectedPage?"selected":"none"))},directives:[py,$u],styles:['@import url("https://fonts.googleapis.com/css2?family=Satisfy&display=swap");nav[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:center;width:100%;height:100%;margin:1rem 0;transition:height 2s ease}nav[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%}#spacer[_ngcontent-%COMP%]{height:20vh;width:100%}#nav-bar[_ngcontent-%COMP%], #spacer[_ngcontent-%COMP%]{transition:height 2s ease}#nav-bar[_ngcontent-%COMP%]{margin:0 10px}ul[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;flex-wrap:wrap;list-style-type:none}li[_ngcontent-%COMP%]{width:33%;min-width:100px}li[_ngcontent-%COMP%]:hover > a[_ngcontent-%COMP%]{cursor:pointer}a[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:.3rem;border-radius:5px;text-decoration:none;color:#333;transition:color .6s ease}h1[_ngcontent-%COMP%]{font-family:Satisfy,cursive;font-size:4rem;font-weight:lighter;text-align:center;border-top:1px solid #333;border-bottom:1px solid #333;transition:opacity .5s ease-in-out,transform 1s ease;transform-origin:top}.selected[_ngcontent-%COMP%]{color:#9370db;font-weight:700}@media only screen and (max-width:500px){#spacer[_ngcontent-%COMP%]{height:0}}']}),s_),f_=((o_=function(){function t(){v(this,t),this.closeEvent=new wa,this.deleteUserEvent=new wa}return g(t,[{key:"ngOnInit",value:function(){}},{key:"close",value:function(){this.closeEvent.emit(!0)}},{key:"deleteUser",value:function(){this.deleteUserEvent.emit(!0)}}]),t}()).\u0275fac=function(t){return new(t||o_)},o_.\u0275cmp=Se({type:o_,selectors:[["app-delete-account-prompt-widget"]],outputs:{closeEvent:"closeEvent",deleteUserEvent:"deleteUserEvent"},decls:10,vars:0,consts:[["id","grey",1,"grey","fadeIn"],[1,"form-container"],[1,"card","form"],[1,"submit"],[1,"button","button-danger",3,"click"],[1,"button",3,"click"]],template:function(t,e){1&t&&(Uo(0,"div",0),Uo(1,"div",1),Uo(2,"div",2),Uo(3,"p"),vs(4,"Are you sure you want to delete your account?"),qo(),Uo(5,"div",3),Uo(6,"a",4),Wo("click",(function(){return e.deleteUser()})),vs(7,"Delete"),qo(),Uo(8,"a",5),Wo("click",(function(){return e.close()})),vs(9,"Cancel"),qo(),qo(),qo(),qo(),qo())},styles:[""]}),o_);function d_(t,e){1&t&&(Uo(0,"i",7),vs(1,"keyboard_arrow_down"),qo())}function p_(t,e){1&t&&(Uo(0,"i",7),vs(1,"account_circle"),qo())}function v_(t,e){if(1&t){var n=zo();Uo(0,"div",9),Wo("click",(function(){return hn(n),Yo(3).toggleSelect()})),Uo(1,"p"),vs(2,"Admin Dashboard"),qo(),qo()}}function y_(t,e){if(1&t){var n=zo();Uo(0,"div"),jo(1,v_,3,0,"div",8),Uo(2,"div",3),Wo("click",(function(){return hn(n),Yo(2).toggleDeletePrompt()})),Uo(3,"p"),vs(4,"Delete Account"),qo(),qo(),Uo(5,"div",3),Wo("click",(function(){return hn(n),Yo(2).logout()})),Uo(6,"p"),vs(7,"Log Out"),qo(),qo(),qo()}if(2&t){var r=Yo(2);Br(1),Vo("ngIf",r.admin)}}function g_(t,e){if(1&t){var n=zo();Uo(0,"div",2),Uo(1,"div",3),Wo("click",(function(){return hn(n),Yo().toggleSelect()})),Uo(2,"p"),vs(3,"Logged in as: "),Uo(4,"span",4),vs(5),qo(),qo(),jo(6,d_,2,0,"i",5),jo(7,p_,2,0,"i",5),qo(),jo(8,y_,8,1,"div",6),qo()}if(2&t){var r=Yo();Br(5),ys(r.loggedInUser),Br(1),Vo("ngIf",r.selected),Br(1),Vo("ngIf",!r.selected),Br(1),Vo("ngIf",r.selected)}}function m_(t,e){if(1&t){var n=zo();Uo(0,"app-delete-account-prompt-widget",10),Wo("closeEvent",(function(){return hn(n),Yo().toggleDeletePrompt()}))("deleteUserEvent",(function(){return hn(n),Yo().deleteUser()})),qo()}}var b_,__=((b_=function(){function t(e,n){v(this,t),this.fire=e,this.flash=n,this.deletePrompt=!1}return g(t,[{key:"ngOnInit",value:function(){this.userObservable()}},{key:"userObservable",value:function(){var t=this;this.fire.user.subscribe((function(e){t.loggedInUser=e?e.email:null,t.admin=!!e&&e.admin}))}},{key:"toggleSelect",value:function(){this.selected=!this.selected}},{key:"logout",value:function(){var t=this;this.toggleSelect(),this.fire.logout().then((function(e){t.flash.createMessage("You successfully logged out.","success")})).catch((function(e){t.flash.createMessage("Something went wrong, please try again!","danger")}))}},{key:"toggleDeletePrompt",value:function(){this.deletePrompt=!this.deletePrompt,this.selected=!1}},{key:"deleteUser",value:function(){var t=this;this.fire.deleteUser().then((function(){t.flash.createMessage("Account was successfully deleted.","success"),t.toggleDeletePrompt()})).catch((function(e){t.flash.createMessage(e,"danger")}))}}]),t}()).\u0275fac=function(t){return new(t||b_)(Lo(cg),Lo(eb))},b_.\u0275cmp=Se({type:b_,selectors:[["app-account-info-widget"]],decls:2,vars:2,consts:[["class","icon fadeIn",4,"ngIf"],[3,"closeEvent","deleteUserEvent",4,"ngIf"],[1,"icon","fadeIn"],[1,"item",3,"click"],[1,"satisfy"],["class","material-icons",4,"ngIf"],[4,"ngIf"],[1,"material-icons"],["routerLink","admin","class","item",3,"click",4,"ngIf"],["routerLink","admin",1,"item",3,"click"],[3,"closeEvent","deleteUserEvent"]],template:function(t,e){1&t&&(jo(0,g_,9,4,"div",0),jo(1,m_,1,0,"app-delete-account-prompt-widget",1)),2&t&&(Vo("ngIf",e.loggedInUser),Br(1),Vo("ngIf",e.deletePrompt))},directives:[nc,dy,f_],styles:[".icon[_ngcontent-%COMP%]{position:fixed;display:flex;flex-wrap:wrap;flex-direction:column;align-items:center;bottom:0;right:16px;padding:8px;max-width:95vw;background-color:#fff;box-shadow:0 0 10px 1px rgba(0,0,0,.5);border-radius:3px 3px 0 0;transition:transform 1s ease}.icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;margin-left:8px}.icon[_ngcontent-%COMP%]:hover > .icon[_ngcontent-%COMP%]:first-child{cursor:pointer;color:#9370db}.item[_ngcontent-%COMP%]{display:flex;align-items:center}.item[_ngcontent-%COMP%]:hover{cursor:pointer;color:#9370db}@media only screen and (max-width:500px){.icon[_ngcontent-%COMP%]{right:8px}}"]}),b_);function w_(t,e){if(1&t){var n=zo();Uo(0,"div"),Uo(1,"p"),vs(2),qo(),Uo(3,"div",4),Uo(4,"i",5),Wo("click",(function(){hn(n);var t=Yo().index;return Yo(2).dismiss(t)})),vs(5,"close"),qo(),qo(),qo()}if(2&t){var r=Yo().$implicit;ms("message message-",r.style,""),Br(2),gs(" ",r.message," "),Br(2),ms("material-icons close close-",r.style,"")}}function k_(t,e){if(1&t&&(Uo(0,"div"),jo(1,w_,6,7,"div",3),qo()),2&t){var n=e.$implicit;Br(1),Vo("ngIf",!n.dismissed)}}function E_(t,e){if(1&t&&(Uo(0,"div",1),jo(1,k_,2,1,"div",2),qo()),2&t){var n=Yo();Br(1),Vo("ngForOf",n.messages)}}var S_,C_,I_,T_=((I_=function(){function t(e){v(this,t),this.flash=e}return g(t,[{key:"ngOnInit",value:function(){this.getMessages()}},{key:"getMessages",value:function(){this.messages=this.flash.messages}},{key:"dismiss",value:function(t){this.messages.splice(t,1)}}]),t}()).\u0275fac=function(t){return new(t||I_)(Lo(eb))},I_.\u0275cmp=Se({type:I_,selectors:[["app-flash-messages-widget"]],decls:1,vars:1,consts:[["class","messages",4,"ngIf"],[1,"messages"],[4,"ngFor","ngForOf"],[3,"class",4,"ngIf"],[1,"icon-container"],[3,"click"]],template:function(t,e){1&t&&jo(0,E_,2,1,"div",0),2&t&&Vo("ngIf",e.messages)},directives:[nc,tc],styles:['.messages[_ngcontent-%COMP%]{position:fixed;top:0;right:8px;z-index:100}.message[_ngcontent-%COMP%]{position:relative;margin:8px;padding:8px;border-radius:3px;box-shadow:0 0 10px 1px rgba(0,0,0,.3);display:flex;justify-content:space-between;width:500px;max-width:95vw;vertical-align:center}.message-info[_ngcontent-%COMP%]{color:#fff;background-color:#9370db}.message-success[_ngcontent-%COMP%]{color:#333;background-color:#90ee90}.message-danger[_ngcontent-%COMP%]{color:#fff;background-color:tomato}.close[_ngcontent-%COMP%]{display:block;color:#fff;font-size:1rem}.close-success[_ngcontent-%COMP%]{color:#333}.icon-container[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;padding-bottom:100%}.li[_ngcontent-%COMP%]{height:100%;background-color:#3cb371}.fadeInFlash[_ngcontent-%COMP%]{-webkit-animation:fadeInFlash 1s ease forwards;animation:fadeInFlash 1s ease forwards}.fadeOutFlash[_ngcontent-%COMP%]{transform-origin:top;-webkit-animation:fadeOutFlash 1s ease forwards;animation:fadeOutFlash 1s ease forwards}@-webkit-keyframes fadeInFlash{0%{opacity:0}to{opacity:1}}@keyframes fadeInFlash{0%{opacity:0}to{opacity:1}}@-webkit-keyframes fadeOutFlash{0%{opacity:1;transform:scaleY(1)}to{opacity:0;transform:scaleY(0)}}@keyframes fadeOutFlash{0%{opacity:1;transform:scaleY(1)}to{opacity:0;transform:scaleY(0)}}@media only screen and (max-width:500px){.messages[_ngcontent-%COMP%]{top:auto;bottom:8px;left:0;right:0}.message[_ngcontent-%COMP%]{width:95vw}}']}),I_),O_=((C_=function(){function t(e){v(this,t),this.fire=e,this.title="YogaByKatie"}return g(t,[{key:"getLoggedInUser",value:function(){return this.fire.user}}]),t}()).\u0275fac=function(t){return new(t||C_)(Lo(cg))},C_.\u0275cmp=Se({type:C_,selectors:[["app-root"]],decls:6,vars:1,consts:[["o","outlet"],["id","account-info-tab"]],template:function(t,e){if(1&t&&(Bo(0,"app-nav-bar"),Uo(1,"main"),Bo(2,"router-outlet",null,0),qo(),Bo(4,"app-account-info-widget",1),Bo(5,"app-flash-messages-widget")),2&t){var n=an.lFrame.contextLView[23];Br(1),Vo("@fadeAnimation",n.isActivated?n.activatedRoute:"")}},directives:[h_,by,__,T_],styles:[""],data:{animation:[l_]}}),C_),A_=((S_=function t(){v(this,t)}).\u0275mod=Oe({type:S_,bootstrap:[O_]}),S_.\u0275inj=Et({factory:function(t){return new(t||S_)},providers:[cg],imports:[[Wc,c_,vf,$m,Jm,od.initializeApp(mu)]]}),S_);(function(){if(_r)throw new Error("Cannot enable prod mode after platform setup.");br=!1})(),Hc().bootstrapModule(A_).catch((function(t){return console.error(t)}))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]])}();